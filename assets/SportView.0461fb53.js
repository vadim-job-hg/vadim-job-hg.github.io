import{r as ci,o as di,c as an,a as re,p as uu,w as fu,e as Vr,l as hu,q as cu,v as _u,F as du,i as pu,t as mu,b as gu,x as vu,d as yu,j as bu}from"./index.e4eb0e61.js";var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ki={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Js;function Ma(){return Js||(Js=1,function(e,s){(function(n,r){r(s)})(Ca,function(n){var r="1.9.4";function u(t){var i,a,o,f;for(a=1,o=arguments.length;a<o;a++){f=arguments[a];for(i in f)t[i]=f[i]}return t}var l=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function c(t,i){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var o=a.call(arguments,2);return function(){return t.apply(i,o.length?o.concat(a.call(arguments)):arguments)}}var _=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function d(t,i,a){var o,f,h,g;return g=function(){o=!1,f&&(h.apply(a,f),f=!1)},h=function(){o?f=arguments:(t.apply(a,arguments),setTimeout(g,i),o=!0)},h}function p(t,i,a){var o=i[1],f=i[0],h=o-f;return t===o&&a?t:((t-f)%h+h)%h+f}function w(){return!1}function b(t,i){if(i===!1)return t;var a=Math.pow(10,i===void 0?6:i);return Math.round(t*a)/a}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function E(t){return x(t).split(/\s+/)}function T(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var a in i)t.options[a]=i[a];return t.options}function I(t,i,a){var o=[];for(var f in t)o.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(t[f]));return(!i||i.indexOf("?")===-1?"?":"&")+o.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function D(t,i){return t.replace(M,function(a,o){var f=i[o];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(i)),f})}var N=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function z(t,i){for(var a=0;a<t.length;a++)if(t[a]===i)return a;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Z=0;function A(t){var i=+new Date,a=Math.max(0,16-(i-Z));return Z=i+a,window.setTimeout(t,a)}var B=window.requestAnimationFrame||U("RequestAnimationFrame")||A,q=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,i,a){if(a&&B===A)t.call(i);else return B.call(window,c(t,i))}function j(t){t&&q.call(window,t)}var at={__proto__:null,extend:u,create:l,bind:c,get lastId(){return _},stamp:m,throttle:d,wrapNum:p,falseFn:w,formatNum:b,trim:x,splitWords:E,setOptions:T,getParamString:I,template:D,isArray:N,indexOf:z,emptyImageUrl:P,requestFn:B,cancelFn:q,requestAnimFrame:C,cancelAnimFrame:j};function yt(){}yt.extend=function(t){var i=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,o=l(a);o.constructor=i,i.prototype=o;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(i[f]=this[f]);return t.statics&&u(i,t.statics),t.includes&&(Ci(t.includes),u.apply(null,[o].concat(t.includes))),u(o,t),delete o.statics,delete o.includes,o.options&&(o.options=a.options?l(a.options):{},u(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,g=o._initHooks.length;h<g;h++)o._initHooks[h].call(this)}},i},yt.include=function(t){var i=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},yt.mergeOptions=function(t){return u(this.prototype.options,t),this},yt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function Ci(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=N(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pt={on:function(t,i,a){if(typeof t=="object")for(var o in t)this._on(o,t[o],i);else{t=E(t);for(var f=0,h=t.length;f<h;f++)this._on(t[f],i,a)}return this},off:function(t,i,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var o in t)this._off(o,t[o],i);else{t=E(t);for(var f=arguments.length===1,h=0,g=t.length;h<g;h++)f?this._off(t[h]):this._off(t[h],i,a)}return this},_on:function(t,i,a,o){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,a)===!1){a===this&&(a=void 0);var f={fn:i,ctx:a};o&&(f.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(f)}},_off:function(t,i,a){var o,f,h;if(!!this._events&&(o=this._events[t],!!o)){if(arguments.length===1){if(this._firingCount)for(f=0,h=o.length;f<h;f++)o[f].fn=w;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var g=this._listens(t,i,a);if(g!==!1){var v=o[g];this._firingCount&&(v.fn=w,this._events[t]=o=o.slice()),o.splice(g,1)}}},fire:function(t,i,a){if(!this.listens(t,a))return this;var o=u({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var f=this._events[t];if(f){this._firingCount=this._firingCount+1||1;for(var h=0,g=f.length;h<g;h++){var v=f[h],y=v.fn;v.once&&this.off(t,y,v.ctx),y.call(v.ctx||this,o)}this._firingCount--}}return a&&this._propagateEvent(o),this},listens:function(t,i,a,o){typeof t!="string"&&console.warn('"string" type argument expected');var f=i;typeof i!="function"&&(o=!!i,f=void 0,a=void 0);var h=this._events&&this._events[t];if(h&&h.length&&this._listens(t,f,a)!==!1)return!0;if(o){for(var g in this._eventParents)if(this._eventParents[g].listens(t,i,a,o))return!0}return!1},_listens:function(t,i,a){if(!this._events)return!1;var o=this._events[t]||[];if(!i)return!!o.length;a===this&&(a=void 0);for(var f=0,h=o.length;f<h;f++)if(o[f].fn===i&&o[f].ctx===a)return f;return!1},once:function(t,i,a){if(typeof t=="object")for(var o in t)this._on(o,t[o],i,!0);else{t=E(t);for(var f=0,h=t.length;f<h;f++)this._on(t[f],i,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};pt.addEventListener=pt.on,pt.removeEventListener=pt.clearAllEventListeners=pt.off,pt.addOneTimeEventListener=pt.once,pt.fireEvent=pt.fire,pt.hasEventListeners=pt.listens;var Zt=yt.extend(pt);function R(t,i,a){this.x=a?Math.round(t):t,this.y=a?Math.round(i):i}var Ua=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(t){return this.clone()._add(H(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(H(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new R(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new R(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ua(this.x),this.y=Ua(this.y),this},distanceTo:function(t){t=H(t);var i=t.x-this.x,a=t.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(t){return t=H(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=H(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function H(t,i,a){return t instanceof R?t:N(t)?new R(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new R(t.x,t.y):new R(t,i,a)}function it(t,i){if(!!t)for(var a=i?[t,i]:t,o=0,f=a.length;o<f;o++)this.extend(a[o])}it.prototype={extend:function(t){var i,a;if(!t)return this;if(t instanceof R||typeof t[0]=="number"||"x"in t)i=a=H(t);else if(t=bt(t),i=t.min,a=t.max,!i||!a)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=a.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,a;return typeof t[0]=="number"||t instanceof R?t=H(t):t=bt(t),t instanceof it?(i=t.min,a=t.max):i=a=t,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=bt(t);var i=this.min,a=this.max,o=t.min,f=t.max,h=f.x>=i.x&&o.x<=a.x,g=f.y>=i.y&&o.y<=a.y;return h&&g},overlaps:function(t){t=bt(t);var i=this.min,a=this.max,o=t.min,f=t.max,h=f.x>i.x&&o.x<a.x,g=f.y>i.y&&o.y<a.y;return h&&g},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,a=this.max,o=Math.abs(i.x-a.x)*t,f=Math.abs(i.y-a.y)*t;return bt(H(i.x-o,i.y-f),H(a.x+o,a.y+f))},equals:function(t){return t?(t=bt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function bt(t,i){return!t||t instanceof it?t:new it(t,i)}function wt(t,i){if(!!t)for(var a=i?[t,i]:t,o=0,f=a.length;o<f;o++)this.extend(a[o])}wt.prototype={extend:function(t){var i=this._southWest,a=this._northEast,o,f;if(t instanceof Q)o=t,f=t;else if(t instanceof wt){if(o=t._southWest,f=t._northEast,!o||!f)return this}else return t?this.extend(K(t)||lt(t)):this;return!i&&!a?(this._southWest=new Q(o.lat,o.lng),this._northEast=new Q(f.lat,f.lng)):(i.lat=Math.min(o.lat,i.lat),i.lng=Math.min(o.lng,i.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(t){var i=this._southWest,a=this._northEast,o=Math.abs(i.lat-a.lat)*t,f=Math.abs(i.lng-a.lng)*t;return new wt(new Q(i.lat-o,i.lng-f),new Q(a.lat+o,a.lng+f))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Q||"lat"in t?t=K(t):t=lt(t);var i=this._southWest,a=this._northEast,o,f;return t instanceof wt?(o=t.getSouthWest(),f=t.getNorthEast()):o=f=t,o.lat>=i.lat&&f.lat<=a.lat&&o.lng>=i.lng&&f.lng<=a.lng},intersects:function(t){t=lt(t);var i=this._southWest,a=this._northEast,o=t.getSouthWest(),f=t.getNorthEast(),h=f.lat>=i.lat&&o.lat<=a.lat,g=f.lng>=i.lng&&o.lng<=a.lng;return h&&g},overlaps:function(t){t=lt(t);var i=this._southWest,a=this._northEast,o=t.getSouthWest(),f=t.getNorthEast(),h=f.lat>i.lat&&o.lat<a.lat,g=f.lng>i.lng&&o.lng<a.lng;return h&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=lt(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function lt(t,i){return t instanceof wt?t:new wt(t,i)}function Q(t,i,a){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,a!==void 0&&(this.alt=+a)}Q.prototype={equals:function(t,i){if(!t)return!1;t=K(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+b(this.lat,t)+", "+b(this.lng,t)+")"},distanceTo:function(t){return te.distance(this,K(t))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,a=i/Math.cos(Math.PI/180*this.lat);return lt([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function K(t,i,a){return t instanceof Q?t:N(t)&&typeof t[0]!="object"?t.length===3?new Q(t[0],t[1],t[2]):t.length===2?new Q(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Q(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new Q(t,i,a)}var Vt={latLngToPoint:function(t,i){var a=this.projection.project(t),o=this.scale(i);return this.transformation._transform(a,o)},pointToLatLng:function(t,i){var a=this.scale(i),o=this.transformation.untransform(t,a);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(t),o=this.transformation.transform(i.min,a),f=this.transformation.transform(i.max,a);return new it(o,f)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?p(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?p(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return new Q(a,i,o)},wrapLatLngBounds:function(t){var i=t.getCenter(),a=this.wrapLatLng(i),o=i.lat-a.lat,f=i.lng-a.lng;if(o===0&&f===0)return t;var h=t.getSouthWest(),g=t.getNorthEast(),v=new Q(h.lat-o,h.lng-f),y=new Q(g.lat-o,g.lng-f);return new wt(v,y)}},te=u({},Vt,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var a=Math.PI/180,o=t.lat*a,f=i.lat*a,h=Math.sin((i.lat-t.lat)*a/2),g=Math.sin((i.lng-t.lng)*a/2),v=h*h+Math.cos(o)*Math.cos(f)*g*g,y=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*y}}),Ha=6378137,bn={R:Ha,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,a=this.MAX_LATITUDE,o=Math.max(Math.min(a,t.lat),-a),f=Math.sin(o*i);return new R(this.R*t.lng*i,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(t){var i=180/Math.PI;return new Q((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Ha*Math.PI;return new it([-t,-t],[t,t])}()};function wn(t,i,a,o){if(N(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=a,this._d=o}wn.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new R((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Ke(t,i,a,o){return new wn(t,i,a,o)}var xn=u({},te,{code:"EPSG:3857",projection:bn,transformation:function(){var t=.5/(Math.PI*bn.R);return Ke(t,.5,-t,.5)}()}),Ro=u({},xn,{code:"EPSG:900913"});function Ga(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Wa(t,i){var a="",o,f,h,g,v,y;for(o=0,h=t.length;o<h;o++){for(v=t[o],f=0,g=v.length;f<g;f++)y=v[f],a+=(f?"L":"M")+y.x+" "+y.y;a+=i?O.svg?"z":"x":""}return a||"M0 0"}var kn=document.documentElement.style,Mi="ActiveXObject"in window,Do=Mi&&!document.addEventListener,ja="msLaunchUri"in navigator&&!("documentMode"in document),Tn=Bt("webkit"),Va=Bt("android"),qa=Bt("android 2")||Bt("android 3"),Uo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ho=Va&&Bt("Google")&&Uo<537&&!("AudioNode"in window),Ln=!!window.opera,$a=!ja&&Bt("chrome"),Ka=Bt("gecko")&&!Tn&&!Ln&&!Mi,Go=!$a&&Bt("safari"),Ya=Bt("phantom"),Xa="OTransition"in kn,Wo=navigator.platform.indexOf("Win")===0,Ja=Mi&&"transition"in kn,En="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qa,Qa="MozPerspective"in kn,jo=!window.L_DISABLE_3D&&(Ja||En||Qa)&&!Xa&&!Ya,Ye=typeof orientation<"u"||Bt("mobile"),Vo=Ye&&Tn,qo=Ye&&En,ts=!window.PointerEvent&&window.MSPointerEvent,es=!!(window.PointerEvent||ts),is="ontouchstart"in window||!!window.TouchEvent,$o=!window.L_NO_TOUCH&&(is||es),Ko=Ye&&Ln,Yo=Ye&&Ka,Xo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",w,i),window.removeEventListener("testPassiveEventSupport",w,i)}catch{}return t}(),Qo=function(){return!!document.createElement("canvas").getContext}(),Pn=!!(document.createElementNS&&Ga("svg").createSVGRect),tl=!!Pn&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),el=!Pn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),il=navigator.platform.indexOf("Mac")===0,nl=navigator.platform.indexOf("Linux")===0;function Bt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var O={ie:Mi,ielt9:Do,edge:ja,webkit:Tn,android:Va,android23:qa,androidStock:Ho,opera:Ln,chrome:$a,gecko:Ka,safari:Go,phantom:Ya,opera12:Xa,win:Wo,ie3d:Ja,webkit3d:En,gecko3d:Qa,any3d:jo,mobile:Ye,mobileWebkit:Vo,mobileWebkit3d:qo,msPointer:ts,pointer:es,touch:$o,touchNative:is,mobileOpera:Ko,mobileGecko:Yo,retina:Xo,passiveEvents:Jo,canvas:Qo,svg:Pn,vml:el,inlineSvg:tl,mac:il,linux:nl},ns=O.msPointer?"MSPointerDown":"pointerdown",as=O.msPointer?"MSPointerMove":"pointermove",ss=O.msPointer?"MSPointerUp":"pointerup",rs=O.msPointer?"MSPointerCancel":"pointercancel",Sn={touchstart:ns,touchmove:as,touchend:ss,touchcancel:rs},os={touchstart:ul,touchmove:zi,touchend:zi,touchcancel:zi},Ce={},ls=!1;function al(t,i,a){return i==="touchstart"&&ll(),os[i]?(a=os[i].bind(this,a),t.addEventListener(Sn[i],a,!1),a):(console.warn("wrong event specified:",i),w)}function sl(t,i,a){if(!Sn[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Sn[i],a,!1)}function rl(t){Ce[t.pointerId]=t}function ol(t){Ce[t.pointerId]&&(Ce[t.pointerId]=t)}function us(t){delete Ce[t.pointerId]}function ll(){ls||(document.addEventListener(ns,rl,!0),document.addEventListener(as,ol,!0),document.addEventListener(ss,us,!0),document.addEventListener(rs,us,!0),ls=!0)}function zi(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var a in Ce)i.touches.push(Ce[a]);i.changedTouches=[i],t(i)}}function ul(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&_t(i),zi(t,i)}function fl(t){var i={},a,o;for(o in t)a=t[o],i[o]=a&&a.bind?a.bind(t):a;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var hl=200;function cl(t,i){t.addEventListener("dblclick",i);var a=0,o;function f(h){if(h.detail!==1){o=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var g=ds(h);if(!(g.some(function(y){return y instanceof HTMLLabelElement&&y.attributes.for})&&!g.some(function(y){return y instanceof HTMLInputElement||y instanceof HTMLSelectElement}))){var v=Date.now();v-a<=hl?(o++,o===2&&i(fl(h))):o=1,a=v}}}return t.addEventListener("click",f),{dblclick:i,simDblclick:f}}function _l(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Cn=Ii(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xe=Ii(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fs=Xe==="webkitTransition"||Xe==="OTransition"?Xe+"End":"transitionend";function hs(t){return typeof t=="string"?document.getElementById(t):t}function Je(t,i){var a=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!a||a==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);a=o?o[i]:null}return a==="auto"?null:a}function X(t,i,a){var o=document.createElement(t);return o.className=i||"",a&&a.appendChild(o),o}function nt(t){var i=t.parentNode;i&&i.removeChild(t)}function Ai(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Me(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function ze(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Mn(t,i){if(t.classList!==void 0)return t.classList.contains(i);var a=Oi(t);return a.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(a)}function W(t,i){if(t.classList!==void 0)for(var a=E(i),o=0,f=a.length;o<f;o++)t.classList.add(a[o]);else if(!Mn(t,i)){var h=Oi(t);zn(t,(h?h+" ":"")+i)}}function st(t,i){t.classList!==void 0?t.classList.remove(i):zn(t,x((" "+Oi(t)+" ").replace(" "+i+" "," ")))}function zn(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Oi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Et(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&dl(t,i)}function dl(t,i){var a=!1,o="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(o)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):t.style.filter+=" progid:"+o+"(opacity="+i+")"}function Ii(t){for(var i=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in i)return t[a];return!1}function ce(t,i,a){var o=i||new R(0,0);t.style[Cn]=(O.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(a?" scale("+a+")":"")}function ut(t,i){t._leaflet_pos=i,O.any3d?ce(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function _e(t){return t._leaflet_pos||new R(0,0)}var Qe,ti,An;if("onselectstart"in document)Qe=function(){G(window,"selectstart",_t)},ti=function(){tt(window,"selectstart",_t)};else{var ei=Ii(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qe=function(){if(ei){var t=document.documentElement.style;An=t[ei],t[ei]="none"}},ti=function(){ei&&(document.documentElement.style[ei]=An,An=void 0)}}function On(){G(window,"dragstart",_t)}function In(){tt(window,"dragstart",_t)}var Ni,Nn;function Zn(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(Zi(),Ni=t,Nn=t.style.outlineStyle,t.style.outlineStyle="none",G(window,"keydown",Zi))}function Zi(){!Ni||(Ni.style.outlineStyle=Nn,Ni=void 0,Nn=void 0,tt(window,"keydown",Zi))}function cs(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Bn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var pl={__proto__:null,TRANSFORM:Cn,TRANSITION:Xe,TRANSITION_END:fs,get:hs,getStyle:Je,create:X,remove:nt,empty:Ai,toFront:Me,toBack:ze,hasClass:Mn,addClass:W,removeClass:st,setClass:zn,getClass:Oi,setOpacity:Et,testProp:Ii,setTransform:ce,setPosition:ut,getPosition:_e,get disableTextSelection(){return Qe},get enableTextSelection(){return ti},disableImageDrag:On,enableImageDrag:In,preventOutline:Zn,restoreOutline:Zi,getSizedParentNode:cs,getScale:Bn};function G(t,i,a,o){if(i&&typeof i=="object")for(var f in i)Rn(t,f,i[f],a);else{i=E(i);for(var h=0,g=i.length;h<g;h++)Rn(t,i[h],a,o)}return this}var Ft="_leaflet_events";function tt(t,i,a,o){if(arguments.length===1)_s(t),delete t[Ft];else if(i&&typeof i=="object")for(var f in i)Dn(t,f,i[f],a);else if(i=E(i),arguments.length===2)_s(t,function(v){return z(i,v)!==-1});else for(var h=0,g=i.length;h<g;h++)Dn(t,i[h],a,o);return this}function _s(t,i){for(var a in t[Ft]){var o=a.split(/\d/)[0];(!i||i(o))&&Dn(t,o,null,null,a)}}var Fn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(t,i,a,o){var f=i+m(a)+(o?"_"+m(o):"");if(t[Ft]&&t[Ft][f])return this;var h=function(v){return a.call(o||t,v||window.event)},g=h;!O.touchNative&&O.pointer&&i.indexOf("touch")===0?h=al(t,i,h):O.touch&&i==="dblclick"?h=cl(t,h):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Fn[i]||i,h,O.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(h=function(v){v=v||window.event,Hn(t,v)&&g(v)},t.addEventListener(Fn[i],h,!1)):t.addEventListener(i,g,!1):t.attachEvent("on"+i,h),t[Ft]=t[Ft]||{},t[Ft][f]=h}function Dn(t,i,a,o,f){f=f||i+m(a)+(o?"_"+m(o):"");var h=t[Ft]&&t[Ft][f];if(!h)return this;!O.touchNative&&O.pointer&&i.indexOf("touch")===0?sl(t,i,h):O.touch&&i==="dblclick"?_l(t,h):"removeEventListener"in t?t.removeEventListener(Fn[i]||i,h,!1):t.detachEvent("on"+i,h),t[Ft][f]=null}function de(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Un(t){return Rn(t,"wheel",de),this}function ii(t){return G(t,"mousedown touchstart dblclick contextmenu",de),t._leaflet_disable_click=!0,this}function _t(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function pe(t){return _t(t),de(t),this}function ds(t){if(t.composedPath)return t.composedPath();for(var i=[],a=t.target;a;)i.push(a),a=a.parentNode;return i}function ps(t,i){if(!i)return new R(t.clientX,t.clientY);var a=Bn(i),o=a.boundingClientRect;return new R((t.clientX-o.left)/a.x-i.clientLeft,(t.clientY-o.top)/a.y-i.clientTop)}var ml=O.linux&&O.chrome?window.devicePixelRatio:O.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ms(t){return O.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ml:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Hn(t,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var gl={__proto__:null,on:G,off:tt,stopPropagation:de,disableScrollPropagation:Un,disableClickPropagation:ii,preventDefault:_t,stop:pe,getPropagationPath:ds,getMousePosition:ps,getWheelDelta:ms,isExternalTarget:Hn,addListener:G,removeListener:tt},gs=Zt.extend({run:function(t,i,a,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=_e(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var a=this._startPos.add(this._offset.multiplyBy(t));i&&a._round(),ut(this._el,a),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Y=Zt.extend({options:{crs:xn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=T(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(K(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xe&&O.any3d&&!O.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,fs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(K(t),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=u({animate:a.animate},a.zoom),a.pan=u({animate:a.animate,duration:a.duration},a.pan));var o=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,a.zoom):this._tryAnimatedPan(t,a.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(O.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(O.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,a){var o=this.getZoomScale(i),f=this.getSize().divideBy(2),h=t instanceof R?t:this.latLngToContainerPoint(t),g=h.subtract(f).multiplyBy(1-1/o),v=this.containerPointToLatLng(f.add(g));return this.setView(v,i,{zoom:a})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():lt(t);var a=H(i.paddingTopLeft||i.padding||[0,0]),o=H(i.paddingBottomRight||i.padding||[0,0]),f=this.getBoundsZoom(t,!1,a.add(o));if(f=typeof i.maxZoom=="number"?Math.min(i.maxZoom,f):f,f===1/0)return{center:t.getCenter(),zoom:f};var h=o.subtract(a).divideBy(2),g=this.project(t.getSouthWest(),f),v=this.project(t.getNorthEast(),f),y=this.unproject(g.add(v).divideBy(2).add(h),f);return{center:y,zoom:f}},fitBounds:function(t,i){if(t=lt(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=H(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){W(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,a){if(a=a||{},a.animate===!1||!O.any3d)return this.setView(t,i,a);this._stop();var o=this.project(this.getCenter()),f=this.project(t),h=this.getSize(),g=this._zoom;t=K(t),i=i===void 0?g:i;var v=Math.max(h.x,h.y),y=v*this.getZoomScale(g,i),k=f.distanceTo(o)||1,S=1.42,F=S*S;function V(ft){var $i=ft?-1:1,su=ft?y:v,ru=y*y-v*v+$i*F*F*k*k,ou=2*su*F*k,Qn=ru/ou,Xs=Math.sqrt(Qn*Qn+1)-Qn,lu=Xs<1e-9?-18:Math.log(Xs);return lu}function mt(ft){return(Math.exp(ft)-Math.exp(-ft))/2}function ct(ft){return(Math.exp(ft)+Math.exp(-ft))/2}function St(ft){return mt(ft)/ct(ft)}var xt=V(0);function Be(ft){return v*(ct(xt)/ct(xt+S*ft))}function eu(ft){return v*(ct(xt)*St(xt+S*ft)-mt(xt))/F}function iu(ft){return 1-Math.pow(1-ft,1.5)}var nu=Date.now(),Ks=(V(1)-xt)/S,au=a.duration?1e3*a.duration:1e3*Ks*.8;function Ys(){var ft=(Date.now()-nu)/au,$i=iu(ft)*Ks;ft<=1?(this._flyToFrame=C(Ys,this),this._move(this.unproject(o.add(f.subtract(o).multiplyBy(eu($i)/k)),g),this.getScaleZoom(v/Be($i),g),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Ys.call(this),this},flyToBounds:function(t,i){var a=this._getBoundsCenterZoom(t,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(t){return t=lt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var a=this.getCenter(),o=this._limitCenter(a,this._zoom,lt(t));return a.equals(o)||this.panTo(o,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var a=H(i.paddingTopLeft||i.padding||[0,0]),o=H(i.paddingBottomRight||i.padding||[0,0]),f=this.project(this.getCenter()),h=this.project(t),g=this.getPixelBounds(),v=bt([g.min.add(a),g.max.subtract(o)]),y=v.getSize();if(!v.contains(h)){this._enforcingBounds=!0;var k=h.subtract(v.getCenter()),S=v.extend(h).getSize().subtract(y);f.x+=k.x<0?-S.x:S.x,f.y+=k.y<0?-S.y:S.y,this.panTo(this.unproject(f),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),o=i.divideBy(2).round(),f=a.divideBy(2).round(),h=o.subtract(f);return!h.x&&!h.y?this:(t.animate&&t.pan?this.panBy(h):(t.pan&&this._rawPanBy(h),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,t):navigator.geolocation.getCurrentPosition(i,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var i=t.code,a=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var i=t.coords.latitude,a=t.coords.longitude,o=new Q(i,a),f=o.toBounds(t.coords.accuracy*2),h=this._locateOptions;if(h.setView){var g=this.getBoundsZoom(f);this.setView(o,h.maxZoom?Math.min(g,h.maxZoom):g)}var v={latlng:o,bounds:f,timestamp:t.timestamp};for(var y in t.coords)typeof t.coords[y]=="number"&&(v[y]=t.coords[y]);this.fire("locationfound",v)}},addHandler:function(t,i){if(!i)return this;var a=this[t]=new i(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)nt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=X("div",a,i||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new wt(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,a){t=lt(t),a=H(a||[0,0]);var o=this.getZoom()||0,f=this.getMinZoom(),h=this.getMaxZoom(),g=t.getNorthWest(),v=t.getSouthEast(),y=this.getSize().subtract(a),k=bt(this.project(v,o),this.project(g,o)).getSize(),S=O.any3d?this.options.zoomSnap:1,F=y.x/k.x,V=y.y/k.y,mt=i?Math.max(F,V):Math.min(F,V);return o=this.getScaleZoom(mt,o),S&&(o=Math.round(o/(S/100))*(S/100),o=i?Math.ceil(o/S)*S:Math.floor(o/S)*S),Math.max(f,Math.min(h,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var a=this._getTopLeftPoint(t,i);return new it(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(t)/a.scale(i)},getScaleZoom:function(t,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var o=a.zoom(t*a.scale(i));return isNaN(o)?1/0:o},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(K(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(H(t),i)},layerPointToLatLng:function(t){var i=H(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(K(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(K(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(lt(t))},distance:function(t,i){return this.options.crs.distance(K(t),K(i))},containerPointToLayerPoint:function(t){return H(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return H(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(H(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(t)))},mouseEventToContainerPoint:function(t){return ps(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=hs(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(i,"scroll",this._onScroll,this),this._containerId=m(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&O.any3d,W(t,"leaflet-container"+(O.touch?" leaflet-touch":"")+(O.retina?" leaflet-retina":"")+(O.ielt9?" leaflet-oldie":"")+(O.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Je(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(W(t.markerPane,"leaflet-zoom-hide"),W(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,a){ut(this._mapPane,new R(0,0));var o=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var f=this._zoom!==i;this._moveStart(f,a)._move(t,i)._moveEnd(f),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,a,o){i===void 0&&(i=this._zoom);var f=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ut(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var i=t?tt:G;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),O.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var a=[],o,f=i==="mouseout"||i==="mouseover",h=t.target||t.srcElement,g=!1;h;){if(o=this._targets[m(h)],o&&(i==="click"||i==="preclick")&&this._draggableMoved(o)){g=!0;break}if(o&&o.listens(i,!0)&&(f&&!Hn(h,t)||(a.push(o),f))||h===this._container)break;h=h.parentNode}return!a.length&&!g&&!f&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var a=t.type;a==="mousedown"&&Zn(i),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,a){if(t.type==="click"){var o=u({},t);o.type="preclick",this._fireDOMEvent(o,o.type,a)}var f=this._findEventTargets(t,i);if(a){for(var h=[],g=0;g<a.length;g++)a[g].listens(i,!0)&&h.push(a[g]);f=h.concat(f)}if(!!f.length){i==="contextmenu"&&_t(t);var v=f[0],y={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var k=v.getLatLng&&(!v._radius||v._radius<=10);y.containerPoint=k?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(t),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=k?v.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(g=0;g<f.length;g++)if(f[g].fire(i,y,!0),y.originalEvent._stopped||f[g].options.bubblingMouseEvents===!1&&z(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return _e(this._mapPane)||new R(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var a=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var a=this.getSize()._divideBy(2);return this.project(t,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,a){var o=this._getNewPixelOrigin(a,i);return this.project(t,i)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,i,a){var o=this._getNewPixelOrigin(a,i);return bt([this.project(t.getSouthWest(),i)._subtract(o),this.project(t.getNorthWest(),i)._subtract(o),this.project(t.getSouthEast(),i)._subtract(o),this.project(t.getNorthEast(),i)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,a){if(!a)return t;var o=this.project(t,i),f=this.getSize().divideBy(2),h=new it(o.subtract(f),o.add(f)),g=this._getBoundsOffset(h,a,i);return Math.abs(g.x)<=1&&Math.abs(g.y)<=1?t:this.unproject(o.add(g),i)},_limitOffset:function(t,i){if(!i)return t;var a=this.getPixelBounds(),o=new it(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(o,i))},_getBoundsOffset:function(t,i,a){var o=bt(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),f=o.min.subtract(t.min),h=o.max.subtract(t.max),g=this._rebound(f.x,-h.x),v=this._rebound(f.y,-h.y);return new R(g,v)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),a=this.getMaxZoom(),o=O.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(i,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){st(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var a=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var t=this._proxy=X("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var a=Cn,o=this._proxy.style[a];ce(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),o===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();ce(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(i),f=this._getCenterOffset(t)._divideBy(1-1/o);return a.animate!==!0&&!this.getSize().contains(f)?!1:(C(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,a,o){!this._mapPane||(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,W(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&st(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vl(t,i){return new Y(t,i)}var At=yt.extend({options:{position:"topright"},initialize:function(t){T(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),a=this.getPosition(),o=t._controlCorners[a];return W(i,"leaflet-control"),a.indexOf("bottom")!==-1?o.insertBefore(i,o.firstChild):o.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ni=function(t){return new At(t)};Y.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",a=this._controlContainer=X("div",i+"control-container",this._container);function o(f,h){var g=i+f+" "+i+h;t[f+h]=X("div",g,a)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)nt(this._controlCorners[t]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vs=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,a,o){return a<o?-1:o<a?1:0}},initialize:function(t,i,a){T(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in i)this._addLayer(i[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return At.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(m(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){W(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(W(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):st(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return st(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=X("div",t),a=this.options.collapsed;i.setAttribute("aria-haspopup",!0),ii(i),Un(i);var o=this._section=X("section",t+"-list");a&&(this._map.on("click",this.collapse,this),G(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=X("a",t+"-toggle",i);f.href="#",f.title="Layers",f.setAttribute("role","button"),G(f,{keydown:function(h){h.keyCode===13&&this._expandSafely()},click:function(h){_t(h),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=X("div",t+"-base",o),this._separator=X("div",t+"-separator",o),this._overlaysList=X("div",t+"-overlays",o),i.appendChild(o)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&m(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(o,f){return this.options.sortFunction(o.layer,f.layer,o.name,f.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ai(this._baseLayersList),Ai(this._overlaysList),this._layerControlInputs=[];var t,i,a,o,f=0;for(a=0;a<this._layers.length;a++)o=this._layers[a],this._addItem(o),i=i||o.overlay,t=t||!o.overlay,f+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&f>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(m(t.target)),a=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,i)},_createRadioElement:function(t,i){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=a,o.firstChild},_addItem:function(t){var i=document.createElement("label"),a=this._map.hasLayer(t.layer),o;t.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=a):o=this._createRadioElement("leaflet-base-layers_"+m(this),a),this._layerControlInputs.push(o),o.layerId=m(t.layer),G(o,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+t.name;var h=document.createElement("span");i.appendChild(h),h.appendChild(o),h.appendChild(f);var g=t.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,a,o=[],f=[];this._handlingClick=!0;for(var h=t.length-1;h>=0;h--)i=t[h],a=this._getLayer(i.layerId).layer,i.checked?o.push(a):i.checked||f.push(a);for(h=0;h<f.length;h++)this._map.hasLayer(f[h])&&this._map.removeLayer(f[h]);for(h=0;h<o.length;h++)this._map.hasLayer(o[h])||this._map.addLayer(o[h]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,a,o=this._map.getZoom(),f=t.length-1;f>=0;f--)i=t[f],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&o<a.options.minZoom||a.options.maxZoom!==void 0&&o>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,G(t,"click",_t),this.expand();var i=this;setTimeout(function(){tt(t,"click",_t),i._preventClick=!1})}}),yl=function(t,i,a){return new vs(t,i,a)},Gn=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",a=X("div",i+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,i+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,i+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,a,o,f){var h=X("a",a,o);return h.innerHTML=t,h.href="#",h.title=i,h.setAttribute("role","button"),h.setAttribute("aria-label",i),ii(h),G(h,"click",pe),G(h,"click",f,this),G(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";st(this._zoomInButton,i),st(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(W(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(W(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Y.mergeOptions({zoomControl:!0}),Y.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gn,this.addControl(this.zoomControl))});var bl=function(t){return new Gn(t)},ys=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",a=X("div",i),o=this.options;return this._addScales(o,i+"-line",a),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,a){t.metric&&(this._mScale=X("div",i,a)),t.imperial&&(this._iScale=X("div",i,a))},_update:function(){var t=this._map,i=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),a=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,a,i/t)},_updateImperial:function(t){var i=t*3.2808399,a,o,f;i>5280?(a=i/5280,o=this._getRoundNum(a),this._updateScale(this._iScale,o+" mi",o/a)):(f=this._getRoundNum(i),this._updateScale(this._iScale,f+" ft",f/i))},_updateScale:function(t,i,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),a=t/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),wl=function(t){return new ys(t)},xl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wn=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(O.inlineSvg?xl+" ":"")+"Leaflet</a>"},initialize:function(t){T(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=X("div","leaflet-control-attribution"),ii(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Y.mergeOptions({attributionControl:!0}),Y.addInitHook(function(){this.options.attributionControl&&new Wn().addTo(this)});var kl=function(t){return new Wn(t)};At.Layers=vs,At.Zoom=Gn,At.Scale=ys,At.Attribution=Wn,ni.layers=yl,ni.zoom=bl,ni.scale=wl,ni.attribution=kl;var Rt=yt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rt.addTo=function(t,i){return t.addHandler(i,this),this};var Tl={Events:pt},bs=O.touch?"touchstart mousedown":"mousedown",ee=Zt.extend({options:{clickTolerance:3},initialize:function(t,i,a,o){T(this,o),this._element=t,this._dragStartTarget=i||t,this._preventOutline=a},enable:function(){this._enabled||(G(this._dragStartTarget,bs,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ee._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,bs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!Mn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ee._dragging===this&&this.finishDrag();return}if(!(ee._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ee._dragging=this,this._preventOutline&&Zn(this._element),On(),Qe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,a=cs(this._element);this._startPoint=new R(i.clientX,i.clientY),this._startPos=_e(this._element),this._parentScale=Bn(a);var o=t.type==="mousedown";G(document,o?"mousemove":"touchmove",this._onMove,this),G(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,a=new R(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,_t(t),this._moved||(this.fire("dragstart"),this._moved=!0,W(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),W(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ut(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){st(document.body,"leaflet-dragging"),this._lastTarget&&(st(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),In(),ti();var i=this._moved&&this._moving;this._moving=!1,ee._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ws(t,i,a){var o,f=[1,4,2,8],h,g,v,y,k,S,F,V;for(h=0,S=t.length;h<S;h++)t[h]._code=me(t[h],i);for(v=0;v<4;v++){for(F=f[v],o=[],h=0,S=t.length,g=S-1;h<S;g=h++)y=t[h],k=t[g],y._code&F?k._code&F||(V=Bi(k,y,F,i,a),V._code=me(V,i),o.push(V)):(k._code&F&&(V=Bi(k,y,F,i,a),V._code=me(V,i),o.push(V)),o.push(y));t=o}return t}function xs(t,i){var a,o,f,h,g,v,y,k,S;if(!t||t.length===0)throw new Error("latlngs not passed");Pt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var F=K([0,0]),V=lt(t),mt=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());mt<1700&&(F=jn(t));var ct=t.length,St=[];for(a=0;a<ct;a++){var xt=K(t[a]);St.push(i.project(K([xt.lat-F.lat,xt.lng-F.lng])))}for(v=y=k=0,a=0,o=ct-1;a<ct;o=a++)f=St[a],h=St[o],g=f.y*h.x-h.y*f.x,y+=(f.x+h.x)*g,k+=(f.y+h.y)*g,v+=g*3;v===0?S=St[0]:S=[y/v,k/v];var Be=i.unproject(H(S));return K([Be.lat+F.lat,Be.lng+F.lng])}function jn(t){for(var i=0,a=0,o=0,f=0;f<t.length;f++){var h=K(t[f]);i+=h.lat,a+=h.lng,o++}return K([i/o,a/o])}var Ll={__proto__:null,clipPolygon:ws,polygonCenter:xs,centroid:jn};function ks(t,i){if(!i||!t.length)return t.slice();var a=i*i;return t=Sl(t,a),t=Pl(t,a),t}function Ts(t,i,a){return Math.sqrt(ai(t,i,a,!0))}function El(t,i,a){return ai(t,i,a)}function Pl(t,i){var a=t.length,o=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new o(a);f[0]=f[a-1]=1,Vn(t,f,i,0,a-1);var h,g=[];for(h=0;h<a;h++)f[h]&&g.push(t[h]);return g}function Vn(t,i,a,o,f){var h=0,g,v,y;for(v=o+1;v<=f-1;v++)y=ai(t[v],t[o],t[f],!0),y>h&&(g=v,h=y);h>a&&(i[g]=1,Vn(t,i,a,o,g),Vn(t,i,a,g,f))}function Sl(t,i){for(var a=[t[0]],o=1,f=0,h=t.length;o<h;o++)Cl(t[o],t[f])>i&&(a.push(t[o]),f=o);return f<h-1&&a.push(t[h-1]),a}var Ls;function Es(t,i,a,o,f){var h=o?Ls:me(t,a),g=me(i,a),v,y,k;for(Ls=g;;){if(!(h|g))return[t,i];if(h&g)return!1;v=h||g,y=Bi(t,i,v,a,f),k=me(y,a),v===h?(t=y,h=k):(i=y,g=k)}}function Bi(t,i,a,o,f){var h=i.x-t.x,g=i.y-t.y,v=o.min,y=o.max,k,S;return a&8?(k=t.x+h*(y.y-t.y)/g,S=y.y):a&4?(k=t.x+h*(v.y-t.y)/g,S=v.y):a&2?(k=y.x,S=t.y+g*(y.x-t.x)/h):a&1&&(k=v.x,S=t.y+g*(v.x-t.x)/h),new R(k,S,f)}function me(t,i){var a=0;return t.x<i.min.x?a|=1:t.x>i.max.x&&(a|=2),t.y<i.min.y?a|=4:t.y>i.max.y&&(a|=8),a}function Cl(t,i){var a=i.x-t.x,o=i.y-t.y;return a*a+o*o}function ai(t,i,a,o){var f=i.x,h=i.y,g=a.x-f,v=a.y-h,y=g*g+v*v,k;return y>0&&(k=((t.x-f)*g+(t.y-h)*v)/y,k>1?(f=a.x,h=a.y):k>0&&(f+=g*k,h+=v*k)),g=t.x-f,v=t.y-h,o?g*g+v*v:new R(f,h)}function Pt(t){return!N(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ps(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(t)}function Ss(t,i){var a,o,f,h,g,v,y,k;if(!t||t.length===0)throw new Error("latlngs not passed");Pt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var S=K([0,0]),F=lt(t),V=F.getNorthWest().distanceTo(F.getSouthWest())*F.getNorthEast().distanceTo(F.getNorthWest());V<1700&&(S=jn(t));var mt=t.length,ct=[];for(a=0;a<mt;a++){var St=K(t[a]);ct.push(i.project(K([St.lat-S.lat,St.lng-S.lng])))}for(a=0,o=0;a<mt-1;a++)o+=ct[a].distanceTo(ct[a+1])/2;if(o===0)k=ct[0];else for(a=0,h=0;a<mt-1;a++)if(g=ct[a],v=ct[a+1],f=g.distanceTo(v),h+=f,h>o){y=(h-o)/f,k=[v.x-y*(v.x-g.x),v.y-y*(v.y-g.y)];break}var xt=i.unproject(H(k));return K([xt.lat+S.lat,xt.lng+S.lng])}var Ml={__proto__:null,simplify:ks,pointToSegmentDistance:Ts,closestPointOnSegment:El,clipSegment:Es,_getEdgeIntersection:Bi,_getBitCode:me,_sqClosestPointOnSegment:ai,isFlat:Pt,_flat:Ps,polylineCenter:Ss},qn={project:function(t){return new R(t.lng,t.lat)},unproject:function(t){return new Q(t.y,t.x)},bounds:new it([-180,-90],[180,90])},$n={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,a=this.R,o=t.lat*i,f=this.R_MINOR/a,h=Math.sqrt(1-f*f),g=h*Math.sin(o),v=Math.tan(Math.PI/4-o/2)/Math.pow((1-g)/(1+g),h/2);return o=-a*Math.log(Math.max(v,1e-10)),new R(t.lng*i*a,o)},unproject:function(t){for(var i=180/Math.PI,a=this.R,o=this.R_MINOR/a,f=Math.sqrt(1-o*o),h=Math.exp(-t.y/a),g=Math.PI/2-2*Math.atan(h),v=0,y=.1,k;v<15&&Math.abs(y)>1e-7;v++)k=f*Math.sin(g),k=Math.pow((1-k)/(1+k),f/2),y=Math.PI/2-2*Math.atan(h*k)-g,g+=y;return new Q(g*i,t.x*i/a)}},zl={__proto__:null,LonLat:qn,Mercator:$n,SphericalMercator:bn},Al=u({},te,{code:"EPSG:3395",projection:$n,transformation:function(){var t=.5/(Math.PI*$n.R);return Ke(t,.5,-t,.5)}()}),Cs=u({},te,{code:"EPSG:4326",projection:qn,transformation:Ke(1/180,1,-1/180,.5)}),Ol=u({},Vt,{projection:qn,transformation:Ke(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var a=i.lng-t.lng,o=i.lat-t.lat;return Math.sqrt(a*a+o*o)},infinite:!0});Vt.Earth=te,Vt.EPSG3395=Al,Vt.EPSG3857=xn,Vt.EPSG900913=Ro,Vt.EPSG4326=Cs,Vt.Simple=Ol;var Ot=Zt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(!!i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var a=this.getEvents();i.on(a,this),this.once("remove",function(){i.off(a,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Y.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=m(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=m(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},_addLayers:function(t){t=t?N(t)?t:[t]:[];for(var i=0,a=t.length;i<a;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=m(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,a=this._getZoomSpan();for(var o in this._zoomBoundLayers){var f=this._zoomBoundLayers[o].options;t=f.minZoom===void 0?t:Math.min(t,f.minZoom),i=f.maxZoom===void 0?i:Math.max(i,f.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ae=Ot.extend({initialize:function(t,i){T(this,i),this._layers={};var a,o;if(t)for(a=0,o=t.length;a<o;a++)this.addLayer(t[a])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),a,o;for(a in this._layers)o=this._layers[a],o[t]&&o[t].apply(o,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),Il=function(t,i){return new Ae(t,i)},qt=Ae.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ae.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ae.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new wt;for(var i in this._layers){var a=this._layers[i];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),Nl=function(t,i){return new qt(t,i)},Oe=yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){T(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(a,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(o,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(t,i){var a=this.options,o=a[i+"Size"];typeof o=="number"&&(o=[o,o]);var f=H(o),h=H(i==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(a.className||""),h&&(t.style.marginLeft=-h.x+"px",t.style.marginTop=-h.y+"px"),f&&(t.style.width=f.x+"px",t.style.height=f.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return O.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Zl(t){return new Oe(t)}var si=Oe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof si.imagePath!="string"&&(si.imagePath=this._detectIconPath()),(this.options.imagePath||si.imagePath)+Oe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(a,o,f){var h=o.exec(a);return h&&h[f]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=X("div","leaflet-default-icon-path",document.body),i=Je(t,"background-image")||Je(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Ms=Rt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ee(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),W(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&st(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,a=i._map,o=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,h=_e(i._icon),g=a.getPixelBounds(),v=a.getPixelOrigin(),y=bt(g.min._subtract(v).add(f),g.max._subtract(v).subtract(f));if(!y.contains(h)){var k=H((Math.max(y.max.x,h.x)-y.max.x)/(g.max.x-y.max.x)-(Math.min(y.min.x,h.x)-y.min.x)/(g.min.x-y.min.x),(Math.max(y.max.y,h.y)-y.max.y)/(g.max.y-y.max.y)-(Math.min(y.min.y,h.y)-y.min.y)/(g.min.y-y.min.y)).multiplyBy(o);a.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),ut(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,a=i._shadow,o=_e(i._icon),f=i._map.layerPointToLatLng(o);a&&ut(a,o),i._latlng=f,t.latlng=f,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Fi=Ot.extend({options:{icon:new si,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){T(this,i),this._latlng=K(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=K(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),o=!1;a!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),W(a,i),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(a,"focus",this._panOnFocus,this);var f=t.icon.createShadow(this._shadow),h=!1;f!==this._shadow&&(this._removeShadow(),h=!0),f&&(W(f,i),f.alt=""),this._shadow=f,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&h&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ut(this._icon,t),this._shadow&&ut(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(!!this.options.interactive&&(W(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ms)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ms(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Et(this._icon,t),this._shadow&&Et(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var i=this.options.icon.options,a=i.iconSize?H(i.iconSize):H(0,0),o=i.iconAnchor?H(i.iconAnchor):H(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:a.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bl(t,i){return new Fi(t,i)}var ie=Ot.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return T(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ri=ie.extend({options:{fill:!0,radius:10},initialize:function(t,i){T(this,i),this._latlng=K(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=K(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return ie.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,a=this._clickTolerance(),o=[t+a,i+a];this._pxBounds=new it(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fl(t,i){return new Ri(t,i)}var Kn=Ri.extend({initialize:function(t,i,a){if(typeof i=="number"&&(i=u({},a,{radius:i})),T(this,i),this._latlng=K(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new wt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ie.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,a=this._map,o=a.options.crs;if(o.distance===te.distance){var f=Math.PI/180,h=this._mRadius/te.R/f,g=a.project([i+h,t]),v=a.project([i-h,t]),y=g.add(v).divideBy(2),k=a.unproject(y).lat,S=Math.acos((Math.cos(h*f)-Math.sin(i*f)*Math.sin(k*f))/(Math.cos(i*f)*Math.cos(k*f)))/f;(isNaN(S)||S===0)&&(S=h/Math.cos(Math.PI/180*i)),this._point=y.subtract(a.getPixelOrigin()),this._radius=isNaN(S)?0:y.x-a.project([k,t-S]).x,this._radiusY=y.y-g.y}else{var F=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(F).x}this._updateBounds()}});function Rl(t,i,a){return new Kn(t,i,a)}var $t=ie.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){T(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,a=null,o=ai,f,h,g=0,v=this._parts.length;g<v;g++)for(var y=this._parts[g],k=1,S=y.length;k<S;k++){f=y[k-1],h=y[k];var F=o(t,f,h,!0);F<i&&(i=F,a=o(t,f,h))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ss(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=K(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new wt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],a=Pt(t),o=0,f=t.length;o<f;o++)a?(i[o]=K(t[o]),this._bounds.extend(i[o])):i[o]=this._convertLatLngs(t[o]);return i},_project:function(){var t=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new R(t,t);!this._rawPxBounds||(this._pxBounds=new it([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,a){var o=t[0]instanceof Q,f=t.length,h,g;if(o){for(g=[],h=0;h<f;h++)g[h]=this._map.latLngToLayerPoint(t[h]),a.extend(g[h]);i.push(g)}else for(h=0;h<f;h++)this._projectLatlngs(t[h],i,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,a,o,f,h,g,v,y;for(a=0,f=0,h=this._rings.length;a<h;a++)for(y=this._rings[a],o=0,g=y.length;o<g-1;o++)v=Es(y[o],y[o+1],t,o,!0),v&&(i[f]=i[f]||[],i[f].push(v[0]),(v[1]!==y[o+1]||o===g-2)&&(i[f].push(v[1]),f++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,a=0,o=t.length;a<o;a++)t[a]=ks(t[a],i)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var a,o,f,h,g,v,y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,h=this._parts.length;a<h;a++)for(v=this._parts[a],o=0,g=v.length,f=g-1;o<g;f=o++)if(!(!i&&o===0)&&Ts(t,v[f],v[o])<=y)return!0;return!1}});function Dl(t,i){return new $t(t,i)}$t._flat=Ps;var Ie=$t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=$t.prototype._convertLatLngs.call(this,t),a=i.length;return a>=2&&i[0]instanceof Q&&i[0].equals(i[a-1])&&i.pop(),i},_setLatLngs:function(t){$t.prototype._setLatLngs.call(this,t),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,a=new R(i,i);if(t=new it(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,f=this._rings.length,h;o<f;o++)h=ws(this._rings[o],t,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,a,o,f,h,g,v,y,k;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,y=this._parts.length;h<y;h++)for(a=this._parts[h],g=0,k=a.length,v=k-1;g<k;v=g++)o=a[g],f=a[v],o.y>t.y!=f.y>t.y&&t.x<(f.x-o.x)*(t.y-o.y)/(f.y-o.y)+o.x&&(i=!i);return i||$t.prototype._containsPoint.call(this,t,!0)}});function Ul(t,i){return new Ie(t,i)}var Kt=qt.extend({initialize:function(t,i){T(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=N(t)?t:t.features,a,o,f;if(i){for(a=0,o=i.length;a<o;a++)f=i[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var h=this.options;if(h.filter&&!h.filter(t))return this;var g=Di(t,h);return g?(g.feature=Gi(t),g.defaultOptions=g.options,this.resetStyle(g),h.onEachFeature&&h.onEachFeature(t,g),this.addLayer(g)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Di(t,i){var a=t.type==="Feature"?t.geometry:t,o=a?a.coordinates:null,f=[],h=i&&i.pointToLayer,g=i&&i.coordsToLatLng||Yn,v,y,k,S;if(!o&&!a)return null;switch(a.type){case"Point":return v=g(o),zs(h,t,v,i);case"MultiPoint":for(k=0,S=o.length;k<S;k++)v=g(o[k]),f.push(zs(h,t,v,i));return new qt(f);case"LineString":case"MultiLineString":return y=Ui(o,a.type==="LineString"?0:1,g),new $t(y,i);case"Polygon":case"MultiPolygon":return y=Ui(o,a.type==="Polygon"?1:2,g),new Ie(y,i);case"GeometryCollection":for(k=0,S=a.geometries.length;k<S;k++){var F=Di({geometry:a.geometries[k],type:"Feature",properties:t.properties},i);F&&f.push(F)}return new qt(f);case"FeatureCollection":for(k=0,S=a.features.length;k<S;k++){var V=Di(a.features[k],i);V&&f.push(V)}return new qt(f);default:throw new Error("Invalid GeoJSON object.")}}function zs(t,i,a,o){return t?t(i,a):new Fi(a,o&&o.markersInheritOptions&&o)}function Yn(t){return new Q(t[1],t[0],t[2])}function Ui(t,i,a){for(var o=[],f=0,h=t.length,g;f<h;f++)g=i?Ui(t[f],i-1,a):(a||Yn)(t[f]),o.push(g);return o}function Xn(t,i){return t=K(t),t.alt!==void 0?[b(t.lng,i),b(t.lat,i),b(t.alt,i)]:[b(t.lng,i),b(t.lat,i)]}function Hi(t,i,a,o){for(var f=[],h=0,g=t.length;h<g;h++)f.push(i?Hi(t[h],Pt(t[h])?0:i-1,a,o):Xn(t[h],o));return!i&&a&&f.length>0&&f.push(f[0].slice()),f}function Ne(t,i){return t.feature?u({},t.feature,{geometry:i}):Gi(i)}function Gi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Jn={toGeoJSON:function(t){return Ne(this,{type:"Point",coordinates:Xn(this.getLatLng(),t)})}};Fi.include(Jn),Kn.include(Jn),Ri.include(Jn),$t.include({toGeoJSON:function(t){var i=!Pt(this._latlngs),a=Hi(this._latlngs,i?1:0,!1,t);return Ne(this,{type:(i?"Multi":"")+"LineString",coordinates:a})}}),Ie.include({toGeoJSON:function(t){var i=!Pt(this._latlngs),a=i&&!Pt(this._latlngs[0]),o=Hi(this._latlngs,a?2:i?1:0,!0,t);return i||(o=[o]),Ne(this,{type:(a?"Multi":"")+"Polygon",coordinates:o})}}),Ae.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(a){i.push(a.toGeoJSON(t).geometry.coordinates)}),Ne(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var a=i==="GeometryCollection",o=[];return this.eachLayer(function(f){if(f.toGeoJSON){var h=f.toGeoJSON(t);if(a)o.push(h.geometry);else{var g=Gi(h);g.type==="FeatureCollection"?o.push.apply(o,g.features):o.push(g)}}}),a?Ne(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function As(t,i){return new Kt(t,i)}var Hl=As,Wi=Ot.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,a){this._url=t,this._bounds=lt(i),T(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(W(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Me(this._image),this},bringToBack:function(){return this._map&&ze(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=lt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:X("img");if(W(i,"leaflet-image-layer"),this._zoomAnimated&&W(i,"leaflet-zoom-animated"),this.options.className&&W(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onload=c(this.fire,this,"load"),i.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ce(this._image,a,i)},_reset:function(){var t=this._image,i=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=i.getSize();ut(t,i.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Gl=function(t,i,a){return new Wi(t,i,a)},Os=Wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:X("video");if(W(i,"leaflet-image-layer"),this._zoomAnimated&&W(i,"leaflet-zoom-animated"),this.options.className&&W(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onloadeddata=c(this.fire,this,"load"),t){for(var a=i.getElementsByTagName("source"),o=[],f=0;f<a.length;f++)o.push(a[f].src);this._url=a.length>0?o:[i.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var g=X("source");g.src=this._url[h],i.appendChild(g)}}});function Wl(t,i,a){return new Os(t,i,a)}var Is=Wi.extend({_initImage:function(){var t=this._image=this._url;W(t,"leaflet-image-layer"),this._zoomAnimated&&W(t,"leaflet-zoom-animated"),this.options.className&&W(t,this.options.className),t.onselectstart=w,t.onmousemove=w}});function jl(t,i,a){return new Is(t,i,a)}var Dt=Ot.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof Q||N(t))?(this._latlng=K(t),T(this,i)):(T(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(W(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(c(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=K(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Me(this._container),this},bringToBack:function(){return this._map&&ze(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof qt){i=null;var a=this._source._layers;for(var o in a)if(a[o]._map){i=a[o];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=H(this.options.offset),a=this._getAnchor();this._zoomAnimated?ut(this._container,t.add(a)):i=i.add(t).add(a);var o=this._containerBottom=-i.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=o+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Y.include({_initOverlay:function(t,i,a,o){var f=i;return f instanceof t||(f=new t(o).setContent(i)),a&&f.setLatLng(a),f}}),Ot.include({_initOverlay:function(t,i,a,o){var f=a;return f instanceof t?(T(f,o),f._source=this):(f=i&&!o?i:new t(o,this),f.setContent(a)),f}});var ji=Dt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Dt.prototype.openOn.call(this,t)},onAdd:function(t){Dt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ie||this._source.on("preclick",de))},onRemove:function(t){Dt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ie||this._source.off("preclick",de))},getEvents:function(){var t=Dt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=X("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=X("div",t+"-content-wrapper",i);if(this._contentNode=X("div",t+"-content",a),ii(i),Un(this._contentNode),G(i,"contextmenu",de),this._tipContainer=X("div",t+"-tip-container",i),this._tip=X("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=X("a",t+"-close-button",i);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',G(o,"click",function(f){_t(f),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),i.width=a+1+"px",i.whiteSpace="",i.height="";var o=t.offsetHeight,f=this.options.maxHeight,h="leaflet-popup-scrolled";f&&o>f?(i.height=f+"px",W(t,h)):st(t,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();ut(this._container,i.add(a))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Je(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+i,o=this._containerWidth,f=new R(this._containerLeft,-a-this._containerBottom);f._add(_e(this._container));var h=t.layerPointToContainerPoint(f),g=H(this.options.autoPanPadding),v=H(this.options.autoPanPaddingTopLeft||g),y=H(this.options.autoPanPaddingBottomRight||g),k=t.getSize(),S=0,F=0;h.x+o+y.x>k.x&&(S=h.x+o-k.x+y.x),h.x-S-v.x<0&&(S=h.x-v.x),h.y+a+y.y>k.y&&(F=h.y+a-k.y+y.y),h.y-F-v.y<0&&(F=h.y-v.y),(S||F)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([S,F]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vl=function(t,i){return new ji(t,i)};Y.mergeOptions({closePopupOnClick:!0}),Y.include({openPopup:function(t,i,a){return this._initOverlay(ji,t,i,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ot.include({bindPopup:function(t,i){return this._popup=this._initOverlay(ji,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof qt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){pe(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof ie)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Vi=Dt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Dt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Dt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Dt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=X("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,a,o=this._map,f=this._container,h=o.latLngToContainerPoint(o.getCenter()),g=o.layerPointToContainerPoint(t),v=this.options.direction,y=f.offsetWidth,k=f.offsetHeight,S=H(this.options.offset),F=this._getAnchor();v==="top"?(i=y/2,a=k):v==="bottom"?(i=y/2,a=0):v==="center"?(i=y/2,a=k/2):v==="right"?(i=0,a=k/2):v==="left"?(i=y,a=k/2):g.x<h.x?(v="right",i=0,a=k/2):(v="left",i=y+(S.x+F.x)*2,a=k/2),t=t.subtract(H(i,a,!0)).add(S).add(F),st(f,"leaflet-tooltip-right"),st(f,"leaflet-tooltip-left"),st(f,"leaflet-tooltip-top"),st(f,"leaflet-tooltip-bottom"),W(f,"leaflet-tooltip-"+v),ut(f,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Et(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ql=function(t,i){return new Vi(t,i)};Y.include({openTooltip:function(t,i,a){return this._initOverlay(Vi,t,i,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ot.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vi,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[i](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof qt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(G(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),G(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,a,o;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),o=this._map.containerPointToLayerPoint(a),i=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(i)}});var Ns=Oe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Ai(i),i.appendChild(a.html)):i.innerHTML=a.html!==!1?a.html:"",a.bgPos){var o=H(a.bgPos);i.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function $l(t){return new Ns(t)}Oe.Default=si;var ri=Ot.extend({options:{tileSize:256,opacity:1,updateWhenIdle:O.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){T(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),nt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ze(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof R?t:new R(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,a=-t(-1/0,1/0),o=0,f=i.length,h;o<f;o++)h=i[o].style.zIndex,i[o]!==this._container&&h&&(a=t(a,+h));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!O.ielt9){Et(this._container,this.options.opacity);var t=+new Date,i=!1,a=!1;for(var o in this._tiles){var f=this._tiles[o];if(!(!f.current||!f.loaded)){var h=Math.min(1,(t-f.loaded)/200);Et(f.el,h),h<1?i=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),i&&(j(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=X("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=i-Math.abs(t-a),this._onUpdateLevel(a)):(nt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var o=this._levels[t],f=this._map;return o||(o=this._levels[t]={},o.el=X("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=i,o.origin=f.project(f.unproject(f.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,f.getCenter(),f.getZoom()),w(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(!!this._map){var t,i,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var o=i.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)nt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,a,o){var f=Math.floor(t/2),h=Math.floor(i/2),g=a-1,v=new R(+f,+h);v.z=+g;var y=this._tileCoordsToKey(v),k=this._tiles[y];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),g>o?this._retainParent(f,h,g,o):!1)},_retainChildren:function(t,i,a,o){for(var f=2*t;f<2*t+2;f++)for(var h=2*i;h<2*i+2;h++){var g=new R(f,h);g.z=a+1;var v=this._tileCoordsToKey(g),y=this._tiles[v];if(y&&y.active){y.retain=!0;continue}else y&&y.loaded&&(y.retain=!0);a+1<o&&this._retainChildren(f,h,a+1,o)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,a,o){var f=Math.round(i);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var h=this.options.updateWhenZooming&&f!==this._tileZoom;(!o||h)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,i)},_setZoomTransform:function(t,i,a){var o=this._map.getZoomScale(a,t.zoom),f=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(i,a)).round();O.any3d?ce(t.el,f,o):ut(t.el,f)},_resetGrid:function(){var t=this._map,i=t.options.crs,a=this._tileSize=this.getTileSize(),o=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],o).x/a.x),Math.ceil(t.project([0,i.wrapLng[1]],o).x/a.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],o).y/a.x),Math.ceil(t.project([i.wrapLat[1],0],o).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,a=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),o=i.getZoomScale(a,this._tileZoom),f=i.project(t,this._tileZoom).floor(),h=i.getSize().divideBy(o*2);return new it(f.subtract(h),f.add(h))},_update:function(t){var i=this._map;if(!!i){var a=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(t),f=this._pxBoundsToTileRange(o),h=f.getCenter(),g=[],v=this.options.keepBuffer,y=new it(f.getBottomLeft().subtract([v,-v]),f.getTopRight().add([v,-v]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var S=this._tiles[k].coords;(S.z!==this._tileZoom||!y.contains(new R(S.x,S.y)))&&(this._tiles[k].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var F=f.min.y;F<=f.max.y;F++)for(var V=f.min.x;V<=f.max.x;V++){var mt=new R(V,F);if(mt.z=this._tileZoom,!!this._isValidTile(mt)){var ct=this._tiles[this._tileCoordsToKey(mt)];ct?ct.current=!0:g.push(mt)}}if(g.sort(function(xt,Be){return xt.distanceTo(h)-Be.distanceTo(h)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var St=document.createDocumentFragment();for(V=0;V<g.length;V++)this._addTile(g[V],St);this._level.el.appendChild(St)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var a=this._globalTileRange;if(!i.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!i.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return lt(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,a=this.getTileSize(),o=t.scaleBy(a),f=o.add(a),h=i.unproject(o,t.z),g=i.unproject(f,t.z);return[h,g]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),a=new wt(i[0],i[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),a=new R(+i[0],+i[1]);return a.z=+i[2],a},_removeTile:function(t){var i=this._tiles[t];!i||(nt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){W(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=w,t.onmousemove=w,O.ielt9&&this.options.opacity<1&&Et(t,this.options.opacity)},_addTile:function(t,i){var a=this._getTilePos(t),o=this._tileCoordsToKey(t),f=this.createTile(this._wrapCoords(t),c(this._tileReady,this,t));this._initTile(f),this.createTile.length<2&&C(c(this._tileReady,this,t,null,f)),ut(f,a),this._tiles[o]={el:f,coords:t,current:!0},i.appendChild(f),this.fire("tileloadstart",{tile:f,coords:t})},_tileReady:function(t,i,a){i&&this.fire("tileerror",{error:i,tile:a,coords:t});var o=this._tileCoordsToKey(t);a=this._tiles[o],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Et(a.el,0),j(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),i||(W(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),O.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new R(this._wrapX?p(t.x,this._wrapX):t.x,this._wrapY?p(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new it(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Kl(t){return new ri(t)}var Ze=ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=T(this,i),i.detectRetina&&O.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var a=document.createElement("img");return G(a,"load",c(this._tileOnLoad,this,i,a)),G(a,"error",c(this._tileOnError,this,i,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var i={r:O.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=a),i["-y"]=a}return D(this._url,u(i,this.options))},_tileOnLoad:function(t,i){O.ielt9?setTimeout(c(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,a){var o=this.options.errorTileUrl;o&&i.getAttribute("src")!==o&&(i.src=o),t(a,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,a=this.options.zoomReverse,o=this.options.zoomOffset;return a&&(t=i-t),t+o},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=w,i.onerror=w,!i.complete)){i.src=P;var a=this._tiles[t].coords;nt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:a})}},_removeTile:function(t){var i=this._tiles[t];if(!!i)return i.el.setAttribute("src",P),ri.prototype._removeTile.call(this,t)},_tileReady:function(t,i,a){if(!(!this._map||a&&a.getAttribute("src")===P))return ri.prototype._tileReady.call(this,t,i,a)}});function Zs(t,i){return new Ze(t,i)}var Bs=Ze.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var a=u({},this.defaultWmsParams);for(var o in i)o in this.options||(a[o]=i[o]);i=T(this,i);var f=i.detectRetina&&O.retina?2:1,h=this.getTileSize();a.width=h.x*f,a.height=h.y*f,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Ze.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),a=this._crs,o=bt(a.project(i[0]),a.project(i[1])),f=o.min,h=o.max,g=(this._wmsVersion>=1.3&&this._crs===Cs?[f.y,f.x,h.y,h.x]:[f.x,f.y,h.x,h.y]).join(","),v=Ze.prototype.getTileUrl.call(this,t);return v+I(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(t,i){return u(this.wmsParams,t),i||this.redraw(),this}});function Yl(t,i){return new Bs(t,i)}Ze.WMS=Bs,Zs.wms=Yl;var Yt=Ot.extend({options:{padding:.1},initialize:function(t){T(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),W(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var a=this._map.getZoomScale(i,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,i),h=o.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(t,i));O.any3d?ce(this._container,h,a):ut(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),a=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new it(a,a.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fs=Yt.extend({options:{tolerance:0},getEvents:function(){var t=Yt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");G(t,"mousemove",this._onMouseMove,this),G(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,nt(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var t=this._bounds,i=this._container,a=t.getSize(),o=O.retina?2:1;ut(i,t.min),i.width=o*a.x,i.height=o*a.y,i.style.width=a.x+"px",i.style.height=a.y+"px",O.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Yt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,a=i.next,o=i.prev;a?a.prev=o:this._drawLast=o,o?o.next=a:this._drawFirst=a,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),a=[],o,f;for(f=0;f<i.length;f++){if(o=Number(i[f]),isNaN(o))return;a.push(o)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var a=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(!!this._drawing){var a,o,f,h,g=t._parts,v=g.length,y=this._ctx;if(!!v){for(y.beginPath(),a=0;a<v;a++){for(o=0,f=g[a].length;o<f;o++)h=g[a][o],y[o?"lineTo":"moveTo"](h.x,h.y);i&&y.closePath()}this._fillStroke(y,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,a=this._ctx,o=Math.max(Math.round(t._radius),1),f=(Math.max(Math.round(t._radiusY),1)||o)/o;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(i.x,i.y/f,o,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,i){var a=i.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),a,o,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(o=a);this._fireEvent(o?[o]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(st(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var a,o,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(i)&&(o=a);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(W(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,a){this._map._fireDOMEvent(i,a||i.type,t)},_bringToFront:function(t){var i=t._order;if(!!i){var a=i.next,o=i.prev;if(a)a.prev=o;else return;o?o.next=a:a&&(this._drawFirst=a),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(!!i){var a=i.next,o=i.prev;if(o)o.next=a;else return;a?a.prev=o:o&&(this._drawLast=o),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Rs(t){return O.canvas?new Fs(t):null}var oi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xl={_initContainer:function(){this._container=X("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=oi("shape");W(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=oi("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;nt(i),t.removeInteractiveTarget(i),delete this._layers[m(t)]},_updateStyle:function(t){var i=t._stroke,a=t._fill,o=t.options,f=t._container;f.stroked=!!o.stroke,f.filled=!!o.fill,o.stroke?(i||(i=t._stroke=oi("stroke")),f.appendChild(i),i.weight=o.weight+"px",i.color=o.color,i.opacity=o.opacity,o.dashArray?i.dashStyle=N(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=o.lineCap.replace("butt","flat"),i.joinstyle=o.lineJoin):i&&(f.removeChild(i),t._stroke=null),o.fill?(a||(a=t._fill=oi("fill")),f.appendChild(a),a.color=o.fillColor||o.color,a.opacity=o.fillOpacity):a&&(f.removeChild(a),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),a=Math.round(t._radius),o=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+a+","+o+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Me(t._container)},_bringToBack:function(t){ze(t._container)}},qi=O.vml?oi:Ga,li=Yt.extend({_initContainer:function(){this._container=qi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var t=this._bounds,i=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,a.setAttribute("width",i.x),a.setAttribute("height",i.y)),ut(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=qi("path");t.options.className&&W(i,t.options.className),t.options.interactive&&W(i,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){nt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,a=t.options;!i||(a.stroke?(i.setAttribute("stroke",a.color),i.setAttribute("stroke-opacity",a.opacity),i.setAttribute("stroke-width",a.weight),i.setAttribute("stroke-linecap",a.lineCap),i.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?i.setAttribute("stroke-dasharray",a.dashArray):i.removeAttribute("stroke-dasharray"),a.dashOffset?i.setAttribute("stroke-dashoffset",a.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),a.fill?(i.setAttribute("fill",a.fillColor||a.color),i.setAttribute("fill-opacity",a.fillOpacity),i.setAttribute("fill-rule",a.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Wa(t._parts,i))},_updateCircle:function(t){var i=t._point,a=Math.max(Math.round(t._radius),1),o=Math.max(Math.round(t._radiusY),1)||a,f="a"+a+","+o+" 0 1,0 ",h=t._empty()?"M0 0":"M"+(i.x-a)+","+i.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(t,h)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Me(t._path)},_bringToBack:function(t){ze(t._path)}});O.vml&&li.include(Xl);function Ds(t){return O.svg||O.vml?new li(t):null}Y.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Rs(t)||Ds(t)}});var Us=Ie.extend({initialize:function(t,i){Ie.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=lt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Jl(t,i){return new Us(t,i)}li.create=qi,li.pointsToPath=Wa,Kt.geometryToLayer=Di,Kt.coordsToLatLng=Yn,Kt.coordsToLatLngs=Ui,Kt.latLngToCoords=Xn,Kt.latLngsToCoords=Hi,Kt.getFeature=Ne,Kt.asFeature=Gi,Y.mergeOptions({boxZoom:!0});var Hs=Rt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qe(),On(),this._startPoint=this._map.mouseEventToContainerPoint(t),G(document,{contextmenu:pe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=X("div","leaflet-zoom-box",this._container),W(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new it(this._point,this._startPoint),a=i.getSize();ut(this._box,i.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(nt(this._box),st(this._container,"leaflet-crosshair")),ti(),In(),tt(document,{contextmenu:pe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var i=new wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Y.addInitHook("addHandler","boxZoom",Hs),Y.mergeOptions({doubleClickZoom:!0});var Gs=Rt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,a=i.getZoom(),o=i.options.zoomDelta,f=t.originalEvent.shiftKey?a-o:a+o;i.options.doubleClickZoom==="center"?i.setZoom(f):i.setZoomAround(t.containerPoint,f)}});Y.addInitHook("addHandler","doubleClickZoom",Gs),Y.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ws=Rt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ee(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}W(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){st(this._map._container,"leaflet-grab"),st(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=lt(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),a=this._initialWorldOffset,o=this._draggable._newPos.x,f=(o-i+a)%t+i-a,h=(o+i+a)%t-i-a,g=Math.abs(f+a)<Math.abs(h+a)?f:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(t){var i=this._map,a=i.options,o=!a.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),o)i.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,g=a.easeLinearity,v=f.multiplyBy(g/h),y=v.distanceTo([0,0]),k=Math.min(a.inertiaMaxSpeed,y),S=v.multiplyBy(k/y),F=k/(a.inertiaDeceleration*g),V=S.multiplyBy(-F/2).round();!V.x&&!V.y?i.fire("moveend"):(V=i._limitOffset(V,i.options.maxBounds),C(function(){i.panBy(V,{duration:F,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});Y.addInitHook("addHandler","dragging",Ws),Y.mergeOptions({keyboard:!0,keyboardPanDelta:80});var js=Rt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),G(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,a=t.scrollTop||i.scrollTop,o=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(o,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},a=this.keyCodes,o,f;for(o=0,f=a.left.length;o<f;o++)i[a.left[o]]=[-1*t,0];for(o=0,f=a.right.length;o<f;o++)i[a.right[o]]=[t,0];for(o=0,f=a.down.length;o<f;o++)i[a.down[o]]=[0,t];for(o=0,f=a.up.length;o<f;o++)i[a.up[o]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},a=this.keyCodes,o,f;for(o=0,f=a.zoomIn.length;o<f;o++)i[a.zoomIn[o]]=t;for(o=0,f=a.zoomOut.length;o<f;o++)i[a.zoomOut[o]]=-t},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,a=this._map,o;if(i in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(o=this._panKeys[i],t.shiftKey&&(o=H(o).multiplyBy(3)),a.options.maxBounds&&(o=a._limitOffset(H(o),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(o)));a.panTo(f)}else a.panBy(o)}else if(i in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;pe(t)}}});Y.addInitHook("addHandler","keyboard",js),Y.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vs=Rt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=ms(t),a=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),o),pe(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,h=a?Math.ceil(f/a)*a:f,g=t._limitZoom(i+(this._delta>0?h:-h))-i;this._delta=0,this._startTime=null,g&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+g):t.setZoomAround(this._lastMousePos,i+g))}});Y.addInitHook("addHandler","scrollWheelZoom",Vs);var Ql=600;Y.mergeOptions({tapHold:O.touchNative&&O.safari&&O.mobile,tapTolerance:15});var qs=Rt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new R(i.clientX,i.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",_t),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ql),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){tt(document,"touchend",_t),tt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new R(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});a._simulated=!0,i.target.dispatchEvent(a)}});Y.addInitHook("addHandler","tapHold",qs),Y.mergeOptions({touchZoom:O.touch,bounceAtZoomLimits:!0});var $s=Rt.extend({addHooks:function(){W(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){st(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var a=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(a.add(o)._divideBy(2))),this._startDist=a.distanceTo(o),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),_t(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,a=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),f=a.distanceTo(o)/this._startDist;if(this._zoom=i.getScaleZoom(f,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&f<1||this._zoom>i.getMaxZoom()&&f>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var h=a._add(o)._divideBy(2)._subtract(this._centerPoint);if(f===1&&h.x===0&&h.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var g=c(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(g,this,!0),_t(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Y.addInitHook("addHandler","touchZoom",$s),Y.BoxZoom=Hs,Y.DoubleClickZoom=Gs,Y.Drag=Ws,Y.Keyboard=js,Y.ScrollWheelZoom=Vs,Y.TapHold=qs,Y.TouchZoom=$s,n.Bounds=it,n.Browser=O,n.CRS=Vt,n.Canvas=Fs,n.Circle=Kn,n.CircleMarker=Ri,n.Class=yt,n.Control=At,n.DivIcon=Ns,n.DivOverlay=Dt,n.DomEvent=gl,n.DomUtil=pl,n.Draggable=ee,n.Evented=Zt,n.FeatureGroup=qt,n.GeoJSON=Kt,n.GridLayer=ri,n.Handler=Rt,n.Icon=Oe,n.ImageOverlay=Wi,n.LatLng=Q,n.LatLngBounds=wt,n.Layer=Ot,n.LayerGroup=Ae,n.LineUtil=Ml,n.Map=Y,n.Marker=Fi,n.Mixin=Tl,n.Path=ie,n.Point=R,n.PolyUtil=Ll,n.Polygon=Ie,n.Polyline=$t,n.Popup=ji,n.PosAnimation=gs,n.Projection=zl,n.Rectangle=Us,n.Renderer=Yt,n.SVG=li,n.SVGOverlay=Is,n.TileLayer=Ze,n.Tooltip=Vi,n.Transformation=wn,n.Util=at,n.VideoOverlay=Os,n.bind=c,n.bounds=bt,n.canvas=Rs,n.circle=Rl,n.circleMarker=Fl,n.control=ni,n.divIcon=$l,n.extend=u,n.featureGroup=Nl,n.geoJSON=As,n.geoJson=Hl,n.gridLayer=Kl,n.icon=Zl,n.imageOverlay=Gl,n.latLng=K,n.latLngBounds=lt,n.layerGroup=Il,n.map=vl,n.marker=Bl,n.point=H,n.polygon=Ul,n.polyline=Dl,n.popup=Vl,n.rectangle=Jl,n.setOptions=T,n.stamp=m,n.svg=Ds,n.svgOverlay=jl,n.tileLayer=Zs,n.tooltip=ql,n.transformation=Ke,n.version=r,n.videoOverlay=Wl;var tu=window.L;n.noConflict=function(){return window.L=tu,this},window.L=n})}(Ki,Ki.exports)),Ki.exports}var Tt=Ma();var wu=15e3,ga=1e3,va=60*ga,sn=60*va,ta=24*sn,xu="http://www.topografix.com/GPX/gpx_style/0/2",Yi=new L.Icon.Default,ku={startIcon:Yi,endIcon:Yi,wptIcons:{"":Yi},wptTypeIcons:{"":Yi},pointMatchers:[]},Tu={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},Lu={color:"blue"},Eu={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(e,s){s.max_point_interval=s.max_point_interval||wu,s.markers=this._merge_objs(ku,s.markers||{}),s.marker_options=this._merge_objs(Tu,s.marker_options||{}),s.polyline_options=s.polyline_options||[],s.gpx_options=this._merge_objs(Eu,s.gpx_options||{}),L.Util.setOptions(this,s),L.GPXTrackIcon=L.Icon.extend({options:s.marker_options}),this._gpx=e,this._layers={},this._prepare_markers(s.markers),this._init_info(),e&&this._parse(e,s,this.options.async)},get_duration_string:function(e,s){var n="";e>=ta&&(n+=Math.floor(e/ta)+"d ",e=e%ta),e>=sn&&(n+=Math.floor(e/sn)+":",e=e%sn);var r=Math.floor(e/va);e=e%va,r<10&&(n+="0"),n+=r+"'";var u=Math.floor(e/ga);return e=e%ga,u<10&&(n+="0"),n+=u,!s&&e>0?n+="."+Math.round(Math.floor(e)*1e3)/1e3:n+='"',n},get_duration_string_iso:function(e,s){var n=this.get_duration_string(e,s);return n.replace("'",":").replace('"',"")},_toFixed_helper:function(e,s=0){return typeof e=="number"?e.toFixed(s):"?"},to_miles:function(e){return e/1.60934},to_ft:function(e){return e*3.28084},m_to_km:function(e){return e/1e3},m_to_mi:function(e){return e/1609.34},ms_to_kmh:function(e){return e*3.6},ms_to_mih:function(e){return e/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var e=this;return this._info.elevation._points.map(function(s){return e._prepare_data_point(s,e.m_to_km,null,function(n,r){return e._toFixed_helper(n,2)+" km, "+e._toFixed_helper(r,0)+" m"})})},get_elevation_data_imp:function(){var e=this;return this._info.elevation._points.map(function(s){return e._prepare_data_point(s,e.m_to_mi,e.to_ft,function(n,r){return e._toFixed_helper(n,2)+" mi, "+e._toFixed_helper(r,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var e=this;return this._info.speed._points.map(function(s){return e._prepare_data_point(s,e.m_to_km,e.ms_to_kmh,function(n,r){return e._toFixed_helper(n,2)+" km, "+e._toFixed_helper(r,2)+" km/h"})})},get_speed_data_imp:function(){var e=this;return this._info.speed._points.map(function(s){return e._prepare_data_point(s,e.m_to_mi,e.ms_to_mih,function(n,r){return e._toFixed_helper(n,2)+" mi, "+e._toFixed_helper(r,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var e=this;return this._info.hr._points.map(function(s){return e._prepare_data_point(s,e.m_to_km,null,function(n,r){return e._toFixed_helper(n,2)+" km, "+e._toFixed_helper(r,0)+" bpm"})})},get_heartrate_data_imp:function(){var e=this;return this._info.hr._points.map(function(s){return e._prepare_data_point(s,e.m_to_mi,null,function(n,r){return e._toFixed_helper(n,2)+" mi, "+e._toFixed_helper(r,0)+" bpm"})})},get_cadence_data:function(){var e=this;return this._info.cad._points.map(function(s){return e._prepare_data_point(s,e.m_to_km,null,function(n,r){return e._toFixed_helper(n,2)+" km, "+e._toFixed_helper(r,0)+" rpm"})})},get_temp_data:function(){var e=this;return this._info.atemp._points.map(function(s){return e._prepare_data_point(s,e.m_to_km,null,function(n,r){return e._toFixed_helper(n,2)+" km, "+e._toFixed_helper(r,0)+" degrees"})})},get_cadence_data_imp:function(){var e=this;return this._info.cad._points.map(function(s){return e._prepare_data_point(s,e.m_to_mi,null,function(n,r){return e._toFixed_helper(n,2)+" mi, "+e._toFixed_helper(r,0)+" rpm"})})},get_temp_data_imp:function(){var e=this;return this._info.atemp._points.map(function(s){return e._prepare_data_point(s,e.m_to_mi,null,function(n,r){return e._toFixed_helper(n,2)+" mi, "+e._toFixed_helper(r,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(e,s){var n={};for(var r in e)n[r]=e[r];for(var r in s)n[r]=s[r];return n},_prepare_data_point:function(e,s,n,r){var u=[s&&s(e[0])||e[0],n&&n(e[1])||e[1]];return u.push(r&&r(u[0],u[1])||u[0]+": "+u[1]),u},_prepare_markers:function(e){function s(n){return new L.GPXTrackIcon({iconUrl:n})}return Object.entries(e).forEach(([n,r])=>{n==="wptIcons"||n==="wptTypeIcons"?e[n]=this._prepare_markers(r):n==="pointMatchers"?e[n]=r.map(u=>(typeof u.icon=="string"&&(u.icon=s(u.icon)),u)):typeof r=="string"?e[n]=s(r):typeof r=="object"&&r!==null&&(e[n]=r)}),e},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(e,s,n,r){r==null&&(r=this.options.async),n==null&&(n=this.options);var u=this,l=new window.XMLHttpRequest;l.open("GET",e,r);try{l.overrideMimeType("text/xml")}catch{}l.onloadend=function(){l.status==200?s(l.responseXML,n):u.fire("error",{err:"Error fetching resource: "+e})},l.send(null)},_parse:function(e,s,n){var r=this,u=function(c,_){var m=r._parse_gpx_data(c,_);if(!m){r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(_.gpx_options.parseElements)});return}r.addLayer(m),r.fire("loaded",{layers:m,element:c})};if(e.substr(0,1)==="<"){var l=new DOMParser;n?setTimeout(function(){u(l.parseFromString(e,"text/xml"),s)}):u(l.parseFromString(e,"text/xml"),s)}else this._load_xml(e,u,s,n)},_parse_gpx_data:function(e,s){var n,r,u=[],l=e.getElementsByTagName("name");l.length>0&&(this._info.name=l[0].textContent);var c=e.getElementsByTagName("desc");c.length>0&&(this._info.desc=c[0].textContent);var _=e.getElementsByTagName("author");_.length>0&&(this._info.author=_[0].textContent);var m=e.getElementsByTagName("copyright");m.length>0&&(this._info.copyright=m[0].textContent);var d=s.gpx_options.parseElements;if(d.indexOf("route")>-1){var p=e.getElementsByTagName("rte");for(n=0;n<p.length;n++){var w=p[n],b=this._extract_styling(w),x=this._get_polyline_options(s.polyline_options,n);u=u.concat(this._parse_segment(p[n],s,b,x,"rtept"))}}if(d.indexOf("track")>-1){var E=e.getElementsByTagName("trk");for(n=0;n<E.length;n++){var T=E[n],b=this._extract_styling(T),x=this._get_polyline_options(s.polyline_options,n);if(s.gpx_options.joinTrackSegments)u=u.concat(this._parse_segment(T,s,b,x,"trkpt"));else{var I=T.getElementsByTagName("trkseg");for(j=0;j<I.length;j++)u=u.concat(this._parse_segment(I[j],s,b,x,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),d.indexOf("waypoint")>-1)for(r=e.getElementsByTagName("wpt"),n=0;n<r.length;n++){var M=new L.LatLng(r[n].getAttribute("lat"),r[n].getAttribute("lon")),D=r[n].getElementsByTagName("name"),l=D.length>0?D[0].textContent:"",N=r[n].getElementsByTagName("desc"),c=N.length>0?N[0].textContent:"",z=r[n].getElementsByTagName("sym"),P=z.length>0?z[0].textContent:null,U=r[n].getElementsByTagName("type"),Z=U.length>0?U[0].textContent:null,A=s.markers.wptIcons,B=s.markers.wptTypeIcons,q=s.markers.pointMatchers||[],C;if(A&&P&&A[P])C=A[P];else if(B&&Z&&B[Z])C=B[Z];else if(q.length>0){for(var j=0;j<q.length;j++)if(q[j].regex.test(l)){C=q[j].icon;break}}else A&&A[""]&&(C=A[""]);if(!C){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",P,Z,l,r[n]);continue}var at=new L.Marker(M,{clickable:s.marker_options.clickable,title:l,icon:C,type:"waypoint"});at.bindPopup("<b>"+l+"</b>"+(c.length>0?"<br>"+c:"")).openPopup(),this.fire("addpoint",{point:at,point_type:"waypoint",element:r[n]}),u.push(at)}if(u.length>1)return new L.FeatureGroup(u);if(u.length==1)return u[0]},_parse_segment:function(e,s,n,r,u){var l=e.getElementsByTagName(u);if(!l.length)return[];for(var c=[],_=[],m=[],d=null,p=0;p<l.length;p++){var w,b=new L.LatLng(l[p].getAttribute("lat"),l[p].getAttribute("lon"));b.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},w=l[p].getElementsByTagName("time"),w.length>0?b.meta.time=new Date(Date.parse(w[0].textContent)):b.meta.time=new Date("1970-01-01T00:00:00");var x=d!=null?Math.abs(b.meta.time-d.meta.time):0;w=l[p].getElementsByTagName("ele"),w.length>0?b.meta.ele=parseFloat(w[0].textContent):b.meta.ele=d!=null?d.meta.ele:null;var E=d!=null?b.meta.ele-d.meta.ele:0,T=d!=null?this._dist3d(d,b):0;if(w=l[p].getElementsByTagName("speed"),w.length>0?b.meta.speed=parseFloat(w[0].textContent):b.meta.speed=x>0?1e3*T/x:0,w=l[p].getElementsByTagName("name"),w.length>0){for(var I=w[0].textContent,M=s.markers.pointMatchers||[],D=0;D<M.length;D++)if(M[D].regex.test(I)){_.push({label:I,coords:b,icon:M[D].icon,element:l[p]});break}}this._info.length+=T,w=l[p].getElementsByTagNameNS("*","hr"),w.length>0&&(b.meta.hr=parseInt(w[0].textContent),this._info.hr._points.push([this._info.length,b.meta.hr]),this._info.hr._total+=b.meta.hr),w=l[p].getElementsByTagNameNS("*","cad"),w.length>0&&(b.meta.cad=parseInt(w[0].textContent),this._info.cad._points.push([this._info.length,b.meta.cad]),this._info.cad._total+=b.meta.cad),w=l[p].getElementsByTagNameNS("*","atemp"),w.length>0&&(b.meta.atemp=parseInt(w[0].textContent),this._info.atemp._points.push([this._info.length,b.meta.atemp]),this._info.atemp._total+=b.meta.atemp),b.meta.ele>this._info.elevation.max&&(this._info.elevation.max=b.meta.ele),b.meta.ele<this._info.elevation.min&&(this._info.elevation.min=b.meta.ele),this._info.elevation._points.push([this._info.length,b.meta.ele]),b.meta.speed>this._info.speed.max&&(this._info.speed.max=b.meta.speed),this._info.speed._points.push([this._info.length,b.meta.speed]),d==null&&this._info.duration.start==null&&(this._info.duration.start=b.meta.time),this._info.duration.end=b.meta.time,this._info.duration.total+=x,x<s.max_point_interval&&(this._info.duration.moving+=x),E>0?this._info.elevation.gain+=E:this._info.elevation.loss+=Math.abs(E),d=b,c.push(b)}var N=new L.Polyline(c,this._extract_styling(e,n,r));if(this.fire("addline",{line:N,element:e}),m.push(N),s.markers.startIcon){var z=new L.Marker(c[0],{clickable:s.marker_options.clickable,icon:s.markers.startIcon});this.fire("addpoint",{point:z,point_type:"start",element:l[0],line:e}),m.push(z)}if(s.markers.endIcon){var z=new L.Marker(c[c.length-1],{clickable:s.marker_options.clickable,icon:s.markers.endIcon});this.fire("addpoint",{point:z,point_type:"end",element:l[l.length-1],line:e}),m.push(z)}for(var p=0;p<_.length;p++){var z=new L.Marker(_[p].coords,{clickable:s.marker_options.clickable,title:_[p].label,icon:_[p].icon});this.fire("addpoint",{point:z,point_type:"label",element:_[p].element}),m.push(z)}return m},_get_polyline_options:function(e,s){return Array.isArray(e)?e[s]||{}:e},_extract_styling:function(e,s,n){var r=this._merge_objs(Lu,s),u=e.getElementsByTagNameNS(xu,"line");if(u.length>0){var l=u[0].getElementsByTagName("color");l.length>0&&(r.color="#"+l[0].textContent);var l=u[0].getElementsByTagName("opacity");l.length>0&&(r.opacity=l[0].textContent);var l=u[0].getElementsByTagName("weight");l.length>0&&(r.weight=l[0].textContent);var l=u[0].getElementsByTagName("linecap");l.length>0&&(r.lineCap=l[0].textContent);var l=u[0].getElementsByTagName("linejoin");l.length>0&&(r.lineJoin=l[0].textContent);var l=u[0].getElementsByTagName("dasharray");l.length>0&&(r.dashArray=l[0].textContent);var l=u[0].getElementsByTagName("dashoffset");l.length>0&&(r.dashOffset=l[0].textContent)}return this._merge_objs(r,n)},_dist2d:function(e,s){var n=6371e3,r=this._deg2rad(s.lat-e.lat),u=this._deg2rad(s.lng-e.lng),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(e.lat))*Math.cos(this._deg2rad(s.lat))*Math.sin(u/2)*Math.sin(u/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),_=n*c;return _},_dist3d:function(e,s){var n=this._dist2d(e,s),r=Math.abs(s.meta.ele-e.meta.ele);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},_deg2rad:function(e){return e*Math.PI/180}});(function(){L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(n,r){r&&L.Util.setOptions(this,r),this._buildContainer(),this._buttons=[];for(var u=0;u<n.length;u++)n[u]._bar=this,n[u]._container=n[u].button,this._buttons.push(n[u]),this.container.appendChild(n[u].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(n){this._map=n;for(var r=0;r<this._buttons.length;r++)this._buttons[r]._map=n;var u=this._container=this.onAdd(n),l=this.getPosition(),c=n._controlCorners[l];return L.DomUtil.addClass(u,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(u,c.firstChild):c.appendChild(u),this}}),L.easyBar=function(){for(var n=[L.Control.EasyBar],r=0;r<arguments.length;r++)n.push(arguments[r]);return new(Function.prototype.bind.apply(L.Control.EasyBar,n))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(n,r,u,l){this.options.states=[],l!=null&&(this.options.id=l),this.storage={},typeof arguments[arguments.length-1]=="object"&&L.Util.setOptions(this,arguments[arguments.length-1]),this.options.states.length===0&&typeof n=="string"&&typeof r=="function"&&this.options.states.push({icon:n,onClick:r,title:typeof u=="string"?u:""}),this._states=[];for(var c=0;c<this.options.states.length;c++)this._states.push(new e(this.options.states[c],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),this.options.tagName==="button"&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(r){L.DomEvent.stop(r),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),this.options.type=="replace")this.button.appendChild(this._currentState.icon);else for(var n=0;n<this._states.length;n++)this.button.appendChild(this._states[n].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(n){return arguments.length===0?this._currentState.stateName:(typeof n=="string"?this._activateStateNamed(n):typeof n=="number"&&this._activateState(this._states[n]),this)},_activateStateNamed:function(n){for(var r=0;r<this._states.length;r++)this._states[r].stateName==n&&this._activateState(this._states[r])},_activateState:function(n){if(n!==this._currentState){this.options.type=="replace"&&(this.button.appendChild(n.icon),this.button.removeChild(this._currentState.icon)),n.title?this.button.title=n.title:this.button.removeAttribute("title");for(var r=0;r<this._states.length;r++)L.DomUtil.removeClass(this._states[r].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[r].icon,n.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,n.stateName+"-active"),this._currentState=n}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(n){var r=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=r,this._container=r.container,this._anonymousBar.container},removeFrom:function(n){return this._map===n&&this.remove(),this}}),L.easyButton=function(){var n=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,n))};function e(n,r){this.title=n.title,this.stateName=n.stateName?n.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=s(n.icon),this.onClick=L.Util.bind(n.onClick?n.onClick:function(){},r)}function s(n){var r;return n.match(/[&;=<>"']/)?r=n:(n=n.replace(/(^\s*|\s*$)/g,""),r=L.DomUtil.create("span",""),n.indexOf("fa-")===0?L.DomUtil.addClass(r,"fa "+n):n.indexOf("glyphicon-")===0?L.DomUtil.addClass(r,"glyphicon "+n):L.DomUtil.addClass(r,n),r=r.outerHTML),r}})();var Pu={exports:{}};(function(e){(function(s,n){typeof modules=="object"&&e.exports?e.exports=n(Ma()):n(L)})(Ca,function(s){return s.TileLayer.Provider=s.TileLayer.extend({initialize:function(n,r){var u=s.TileLayer.Provider.providers,l=n.split("."),c=l[0],_=l[1];if(!u[c])throw"No such provider ("+c+")";var m={url:u[c].url,options:u[c].options};if(_&&"variants"in u[c]){if(!(_ in u[c].variants))throw"No such variant of "+c+" ("+_+")";var d=u[c].variants[_],p;typeof d=="string"?p={variant:d}:p=d.options,m={url:d.url||m.url,options:s.Util.extend({},m.options,p)}}var w=function(x){return x.indexOf("{attribution.")===-1?x:x.replace(/\{attribution.(\w*)\}/g,function(E,T){return w(u[T].options.attribution)})};m.options.attribution=w(m.options.attribution);var b=s.Util.extend({},m.options,r);s.TileLayer.prototype.initialize.call(this,m.url,b)}}),s.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},variants:{Mapnik:{},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; OpenStreetMap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OPNVKarte:{url:"https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data {attribution.OpenStreetMap}'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Stadia:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",options:{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'},variants:{AlidadeSmooth:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"},AlidadeSmoothDark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png"},OSMBright:{url:"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png"},Outdoors:{url:"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png"}}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer",MobileAtlas:"mobile-atlas",Neighbourhood:"neighbourhood"}},CyclOSM:{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:20,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Jawg:{url:"https://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}",options:{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> {attribution.OpenStreetMap}',minZoom:0,maxZoom:22,subdomains:"abcd",variant:"jawg-terrain",accessToken:"<insert your access token here>"},variants:{Streets:"jawg-streets",Terrain:"jawg-terrain",Sunny:"jawg-sunny",Dark:"jawg-dark",Light:"jawg-light",Matrix:"jawg-matrix"}},MapBox:{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",options:{attribution:'&copy; <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a> {attribution.OpenStreetMap} <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"<insert your access token here>"}},MapTiler:{url:"https://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}",options:{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',variant:"streets",ext:"png",key:"<insert your MapTiler Cloud API key here>",tileSize:512,zoomOffset:-1,minZoom:0,maxZoom:21},variants:{Streets:"streets",Basic:"basic",Bright:"bright",Pastel:"pastel",Positron:"positron",Hybrid:{options:{variant:"hybrid",ext:"jpg"}},Toner:"toner",Topo:"topo",Voyager:"voyager"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}},TopOSMRelief:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},TomTom:{url:"https://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}",options:{variant:"basic",maxZoom:22,attribution:'<a href="https://tomtom.com" target="_blank">&copy;  1992 - '+new Date().getFullYear()+" TomTom.</a> ",subdomains:"abcd",style:"main",ext:"png",apikey:"<insert your API key here>"},variants:{Basic:"basic",Hybrid:"hybrid",Labels:"labels"}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:"Map &copy; 1987-"+new Date().getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalDayTraffic:{options:{variant:"normal.traffic.day",base:"traffic",type:"traffictile"}},normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},hybridDayTraffic:{options:{variant:"hybrid.traffic.day",base:"traffic",type:"traffictile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},HEREv3:{url:"https://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}",options:{attribution:"Map &copy; 1987-"+new Date().getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",apiKey:"<insert your apiKey here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"https://{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"abcd",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"https://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],type:"normal",format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",terrain:{options:{variant:"bmapgelaende",type:"grau",format:"jpeg"}},surface:{options:{variant:"bmapoberflaeche",type:"grau",format:"jpeg"}},highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="https://www.kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://service.pdok.nl/hwh/luchtfotorgb/wmts/v1_0/Actueel_ortho25/EPSG:3857/{z}/{x}/{y}.jpeg"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_NDSI_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"https://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},GeoportailFrance:{url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{attribution:'<a target="_blank" href="https://www.geoportail.gouv.fr/">Geoportail France</a>',bounds:[[-75,-180],[81,180]],minZoom:2,maxZoom:18,apikey:"choisirgeoportail",format:"image/png",style:"normal",variant:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"},variants:{plan:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",parcels:{options:{variant:"CADASTRALPARCELS.PARCELLAIRE_EXPRESS",style:"PCI vecteur",maxZoom:20}},orthos:{options:{maxZoom:19,format:"image/jpeg",variant:"ORTHOIMAGERY.ORTHOPHOTOS"}}}},OneMapSG:{url:"https://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.png",options:{variant:"Default",minZoom:11,maxZoom:18,bounds:[[1.56073,104.11475],[1.16,103.502]],attribution:'<img src="https://docs.onemap.sg/maps/images/oneMap64-01.png" style="height:20px;width:20px;"/> New OneMap | Map data &copy; contributors, <a href="http://SLA.gov.sg">Singapore Land Authority</a>'},variants:{Default:"Default",Night:"Night",Original:"Original",Grey:"Grey",LandLot:"LandLot"}},USGS:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'},variants:{USTopo:{},USImagery:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}"},USImageryTopo:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}"}}},WaymarkedTrails:{url:"https://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://waymarkedtrails.org">waymarkedtrails.org</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},variants:{hiking:"hiking",cycling:"cycling",mtb:"mtb",slopes:"slopes",riding:"riding",skating:"skating"}},OpenAIP:{url:"https://{s}.tile.maps.openaip.net/geowebcache/service/tms/1.0.0/openaip_basemap@EPSG%3A900913@png/{z}/{x}/{y}.{ext}",options:{attribution:'<a href="https://www.openaip.net/">openAIP Data</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-NC-SA</a>)',ext:"png",minZoom:4,maxZoom:14,tms:!0,detectRetina:!0,subdomains:"12"}},OpenSnowMap:{url:"https://tiles.opensnowmap.org/{variant}/{z}/{x}/{y}.png",options:{minZoom:9,maxZoom:18,attribution:'Map data: {attribution.OpenStreetMap} & ODbL, &copy; <a href="https://www.opensnowmap.org/iframes/data.html">www.opensnowmap.org</a> <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'},variants:{pistes:"pistes"}},AzureMaps:{url:"https://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&language={language}&subscription-key={subscriptionKey}",options:{attribution:"See https://docs.microsoft.com/en-US/rest/api/maps/renderv2/getmaptilepreview for details.",apiVersion:"2.0",variant:"microsoft.imagery",subscriptionKey:"<insert your subscription key here>",language:"en-US"},variants:{MicrosoftImagery:"microsoft.imagery",MicrosoftBaseDarkGrey:"microsoft.base.darkgrey",MicrosoftBaseRoad:"microsoft.base.road",MicrosoftBaseHybridRoad:"microsoft.base.hybrid.road",MicrosoftTerraMain:"microsoft.terra.main",MicrosoftWeatherInfraredMain:{url:"https://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&timeStamp={timeStamp}&language={language}&subscription-key={subscriptionKey}",options:{timeStamp:"2021-05-08T09:03:00Z",attribution:"See https://docs.microsoft.com/en-US/rest/api/maps/renderv2/getmaptilepreview#uri-parameters for details.",variant:"microsoft.weather.infrared.main"}},MicrosoftWeatherRadarMain:{url:"https://atlas.microsoft.com/map/tile?api-version={apiVersion}&tilesetId={variant}&x={x}&y={y}&zoom={z}&timeStamp={timeStamp}&language={language}&subscription-key={subscriptionKey}",options:{timeStamp:"2021-05-08T09:03:00Z",attribution:"See https://docs.microsoft.com/en-US/rest/api/maps/renderv2/getmaptilepreview#uri-parameters for details.",variant:"microsoft.weather.radar.main"}}}}},s.tileLayer.provider=function(n,r){return new s.TileLayer.Provider(n,r)},s})})(Pu);var Su={exports:{}};(function(e){(function(s,n){e.exports?e.exports=n(Ma()):n(s.L)})(typeof self<"u"?self:Ca,s=>{if(typeof document>"u")return console.warn('"window.document" is undefined; leaflet.fullscreen requires this object to access the DOM'),!1;const n=(()=>{const l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"]],c=l[0],_={};for(const m of l)if(m[1]in document){for(let d=0;d<m.length;d++)_[c[d]]=m[d];return _}return!1})(),r={change:n.fullscreenchange,error:n.fullscreenerror},u={request(l,c){return new Promise((_,m)=>{const d=function(){this.off("change",d),_()}.bind(this);this.on("change",d),l=l||document.documentElement;const p=l[n.requestFullscreen](c);p instanceof Promise&&p.then(d).catch(m)})},exit(){return new Promise((l,c)=>{if(!this.isFullscreen){l();return}const _=function(){this.off("change",_),l()}.bind(this);this.on("change",_);const m=document[n.exitFullscreen]();m instanceof Promise&&m.then(_).catch(c)})},on(l,c){const _=r[l];_&&document.addEventListener(_,c,!1)},off(l,c){const _=r[l];_&&document.removeEventListener(_,c,!1)},nativeAPI:n};return Object.defineProperties(u,{isFullscreen:{get(){return Boolean(document[n.fullscreenElement])}},isEnabled:{enumerable:!0,get(){return Boolean(document[n.fullscreenEnabled])}}}),s.Control.FullScreen=s.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:u,onAdd(l){let c="leaflet-control-zoom-fullscreen",_,m="";return l.zoomControl&&!this.options.forceSeparateButton?_=l.zoomControl._container:_=s.DomUtil.create("div","leaflet-bar"),this.options.content?m=this.options.content:c+=" leaflet-fullscreen-icon",this._createButton(this.options.title,c,m,_,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),_},onRemove(){s.DomEvent.off(this.link,"click",s.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(s.DomEvent.off(this._container,this._screenfull.nativeAPI.fullscreenchange,s.DomEvent.stop).off(this._container,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this),s.DomEvent.off(document,this._screenfull.nativeAPI.fullscreenchange,s.DomEvent.stop).off(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,this))},_createButton(l,c,_,m,d,p){return this.link=s.DomUtil.create("a",c,m),this.link.href="#",this.link.title=l,this.link.innerHTML=_,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",l),L.DomEvent.disableClickPropagation(m),s.DomEvent.on(this.link,"click",s.DomEvent.stop).on(this.link,"click",d,p),this._screenfull.isEnabled&&(s.DomEvent.on(m,this._screenfull.nativeAPI.fullscreenchange,s.DomEvent.stop).on(m,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,p),s.DomEvent.on(document,this._screenfull.nativeAPI.fullscreenchange,s.DomEvent.stop).on(document,this._screenfull.nativeAPI.fullscreenchange,this._handleFullscreenChange,p)),this.link},toggleFullScreen(){const l=this._map;l._exitFired=!1,l._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit().then(()=>l.invalidateSize()):(s.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:l._container,"leaflet-pseudo-fullscreen"),l.invalidateSize()),l.fire("exitFullscreen"),l._exitFired=!0,l._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:l._container).then(()=>l.invalidateSize()):(s.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:l._container,"leaflet-pseudo-fullscreen"),l.invalidateSize()),l.fire("enterFullscreen"),l._isFullscreen=!0)},_toggleState(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange(l){const c=this._map;l.target===c.getContainer()&&!this._screenfull.isFullscreen&&!c._exitFired&&(this._screenfull.exit().then(()=>c.invalidateSize()),c.fire("exitFullscreen"),c._exitFired=!0,c._isFullscreen=!1)}}),s.Map.include({toggleFullscreen(){this.fullscreenControl.toggleFullScreen()}}),s.Map.addInitHook(function(){this.options.fullscreenControl&&this.addControl(s.control.fullscreen(this.options.fullscreenControlOptions))}),s.control.fullscreen=function(l){return new s.Control.FullScreen(l)},{leaflet:s}})})(Su);const qr=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Cu=qr+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Mu="["+qr+"]["+Cu+"]*",zu=new RegExp("^"+Mu+"$");function $r(e,s){const n=[];let r=s.exec(e);for(;r;){const u=[];u.startIndex=s.lastIndex-r[0].length;const l=r.length;for(let c=0;c<l;c++)u.push(r[c]);n.push(u),r=s.exec(e)}return n}const za=function(e){const s=zu.exec(e);return!(s===null||typeof s>"u")};function Au(e){return typeof e<"u"}const Ou={allowBooleanAttributes:!1,unpairedTags:[]};function Iu(e,s){s=Object.assign({},Ou,s);const n=[];let r=!1,u=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let l=0;l<e.length;l++)if(e[l]==="<"&&e[l+1]==="?"){if(l+=2,l=tr(e,l),l.err)return l}else if(e[l]==="<"){let c=l;if(l++,e[l]==="!"){l=er(e,l);continue}else{let _=!1;e[l]==="/"&&(_=!0,l++);let m="";for(;l<e.length&&e[l]!==">"&&e[l]!==" "&&e[l]!=="	"&&e[l]!==`
`&&e[l]!=="\r";l++)m+=e[l];if(m=m.trim(),m[m.length-1]==="/"&&(m=m.substring(0,m.length-1),l--),!Hu(m)){let w;return m.trim().length===0?w="Invalid space after '<'.":w="Tag '"+m+"' is an invalid name.",ot("InvalidTag",w,gt(e,l))}const d=Bu(e,l);if(d===!1)return ot("InvalidAttr","Attributes for '"+m+"' have open quote.",gt(e,l));let p=d.value;if(l=d.index,p[p.length-1]==="/"){const w=l-p.length;p=p.substring(0,p.length-1);const b=ir(p,s);if(b===!0)r=!0;else return ot(b.err.code,b.err.msg,gt(e,w+b.err.line))}else if(_)if(d.tagClosed){if(p.trim().length>0)return ot("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",gt(e,c));if(n.length===0)return ot("InvalidTag","Closing tag '"+m+"' has not been opened.",gt(e,c));{const w=n.pop();if(m!==w.tagName){let b=gt(e,w.tagStartPos);return ot("InvalidTag","Expected closing tag '"+w.tagName+"' (opened in line "+b.line+", col "+b.col+") instead of closing tag '"+m+"'.",gt(e,c))}n.length==0&&(u=!0)}}else return ot("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",gt(e,l));else{const w=ir(p,s);if(w!==!0)return ot(w.err.code,w.err.msg,gt(e,l-p.length+w.err.line));if(u===!0)return ot("InvalidXml","Multiple possible root nodes found.",gt(e,l));s.unpairedTags.indexOf(m)!==-1||n.push({tagName:m,tagStartPos:c}),r=!0}for(l++;l<e.length;l++)if(e[l]==="<")if(e[l+1]==="!"){l++,l=er(e,l);continue}else if(e[l+1]==="?"){if(l=tr(e,++l),l.err)return l}else break;else if(e[l]==="&"){const w=Du(e,l);if(w==-1)return ot("InvalidChar","char '&' is not expected.",gt(e,l));l=w}else if(u===!0&&!Qs(e[l]))return ot("InvalidXml","Extra text at the end",gt(e,l));e[l]==="<"&&l--}}else{if(Qs(e[l]))continue;return ot("InvalidChar","char '"+e[l]+"' is not expected.",gt(e,l))}if(r){if(n.length==1)return ot("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",gt(e,n[0].tagStartPos));if(n.length>0)return ot("InvalidXml","Invalid '"+JSON.stringify(n.map(l=>l.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ot("InvalidXml","Start tag expected.",1);return!0}function Qs(e){return e===" "||e==="	"||e===`
`||e==="\r"}function tr(e,s){const n=s;for(;s<e.length;s++)if(e[s]=="?"||e[s]==" "){const r=e.substr(n,s-n);if(s>5&&r==="xml")return ot("InvalidXml","XML declaration allowed only at the start of the document.",gt(e,s));if(e[s]=="?"&&e[s+1]==">"){s++;break}else continue}return s}function er(e,s){if(e.length>s+5&&e[s+1]==="-"&&e[s+2]==="-"){for(s+=3;s<e.length;s++)if(e[s]==="-"&&e[s+1]==="-"&&e[s+2]===">"){s+=2;break}}else if(e.length>s+8&&e[s+1]==="D"&&e[s+2]==="O"&&e[s+3]==="C"&&e[s+4]==="T"&&e[s+5]==="Y"&&e[s+6]==="P"&&e[s+7]==="E"){let n=1;for(s+=8;s<e.length;s++)if(e[s]==="<")n++;else if(e[s]===">"&&(n--,n===0))break}else if(e.length>s+9&&e[s+1]==="["&&e[s+2]==="C"&&e[s+3]==="D"&&e[s+4]==="A"&&e[s+5]==="T"&&e[s+6]==="A"&&e[s+7]==="["){for(s+=8;s<e.length;s++)if(e[s]==="]"&&e[s+1]==="]"&&e[s+2]===">"){s+=2;break}}return s}const Nu='"',Zu="'";function Bu(e,s){let n="",r="",u=!1;for(;s<e.length;s++){if(e[s]===Nu||e[s]===Zu)r===""?r=e[s]:r!==e[s]||(r="");else if(e[s]===">"&&r===""){u=!0;break}n+=e[s]}return r!==""?!1:{value:n,index:s,tagClosed:u}}const Fu=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ir(e,s){const n=$r(e,Fu),r={};for(let u=0;u<n.length;u++){if(n[u][1].length===0)return ot("InvalidAttr","Attribute '"+n[u][2]+"' has no space in starting.",ui(n[u]));if(n[u][3]!==void 0&&n[u][4]===void 0)return ot("InvalidAttr","Attribute '"+n[u][2]+"' is without value.",ui(n[u]));if(n[u][3]===void 0&&!s.allowBooleanAttributes)return ot("InvalidAttr","boolean attribute '"+n[u][2]+"' is not allowed.",ui(n[u]));const l=n[u][2];if(!Uu(l))return ot("InvalidAttr","Attribute '"+l+"' is an invalid name.",ui(n[u]));if(!r.hasOwnProperty(l))r[l]=1;else return ot("InvalidAttr","Attribute '"+l+"' is repeated.",ui(n[u]))}return!0}function Ru(e,s){let n=/\d/;for(e[s]==="x"&&(s++,n=/[\da-fA-F]/);s<e.length;s++){if(e[s]===";")return s;if(!e[s].match(n))break}return-1}function Du(e,s){if(s++,e[s]===";")return-1;if(e[s]==="#")return s++,Ru(e,s);let n=0;for(;s<e.length;s++,n++)if(!(e[s].match(/\w/)&&n<20)){if(e[s]===";")break;return-1}return s}function ot(e,s,n){return{err:{code:e,msg:s,line:n.line||n,col:n.col}}}function Uu(e){return za(e)}function Hu(e){return za(e)}function gt(e,s){const n=e.substring(0,s).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function ui(e){return e.startIndex+e[1].length}const Gu={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,s){return s},attributeValueProcessor:function(e,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,s,n){return e},captureMetaData:!1},Wu=function(e){return Object.assign({},Gu,e)};let _n;typeof Symbol!="function"?_n="@@xmlMetadata":_n=Symbol("XML Node Metadata");class ge{constructor(s){this.tagname=s,this.child=[],this[":@"]={}}add(s,n){s==="__proto__"&&(s="#__proto__"),this.child.push({[s]:n})}addChild(s,n){s.tagname==="__proto__"&&(s.tagname="#__proto__"),s[":@"]&&Object.keys(s[":@"]).length>0?this.child.push({[s.tagname]:s.child,[":@"]:s[":@"]}):this.child.push({[s.tagname]:s.child}),n!==void 0&&(this.child[this.child.length-1][_n]={startIndex:n})}static getMetaDataSymbol(){return _n}}function ju(e,s){const n={};if(e[s+3]==="O"&&e[s+4]==="C"&&e[s+5]==="T"&&e[s+6]==="Y"&&e[s+7]==="P"&&e[s+8]==="E"){s=s+9;let r=1,u=!1,l=!1,c="";for(;s<e.length;s++)if(e[s]==="<"&&!l){if(u&&ve(e,"!ENTITY",s)){s+=7;let _,m;[_,m,s]=Vu(e,s+1),m.indexOf("&")===-1&&(n[_]={regx:RegExp(`&${_};`,"g"),val:m})}else if(u&&ve(e,"!ELEMENT",s)){s+=8;const{index:_}=$u(e,s+1);s=_}else if(u&&ve(e,"!ATTLIST",s))s+=8;else if(u&&ve(e,"!NOTATION",s)){s+=9;const{index:_}=qu(e,s+1);s=_}else if(ve(e,"!--",s))l=!0;else throw new Error("Invalid DOCTYPE");r++,c=""}else if(e[s]===">"){if(l?e[s-1]==="-"&&e[s-2]==="-"&&(l=!1,r--):r--,r===0)break}else e[s]==="["?u=!0:c+=e[s];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:s}}const le=(e,s)=>{for(;s<e.length&&/\s/.test(e[s]);)s++;return s};function Vu(e,s){s=le(e,s);let n="";for(;s<e.length&&!/\s/.test(e[s])&&e[s]!=='"'&&e[s]!=="'";)n+=e[s],s++;if(Aa(n),s=le(e,s),e.substring(s,s+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[s]==="%")throw new Error("Parameter entities are not supported");let r="";return[s,r]=rn(e,s,"entity"),s--,[n,r,s]}function qu(e,s){s=le(e,s);let n="";for(;s<e.length&&!/\s/.test(e[s]);)n+=e[s],s++;Aa(n),s=le(e,s);const r=e.substring(s,s+6).toUpperCase();if(r!=="SYSTEM"&&r!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);s+=r.length,s=le(e,s);let u=null,l=null;if(r==="PUBLIC")[s,u]=rn(e,s,"publicIdentifier"),s=le(e,s),(e[s]==='"'||e[s]==="'")&&([s,l]=rn(e,s,"systemIdentifier"));else if(r==="SYSTEM"&&([s,l]=rn(e,s,"systemIdentifier"),!l))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:u,systemIdentifier:l,index:--s}}function rn(e,s,n){let r="";const u=e[s];if(u!=='"'&&u!=="'")throw new Error(`Expected quoted string, found "${u}"`);for(s++;s<e.length&&e[s]!==u;)r+=e[s],s++;if(e[s]!==u)throw new Error(`Unterminated ${n} value`);return s++,[s,r]}function $u(e,s){s=le(e,s);let n="";for(;s<e.length&&!/\s/.test(e[s]);)n+=e[s],s++;if(!Aa(n))throw new Error(`Invalid element name: "${n}"`);s=le(e,s);let r="";if(e[s]==="E"&&ve(e,"MPTY",s))s+=4;else if(e[s]==="A"&&ve(e,"NY",s))s+=2;else if(e[s]==="("){for(s++;s<e.length&&e[s]!==")";)r+=e[s],s++;if(e[s]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[s]}"`);return{elementName:n,contentModel:r.trim(),index:s}}function ve(e,s,n){for(let r=0;r<s.length;r++)if(s[r]!==e[n+r+1])return!1;return!0}function Aa(e){if(za(e))return e;throw new Error(`Invalid entity name ${e}`)}const Ku=/^[-+]?0x[a-fA-F0-9]+$/,Yu=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Xu={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Ju(e,s={}){if(s=Object.assign({},Xu,s),!e||typeof e!="string")return e;let n=e.trim();if(s.skipLike!==void 0&&s.skipLike.test(n))return e;if(e==="0")return 0;if(s.hex&&Ku.test(n))return nf(n,16);if(n.search(/.+[eE].+/)!==-1)return tf(e,n,s);{const r=Yu.exec(n);if(r){const u=r[1]||"",l=r[2];let c=ef(r[3]);const _=u?e[l.length+1]===".":e[l.length]===".";if(!s.leadingZeros&&(l.length>1||l.length===1&&!_))return e;{const m=Number(n),d=String(m);if(m===0)return m;if(d.search(/[eE]/)!==-1)return s.eNotation?m:e;if(n.indexOf(".")!==-1)return d==="0"||d===c||d===`${u}${c}`?m:e;let p=l?c:n;return l?p===d||u+p===d?m:e:p===d||p===u+d?m:e}}else return e}}const Qu=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function tf(e,s,n){if(!n.eNotation)return e;const r=s.match(Qu);if(r){let u=r[1]||"";const l=r[3].indexOf("e")===-1?"E":"e",c=r[2],_=u?e[c.length+1]===l:e[c.length]===l;return c.length>1&&_?e:c.length===1&&(r[3].startsWith(`.${l}`)||r[3][0]===l)?Number(s):n.leadingZeros&&!_?(s=(r[1]||"")+r[3],Number(s)):e}else return e}function ef(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function nf(e,s){if(parseInt)return parseInt(e,s);if(Number.parseInt)return Number.parseInt(e,s);if(window&&window.parseInt)return window.parseInt(e,s);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function af(e){return typeof e=="function"?e:Array.isArray(e)?s=>{for(const n of e)if(typeof n=="string"&&s===n||n instanceof RegExp&&n.test(s))return!0}:()=>!1}class sf{constructor(s){this.options=s,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=rf,this.parseXml=hf,this.parseTextData=of,this.resolveNameSpace=lf,this.buildAttributesMap=ff,this.isItStopNode=pf,this.replaceEntitiesValue=_f,this.readStopNodeData=gf,this.saveTextToParentTag=df,this.addChild=cf,this.ignoreAttributesFn=af(this.options.ignoreAttributes)}}function rf(e){const s=Object.keys(e);for(let n=0;n<s.length;n++){const r=s[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function of(e,s,n,r,u,l,c){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){c||(e=this.replaceEntitiesValue(e));const _=this.options.tagValueProcessor(s,e,n,u,l);return _==null?e:typeof _!=typeof e||_!==e?_:this.options.trimValues?ba(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ba(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function lf(e){if(this.options.removeNSPrefix){const s=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(s[0]==="xmlns")return"";s.length===2&&(e=n+s[1])}return e}const uf=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ff(e,s,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=$r(e,uf),u=r.length,l={};for(let c=0;c<u;c++){const _=this.resolveNameSpace(r[c][1]);if(this.ignoreAttributesFn(_,s))continue;let m=r[c][4],d=this.options.attributeNamePrefix+_;if(_.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),m!==void 0){this.options.trimValues&&(m=m.trim()),m=this.replaceEntitiesValue(m);const p=this.options.attributeValueProcessor(_,m,s);p==null?l[d]=m:typeof p!=typeof m||p!==m?l[d]=p:l[d]=ba(m,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(l[d]=!0)}if(!Object.keys(l).length)return;if(this.options.attributesGroupName){const c={};return c[this.options.attributesGroupName]=l,c}return l}}const hf=function(e){e=e.replace(/\r\n?/g,`
`);const s=new ge("!xml");let n=s,r="",u="";for(let l=0;l<e.length;l++)if(e[l]==="<")if(e[l+1]==="/"){const _=ye(e,">",l,"Closing Tag is not closed.");let m=e.substring(l+2,_).trim();if(this.options.removeNSPrefix){const w=m.indexOf(":");w!==-1&&(m=m.substr(w+1))}this.options.transformTagName&&(m=this.options.transformTagName(m)),n&&(r=this.saveTextToParentTag(r,n,u));const d=u.substring(u.lastIndexOf(".")+1);if(m&&this.options.unpairedTags.indexOf(m)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${m}>`);let p=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(p=u.lastIndexOf(".",u.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=u.lastIndexOf("."),u=u.substring(0,p),n=this.tagsNodeStack.pop(),r="",l=_}else if(e[l+1]==="?"){let _=ya(e,l,!1,"?>");if(!_)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,u),!(this.options.ignoreDeclaration&&_.tagName==="?xml"||this.options.ignorePiTags)){const m=new ge(_.tagName);m.add(this.options.textNodeName,""),_.tagName!==_.tagExp&&_.attrExpPresent&&(m[":@"]=this.buildAttributesMap(_.tagExp,u,_.tagName)),this.addChild(n,m,u,l)}l=_.closeIndex+1}else if(e.substr(l+1,3)==="!--"){const _=ye(e,"-->",l+4,"Comment is not closed.");if(this.options.commentPropName){const m=e.substring(l+4,_-2);r=this.saveTextToParentTag(r,n,u),n.add(this.options.commentPropName,[{[this.options.textNodeName]:m}])}l=_}else if(e.substr(l+1,2)==="!D"){const _=ju(e,l);this.docTypeEntities=_.entities,l=_.i}else if(e.substr(l+1,2)==="!["){const _=ye(e,"]]>",l,"CDATA is not closed.")-2,m=e.substring(l+9,_);r=this.saveTextToParentTag(r,n,u);let d=this.parseTextData(m,n.tagname,u,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:m}]):n.add(this.options.textNodeName,d),l=_+2}else{let _=ya(e,l,this.options.removeNSPrefix),m=_.tagName;const d=_.rawTagName;let p=_.tagExp,w=_.attrExpPresent,b=_.closeIndex;this.options.transformTagName&&(m=this.options.transformTagName(m)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,u,!1));const x=n;x&&this.options.unpairedTags.indexOf(x.tagname)!==-1&&(n=this.tagsNodeStack.pop(),u=u.substring(0,u.lastIndexOf("."))),m!==s.tagname&&(u+=u?"."+m:m);const E=l;if(this.isItStopNode(this.options.stopNodes,u,m)){let T="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)m[m.length-1]==="/"?(m=m.substr(0,m.length-1),u=u.substr(0,u.length-1),p=m):p=p.substr(0,p.length-1),l=_.closeIndex;else if(this.options.unpairedTags.indexOf(m)!==-1)l=_.closeIndex;else{const M=this.readStopNodeData(e,d,b+1);if(!M)throw new Error(`Unexpected end of ${d}`);l=M.i,T=M.tagContent}const I=new ge(m);m!==p&&w&&(I[":@"]=this.buildAttributesMap(p,u,m)),T&&(T=this.parseTextData(T,m,u,!0,w,!0,!0)),u=u.substr(0,u.lastIndexOf(".")),I.add(this.options.textNodeName,T),this.addChild(n,I,u,E)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){m[m.length-1]==="/"?(m=m.substr(0,m.length-1),u=u.substr(0,u.length-1),p=m):p=p.substr(0,p.length-1),this.options.transformTagName&&(m=this.options.transformTagName(m));const T=new ge(m);m!==p&&w&&(T[":@"]=this.buildAttributesMap(p,u,m)),this.addChild(n,T,u,E),u=u.substr(0,u.lastIndexOf("."))}else{const T=new ge(m);this.tagsNodeStack.push(n),m!==p&&w&&(T[":@"]=this.buildAttributesMap(p,u,m)),this.addChild(n,T,u,E),n=T}r="",l=b}}else r+=e[l];return s.child};function cf(e,s,n,r){this.options.captureMetaData||(r=void 0);const u=this.options.updateTag(s.tagname,n,s[":@"]);u===!1||(typeof u=="string"&&(s.tagname=u),e.addChild(s,r))}const _f=function(e){if(this.options.processEntities){for(let s in this.docTypeEntities){const n=this.docTypeEntities[s];e=e.replace(n.regx,n.val)}for(let s in this.lastEntities){const n=this.lastEntities[s];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let s in this.htmlEntities){const n=this.htmlEntities[s];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function df(e,s,n,r){return e&&(r===void 0&&(r=s.child.length===0),e=this.parseTextData(e,s.tagname,n,!1,s[":@"]?Object.keys(s[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&s.add(this.options.textNodeName,e),e=""),e}function pf(e,s,n){const r="*."+n;for(const u in e){const l=e[u];if(r===l||s===l)return!0}return!1}function mf(e,s,n=">"){let r,u="";for(let l=s;l<e.length;l++){let c=e[l];if(r)c===r&&(r="");else if(c==='"'||c==="'")r=c;else if(c===n[0])if(n[1]){if(e[l+1]===n[1])return{data:u,index:l}}else return{data:u,index:l};else c==="	"&&(c=" ");u+=c}}function ye(e,s,n,r){const u=e.indexOf(s,n);if(u===-1)throw new Error(r);return u+s.length-1}function ya(e,s,n,r=">"){const u=mf(e,s+1,r);if(!u)return;let l=u.data;const c=u.index,_=l.search(/\s/);let m=l,d=!0;_!==-1&&(m=l.substring(0,_),l=l.substring(_+1).trimStart());const p=m;if(n){const w=m.indexOf(":");w!==-1&&(m=m.substr(w+1),d=m!==u.data.substr(w+1))}return{tagName:m,tagExp:l,closeIndex:c,attrExpPresent:d,rawTagName:p}}function gf(e,s,n){const r=n;let u=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const l=ye(e,">",n,`${s} is not closed`);if(e.substring(n+2,l).trim()===s&&(u--,u===0))return{tagContent:e.substring(r,n),i:l};n=l}else if(e[n+1]==="?")n=ye(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=ye(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=ye(e,"]]>",n,"StopNode is not closed.")-2;else{const l=ya(e,n,">");l&&((l&&l.tagName)===s&&l.tagExp[l.tagExp.length-1]!=="/"&&u++,n=l.closeIndex)}}function ba(e,s,n){if(s&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:Ju(e,n)}else return Au(e)?e:""}const ea=ge.getMetaDataSymbol();function vf(e,s){return Kr(e,s)}function Kr(e,s,n){let r;const u={};for(let l=0;l<e.length;l++){const c=e[l],_=yf(c);let m="";if(n===void 0?m=_:m=n+"."+_,_===s.textNodeName)r===void 0?r=c[_]:r+=""+c[_];else{if(_===void 0)continue;if(c[_]){let d=Kr(c[_],s,m);const p=wf(d,s);c[ea]!==void 0&&(d[ea]=c[ea]),c[":@"]?bf(d,c[":@"],m,s):Object.keys(d).length===1&&d[s.textNodeName]!==void 0&&!s.alwaysCreateTextNode?d=d[s.textNodeName]:Object.keys(d).length===0&&(s.alwaysCreateTextNode?d[s.textNodeName]="":d=""),u[_]!==void 0&&u.hasOwnProperty(_)?(Array.isArray(u[_])||(u[_]=[u[_]]),u[_].push(d)):s.isArray(_,m,p)?u[_]=[d]:u[_]=d}}}return typeof r=="string"?r.length>0&&(u[s.textNodeName]=r):r!==void 0&&(u[s.textNodeName]=r),u}function yf(e){const s=Object.keys(e);for(let n=0;n<s.length;n++){const r=s[n];if(r!==":@")return r}}function bf(e,s,n,r){if(s){const u=Object.keys(s),l=u.length;for(let c=0;c<l;c++){const _=u[c];r.isArray(_,n+"."+_,!0,!0)?e[_]=[s[_]]:e[_]=s[_]}}}function wf(e,s){const{textNodeName:n}=s,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class xf{constructor(s){this.externalEntities={},this.options=Wu(s)}parse(s,n){if(typeof s!="string")if(s.toString)s=s.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const l=Iu(s,n);if(l!==!0)throw Error(`${l.err.msg}:${l.err.line}:${l.err.col}`)}const r=new sf(this.options);r.addExternalEntities(this.externalEntities);const u=r.parseXml(s);return this.options.preserveOrder||u===void 0?u:vf(u,this.options)}addEntity(s,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(s.indexOf("&")!==-1||s.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[s]=n}static getMetaDataSymbol(){return ge.getMetaDataSymbol()}}var Yr={},We={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.getMessageName=kf;je.getFieldObject=Tf;var Xr=je.FIT={scConst:180/Math.pow(2,31),options:{speedUnits:{mph:{multiplier:3.6/1.4,offset:0},"km/h":{multiplier:3.6,offset:0}},lengthUnits:{mi:{multiplier:1/1609.344,offset:0},km:{multiplier:1/1e3,offset:0}},temperatureUnits:{kelvin:{multiplier:1,offset:-273.15},fahrenheit:{multiplier:1,offset:0}}},messages:{0:{name:"file_id",0:{field:"type",type:"file",scale:null,offset:"",units:""},1:{field:"manufacturer",type:"manufacturer",scale:null,offset:"",units:""},2:{field:"product",type:"uint16",scale:null,offset:"",units:""},3:{field:"serial_number",type:"uint32z",scale:null,offset:"",units:""},4:{field:"time_created",type:"date_time",scale:null,offset:"",units:""},5:{field:"number",type:"uint16",scale:null,offset:"",units:""},8:{field:"product_name",type:"string",scale:null,offset:"",units:""}},1:{name:"capabilities",0:{field:"languages",type:"uint8z",scale:null,offset:"",units:""},1:{field:"sports",type:"sport_bits_0",scale:null,offset:"",units:""},21:{field:"workouts_supported",type:"workout_capabilities",scale:null,offset:"",units:""},23:{field:"connectivity_supported",type:"connectivity_capabilities",scale:null,offset:"",units:""}},2:{name:"device_settings",0:{field:"active_time_zone",type:"uint8",scale:null,offset:"",units:""},1:{field:"utc_offset",type:"uint32",scale:null,offset:"",units:""},2:{field:"time_offset",type:"uint32",scale:null,offset:"",units:"s"},5:{field:"time_zone_offset",type:"sint8",scale:4,offset:"",units:"hr"},55:{field:"display_orientation",type:"display_orientation",scale:null,offset:"",units:""},56:{field:"mounting_side",type:"side",scale:null,offset:"",units:""},94:{field:"number_of_screens",type:"uint8",scale:null,offset:"",units:""},95:{field:"smart_notification_display_orientation",type:"display_orientation",scale:null,offset:"",units:""}},3:{name:"user_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"friendly_name",type:"string",scale:null,offset:0,units:""},1:{field:"gender",type:"gender",scale:null,offset:0,units:""},2:{field:"age",type:"uint8",scale:null,offset:0,units:"years"},3:{field:"height",type:"uint8",scale:100,offset:0,units:"m"},4:{field:"weight",type:"uint16",scale:10,offset:0,units:"kg"},5:{field:"language",type:"language",scale:null,offset:0,units:""},6:{field:"elev_setting",type:"display_measure",scale:null,offset:0,units:""},7:{field:"weight_setting",type:"display_measure",scale:null,offset:0,units:""},8:{field:"resting_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},9:{field:"default_max_running_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},10:{field:"default_max_biking_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},11:{field:"default_max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},12:{field:"hr_setting",type:"display_heart",scale:null,offset:0,units:""},13:{field:"speed_setting",type:"display_measure",scale:null,offset:0,units:""},14:{field:"dist_setting",type:"display_measure",scale:null,offset:0,units:""},16:{field:"power_setting",type:"display_power",scale:null,offset:0,units:""},17:{field:"activity_class",type:"activity_class",scale:null,offset:0,units:""},18:{field:"position_setting",type:"display_position",scale:null,offset:0,units:""},21:{field:"temperature_setting",type:"display_measure",scale:null,offset:0,units:""},22:{field:"local_id",type:"user_local_id",scale:null,offset:0,units:""},23:{field:"global_id",type:"byte",scale:null,offset:0,units:""},30:{field:"height_setting",type:"display_measure",scale:null,offset:0,units:""}},4:{name:"hrm_profile",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},0:{field:"enabled",type:"bool",scale:null,offset:"",units:""},1:{field:"hrm_ant_id",type:"uint16z",scale:null,offset:"",units:""},2:{field:"log_hrv",type:"bool",scale:null,offset:"",units:""},3:{field:"hrm_ant_id_trans_type",type:"uint8z",scale:null,offset:"",units:""}},5:{name:"sdm_profile",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},0:{field:"enabled",type:"bool",scale:null,offset:"",units:""},1:{field:"sdm_ant_id",type:"uint16z",scale:null,offset:"",units:""},2:{field:"sdm_cal_factor",type:"uint16",scale:10,offset:"",units:"%"},3:{field:"odometer",type:"uint32",scale:100,offset:"",units:"m"},4:{field:"speed_source",type:"bool",scale:null,offset:"",units:""},5:{field:"sdm_ant_id_trans_type",type:"uint8z",scale:null,offset:"",units:""},7:{field:"odometer_rollover",type:"uint8",scale:null,offset:"",units:""}},6:{name:"bike_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"name",type:"string",scale:null,offset:0,units:""},1:{field:"sport",type:"sport",scale:null,offset:0,units:""},2:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},3:{field:"odometer",type:"uint32",scale:100,offset:0,units:"m"},4:{field:"bike_spd_ant_id",type:"uint16z",scale:null,offset:0,units:""},5:{field:"bike_cad_ant_id",type:"uint16z",scale:null,offset:0,units:""},6:{field:"bike_spdcad_ant_id",type:"uint16z",scale:null,offset:0,units:""},7:{field:"bike_power_ant_id",type:"uint16z",scale:null,offset:0,units:""},8:{field:"custom_wheelsize",type:"uint16",scale:1e3,offset:0,units:"m"},9:{field:"auto_wheelsize",type:"uint16",scale:1e3,offset:0,units:"m"},10:{field:"bike_weight",type:"uint16",scale:10,offset:0,units:"kg"},11:{field:"power_cal_factor",type:"uint16",scale:10,offset:0,units:"%"},12:{field:"auto_wheel_cal",type:"bool",scale:null,offset:0,units:""},13:{field:"auto_power_zero",type:"bool",scale:null,offset:0,units:""},14:{field:"id",type:"uint8",scale:null,offset:0,units:""},15:{field:"spd_enabled",type:"bool",scale:null,offset:0,units:""},16:{field:"cad_enabled",type:"bool",scale:null,offset:0,units:""},17:{field:"spdcad_enabled",type:"bool",scale:null,offset:0,units:""},18:{field:"power_enabled",type:"bool",scale:null,offset:0,units:""},19:{field:"crank_length",type:"uint8",scale:2,offset:-110,units:"mm"},20:{field:"enabled",type:"bool",scale:null,offset:0,units:""},21:{field:"bike_spd_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},22:{field:"bike_cad_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},23:{field:"bike_spdcad_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},24:{field:"bike_power_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},37:{field:"odometer_rollover",type:"uint8",scale:null,offset:0,units:""},38:{field:"front_gear_num",type:"uint8z",scale:null,offset:0,units:""},39:{field:"front_gear",type:"uint8z",scale:null,offset:0,units:""},40:{field:"rear_gear_num",type:"uint8z",scale:null,offset:0,units:""},41:{field:"rear_gear",type:"uint8z",scale:null,offset:0,units:""},44:{field:"shimano_di2_enabled",type:"bool",scale:null,offset:0,units:""}},7:{name:"zones_target",1:{field:"max_heart_rate",type:"uint8",scale:null,offset:"",units:""},2:{field:"threshold_heart_rate",type:"uint8",scale:null,offset:"",units:""},3:{field:"functional_threshold_power",type:"uint16",scale:null,offset:"",units:""},5:{field:"hr_calc_type",type:"hr_zone_calc",scale:null,offset:"",units:""},7:{field:"pwr_calc_type",type:"pwr_zone_calc",scale:null,offset:"",units:""}},8:{name:"hr_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_bpm",type:"uint8",scale:null,offset:0,units:"bpm"},2:{field:"name",type:"string",scale:null,offset:0,units:""}},9:{name:"power_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_value",type:"uint16",scale:null,offset:0,units:"watts"},2:{field:"name",type:"string",scale:null,offset:0,units:""}},10:{name:"met_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_bpm",type:"uint8",scale:null,offset:0,units:""},2:{field:"calories",type:"uint16",scale:10,offset:0,units:"kcal / min"},3:{field:"fat_calories",type:"uint8",scale:10,offset:0,units:"kcal / min"}},12:{name:"sport",0:{field:"sport",type:"sport",scale:null,offset:"",units:""},1:{field:"sub_sport",type:"sub_sport",scale:null,offset:"",units:""},3:{field:"name",type:"string",scale:null,offset:"",units:""}},15:{name:"goal",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},0:{field:"sport",type:"sport",scale:null,offset:"",units:""},1:{field:"sub_sport",type:"sub_sport",scale:null,offset:"",units:""},2:{field:"start_date",type:"date_time",scale:null,offset:"",units:""},3:{field:"end_date",type:"date_time",scale:null,offset:"",units:""},4:{field:"type",type:"goal",scale:null,offset:"",units:""},5:{field:"value",type:"uint32",scale:null,offset:"",units:""},6:{field:"repeat",type:"bool",scale:null,offset:"",units:""},7:{field:"target_value",type:"uint32",scale:null,offset:"",units:""},8:{field:"recurrence",type:"goal_recurrence",scale:null,offset:"",units:""},9:{field:"recurrence_value",type:"uint16",scale:null,offset:"",units:""},10:{field:"enabled",type:"bool",scale:null,offset:"",units:""}},18:{name:"session",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"start_time",type:"date_time",scale:null,offset:0,units:""},3:{field:"start_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"start_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},5:{field:"sport",type:"sport",scale:null,offset:0,units:""},6:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},7:{field:"total_elapsed_time",type:"uint32",scale:1e3,offset:0,units:"s"},8:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},9:{field:"total_distance",type:"uint32",scale:100,offset:0,units:"m"},10:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},11:{field:"total_calories",type:"uint16",scale:null,offset:0,units:"kcal"},13:{field:"total_fat_calories",type:"uint16",scale:null,offset:0,units:"kcal"},14:{field:"avg_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},15:{field:"max_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},16:{field:"avg_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},17:{field:"max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},18:{field:"avg_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},19:{field:"max_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},20:{field:"avg_power",type:"uint16",scale:null,offset:0,units:"watts"},21:{field:"max_power",type:"uint16",scale:null,offset:0,units:"watts"},22:{field:"total_ascent",type:"uint16",scale:null,offset:0,units:"m"},23:{field:"total_descent",type:"uint16",scale:null,offset:0,units:"m"},24:{field:"total_training_effect",type:"uint8",scale:10,offset:0,units:""},25:{field:"first_lap_index",type:"uint16",scale:null,offset:0,units:""},26:{field:"num_laps",type:"uint16",scale:null,offset:0,units:""},27:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},28:{field:"trigger",type:"session_trigger",scale:null,offset:0,units:""},29:{field:"nec_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},30:{field:"nec_long",type:"sint32",scale:null,offset:0,units:"semicircles"},31:{field:"swc_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},32:{field:"swc_long",type:"sint32",scale:null,offset:0,units:"semicircles"},34:{field:"normalized_power",type:"uint16",scale:null,offset:0,units:"watts"},35:{field:"training_stress_score",type:"uint16",scale:10,offset:0,units:"tss"},36:{field:"intensity_factor",type:"uint16",scale:1e3,offset:0,units:"if"},37:{field:"left_right_balance",type:"left_right_balance_100",scale:null,offset:0,units:""},41:{field:"avg_stroke_count",type:"uint32",scale:10,offset:0,units:"strokes/lap"},42:{field:"avg_stroke_distance",type:"uint16",scale:100,offset:0,units:"m"},43:{field:"swim_stroke",type:"swim_stroke",scale:null,offset:0,units:"swim_stroke"},44:{field:"pool_length",type:"uint16",scale:100,offset:0,units:"m"},45:{field:"threshold_power",type:"uint16",scale:null,offset:0,units:"watts"},46:{field:"pool_length_unit",type:"display_measure",scale:null,offset:0,units:""},47:{field:"num_active_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},48:{field:"total_work",type:"uint32",scale:null,offset:0,units:"J"},49:{field:"avg_altitude",type:"uint16",scale:5,offset:500,units:"m"},50:{field:"max_altitude",type:"uint16",scale:5,offset:500,units:"m"},51:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},52:{field:"avg_grade",type:"sint16",scale:100,offset:0,units:"%"},53:{field:"avg_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},54:{field:"avg_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},55:{field:"max_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},56:{field:"max_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},57:{field:"avg_temperature",type:"sint8",scale:null,offset:0,units:"C"},58:{field:"max_temperature",type:"sint8",scale:null,offset:0,units:"C"},59:{field:"total_moving_time",type:"uint32",scale:1e3,offset:0,units:"s"},60:{field:"avg_pos_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},61:{field:"avg_neg_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},62:{field:"max_pos_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},63:{field:"max_neg_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},64:{field:"min_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},65:{field:"time_in_hr_zone",type:"uint32",scale:1e3,offset:0,units:"s"},66:{field:"time_in_speed_zone",type:"uint32",scale:1e3,offset:0,units:"s"},67:{field:"time_in_cadence_zone",type:"uint32",scale:1e3,offset:0,units:"s"},68:{field:"time_in_power_zone",type:"uint32",scale:1e3,offset:0,units:"s"},69:{field:"avg_lap_time",type:"uint32",scale:1e3,offset:0,units:"s"},70:{field:"best_lap_index",type:"uint16",scale:null,offset:0,units:""},71:{field:"min_altitude",type:"uint16",scale:5,offset:500,units:"m"},82:{field:"player_score",type:"uint16",scale:null,offset:0,units:""},83:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},84:{field:"opponent_name",type:"string",scale:null,offset:0,units:""},85:{field:"stroke_count",type:"uint16",scale:null,offset:0,units:"counts"},86:{field:"zone_count",type:"uint16",scale:null,offset:0,units:"counts"},87:{field:"max_ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},88:{field:"avg_ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},89:{field:"avg_vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},90:{field:"avg_stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},91:{field:"avg_stance_time",type:"uint16",scale:10,offset:0,units:"ms"},92:{field:"avg_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},93:{field:"max_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},94:{field:"total_fractional_cycles",type:"uint8",scale:128,offset:0,units:"cycles"},95:{field:"avg_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},96:{field:"min_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},97:{field:"max_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},98:{field:"avg_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},99:{field:"min_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},100:{field:"max_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},101:{field:"avg_left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},102:{field:"avg_right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},103:{field:"avg_left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},104:{field:"avg_right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},105:{field:"avg_combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},111:{field:"sport_index",type:"uint8",scale:null,offset:0,units:""},112:{field:"time_standing",type:"uint32",scale:1e3,offset:0,units:"s"},113:{field:"stand_count",type:"uint16",scale:null,offset:0,units:""},114:{field:"avg_left_pco",type:"sint8",scale:null,offset:0,units:"mm"},115:{field:"avg_right_pco",type:"sint8",scale:null,offset:0,units:"mm"},116:{field:"avg_left_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},117:{field:"avg_left_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},118:{field:"avg_right_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},119:{field:"avg_right_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},120:{field:"avg_power_position",type:"uint16",scale:null,offset:0,units:"watts"},121:{field:"max_power_position",type:"uint16",scale:null,offset:0,units:"watts"},122:{field:"avg_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},123:{field:"max_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},124:{field:"enhanced_avg_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},125:{field:"enhanced_max_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},126:{field:"enhanced_avg_altitude",type:"uint32",scale:5,offset:500,units:"m"},127:{field:"enhanced_min_altitude",type:"uint32",scale:5,offset:500,units:"m"},128:{field:"enhanced_max_altitude",type:"uint32",scale:5,offset:500,units:"m"},129:{field:"avg_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},130:{field:"max_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},131:{field:"lev_battery_consumption",type:"uint8",scale:2,offset:0,units:"percent"}},19:{name:"lap",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"start_time",type:"date_time",scale:null,offset:0,units:""},3:{field:"start_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"start_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},5:{field:"end_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},6:{field:"end_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},7:{field:"total_elapsed_time",type:"uint32",scale:1e3,offset:0,units:"s"},8:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},9:{field:"total_distance",type:"uint32",scale:100,offset:0,units:"m"},10:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},11:{field:"total_calories",type:"uint16",scale:null,offset:0,units:"kcal"},12:{field:"total_fat_calories",type:"uint16",scale:null,offset:0,units:"kcal"},13:{field:"avg_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},14:{field:"max_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},15:{field:"avg_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},16:{field:"max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},17:{field:"avg_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},18:{field:"max_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},19:{field:"avg_power",type:"uint16",scale:null,offset:0,units:"watts"},20:{field:"max_power",type:"uint16",scale:null,offset:0,units:"watts"},21:{field:"total_ascent",type:"uint16",scale:null,offset:0,units:"m"},22:{field:"total_descent",type:"uint16",scale:null,offset:0,units:"m"},23:{field:"intensity",type:"intensity",scale:null,offset:0,units:""},24:{field:"lap_trigger",type:"lap_trigger",scale:null,offset:0,units:""},25:{field:"sport",type:"sport",scale:null,offset:0,units:""},26:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},32:{field:"num_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},33:{field:"normalized_power",type:"uint16",scale:null,offset:0,units:"watts"},34:{field:"left_right_balance",type:"left_right_balance_100",scale:null,offset:0,units:""},35:{field:"first_length_index",type:"uint16",scale:null,offset:0,units:""},37:{field:"avg_stroke_distance",type:"uint16",scale:100,offset:0,units:"m"},38:{field:"swim_stroke",type:"swim_stroke",scale:null,offset:0,units:""},39:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},40:{field:"num_active_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},41:{field:"total_work",type:"uint32",scale:null,offset:0,units:"J"},42:{field:"avg_altitude",type:"uint16",scale:5,offset:500,units:"m"},43:{field:"max_altitude",type:"uint16",scale:5,offset:500,units:"m"},44:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},45:{field:"avg_grade",type:"sint16",scale:100,offset:0,units:"%"},46:{field:"avg_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},47:{field:"avg_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},48:{field:"max_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},49:{field:"max_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},50:{field:"avg_temperature",type:"sint8",scale:null,offset:0,units:"C"},51:{field:"max_temperature",type:"sint8",scale:null,offset:0,units:"C"},52:{field:"total_moving_time",type:"uint32",scale:1e3,offset:0,units:"s"},53:{field:"avg_pos_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},54:{field:"avg_neg_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},55:{field:"max_pos_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},56:{field:"max_neg_vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},57:{field:"time_in_hr_zone",type:"uint32",scale:1e3,offset:0,units:"s"},58:{field:"time_in_speed_zone",type:"uint32",scale:1e3,offset:0,units:"s"},59:{field:"time_in_cadence_zone",type:"uint32",scale:1e3,offset:0,units:"s"},60:{field:"time_in_power_zone",type:"uint32",scale:1e3,offset:0,units:"s"},61:{field:"repetition_num",type:"uint16",scale:null,offset:0,units:""},62:{field:"min_altitude",type:"uint16",scale:5,offset:500,units:"m"},63:{field:"min_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},71:{field:"wkt_step_index",type:"message_index",scale:null,offset:0,units:""},74:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},75:{field:"stroke_count",type:"uint16",scale:null,offset:0,units:"counts"},76:{field:"zone_count",type:"uint16",scale:null,offset:0,units:"counts"},77:{field:"avg_vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},78:{field:"avg_stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},79:{field:"avg_stance_time",type:"uint16",scale:10,offset:0,units:"ms"},80:{field:"avg_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},81:{field:"max_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},82:{field:"total_fractional_cycles",type:"uint8",scale:128,offset:0,units:"cycles"},83:{field:"player_score",type:"uint16",scale:null,offset:0,units:""},84:{field:"avg_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},85:{field:"min_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},86:{field:"max_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},87:{field:"avg_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},88:{field:"min_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},89:{field:"max_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},91:{field:"avg_left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},92:{field:"avg_right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},93:{field:"avg_left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},94:{field:"avg_right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},95:{field:"avg_combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},98:{field:"time_standing",type:"uint32",scale:1e3,offset:0,units:"s"},99:{field:"stand_count",type:"uint16",scale:null,offset:0,units:""},100:{field:"avg_left_pco",type:"sint8",scale:null,offset:0,units:"mm"},101:{field:"avg_right_pco",type:"sint8",scale:null,offset:0,units:"mm"},102:{field:"avg_left_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},103:{field:"avg_left_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},104:{field:"avg_right_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},105:{field:"avg_right_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},106:{field:"avg_power_position",type:"uint16",scale:null,offset:0,units:"watts"},107:{field:"max_power_position",type:"uint16",scale:null,offset:0,units:"watts"},108:{field:"avg_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},109:{field:"max_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},110:{field:"enhanced_avg_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},111:{field:"enhanced_max_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},112:{field:"enhanced_avg_altitude",type:"uint32",scale:5,offset:500,units:"m"},113:{field:"enhanced_min_altitude",type:"uint32",scale:5,offset:500,units:"m"},114:{field:"enhanced_max_altitude",type:"uint32",scale:5,offset:500,units:"m"},115:{field:"avg_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},116:{field:"max_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},117:{field:"lev_battery_consumption",type:"uint8",scale:2,offset:0,units:"percent"}},20:{name:"record",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},1:{field:"position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},2:{field:"altitude",type:"uint16",scale:5,offset:-500,units:"m"},3:{field:"heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},4:{field:"cadence",type:"uint8",scale:null,offset:0,units:"rpm"},5:{field:"distance",type:"uint32",scale:100,offset:0,units:"m"},6:{field:"speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},7:{field:"power",type:"uint16",scale:null,offset:0,units:"watts"},8:{field:"compressed_speed_distance",type:"byte",scale:"100,16",offset:0,units:"m/s,m"},9:{field:"grade",type:"sint16",scale:100,offset:0,units:"%"},10:{field:"resistance",type:"uint8",scale:null,offset:0,units:""},11:{field:"time_from_course",type:"sint32",scale:1e3,offset:0,units:"s"},12:{field:"cycle_length",type:"uint8",scale:100,offset:0,units:"m"},13:{field:"temperature",type:"sint8",scale:null,offset:0,units:"C"},17:{field:"speed_1s",type:"uint8",scale:16,offset:0,units:"m/s"},18:{field:"cycles",type:"uint8",scale:null,offset:0,units:"cycles"},19:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},28:{field:"compressed_accumulated_power",type:"uint16",scale:null,offset:0,units:"watts"},29:{field:"accumulated_power",type:"uint32",scale:null,offset:0,units:"watts"},30:{field:"left_right_balance",type:"left_right_balance",scale:null,offset:0,units:""},31:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},32:{field:"vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},33:{field:"calories",type:"uint16",scale:null,offset:0,units:"kcal"},39:{field:"vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},40:{field:"stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},41:{field:"stance_time",type:"uint16",scale:10,offset:0,units:"ms"},42:{field:"activity_type",type:"activity_type",scale:null,offset:0,units:""},43:{field:"left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},44:{field:"right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},45:{field:"left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},46:{field:"right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},47:{field:"combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},48:{field:"time128",type:"uint8",scale:128,offset:0,units:"s"},49:{field:"stroke_type",type:"stroke_type",scale:null,offset:0,units:""},50:{field:"zone",type:"uint8",scale:null,offset:0,units:""},51:{field:"ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},52:{field:"cadence256",type:"uint16",scale:256,offset:0,units:"rpm"},53:{field:"fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},54:{field:"total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},55:{field:"total_hemoglobin_conc_min",type:"uint16",scale:100,offset:0,units:"g/dL"},56:{field:"total_hemoglobin_conc_max",type:"uint16",scale:100,offset:0,units:"g/dL"},57:{field:"saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},58:{field:"saturated_hemoglobin_percent_min",type:"uint16",scale:10,offset:0,units:"%"},59:{field:"saturated_hemoglobin_percent_max",type:"uint16",scale:10,offset:0,units:"%"},62:{field:"device_index",type:"device_index",scale:null,offset:0,units:""},67:{field:"left_pco",type:"sint8",scale:null,offset:0,units:"mm"},68:{field:"right_pco",type:"sint8",scale:null,offset:0,units:"mm"},69:{field:"left_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},70:{field:"left_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},71:{field:"right_power_phase",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},72:{field:"right_power_phase_peak",type:"uint8",scale:"0,7111111",offset:0,units:"degrees"},73:{field:"enhanced_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},78:{field:"enhanced_altitude",type:"uint32",scale:5,offset:500,units:"m"},81:{field:"battery_soc",type:"uint8",scale:2,offset:0,units:"percent"},82:{field:"motor_power",type:"uint16",scale:null,offset:0,units:"watts"}},21:{name:"event",253:{field:"timestamp",type:"date_time",scale:null,offset:"",units:"s"},0:{field:"event",type:"event",scale:null,offset:"",units:""},1:{field:"event_type",type:"event_type",scale:null,offset:"",units:""},2:{field:"data16",type:"uint16",scale:null,offset:"",units:""},3:{field:"data",type:"uint32",scale:null,offset:"",units:""},4:{field:"event_group",type:"uint8",scale:null,offset:"",units:""},7:{field:"score",type:"uint16",scale:null,offset:"",units:""},8:{field:"opponent_score",type:"uint16",scale:null,offset:"",units:""},9:{field:"front_gear_num",type:"uint8z",scale:null,offset:"",units:""},10:{field:"front_gear",type:"uint8z",scale:null,offset:"",units:""},11:{field:"rear_gear_num",type:"uint8z",scale:null,offset:"",units:""},12:{field:"rear_gear",type:"uint8z",scale:null,offset:"",units:""},13:{field:"device_index",type:"device_index",scale:null,offset:"",units:""}},23:{name:"device_info",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"device_index",type:"device_index",scale:null,offset:0,units:""},1:{field:"device_type",type:"uint8",scale:null,offset:0,units:""},2:{field:"manufacturer",type:"manufacturer",scale:null,offset:0,units:""},3:{field:"serial_number",type:"uint32z",scale:null,offset:0,units:""},4:{field:"product",type:"uint16",scale:null,offset:0,units:""},5:{field:"software_version",type:"uint16",scale:100,offset:0,units:""},6:{field:"hardware_version",type:"uint8",scale:null,offset:0,units:""},7:{field:"cum_operating_time",type:"uint32",scale:null,offset:0,units:"s"},10:{field:"battery_voltage",type:"uint16",scale:256,offset:0,units:"V"},11:{field:"battery_status",type:"battery_status",scale:null,offset:0,units:""},18:{field:"sensor_position",type:"body_location",scale:null,offset:0,units:""},19:{field:"descriptor",type:"string",scale:null,offset:0,units:""},20:{field:"ant_transmission_type",type:"uint8z",scale:null,offset:0,units:""},21:{field:"ant_device_number",type:"uint16z",scale:null,offset:0,units:""},22:{field:"ant_network",type:"ant_network",scale:null,offset:0,units:""},25:{field:"source_type",type:"source_type",scale:null,offset:0,units:""},27:{field:"product_name",type:"string",scale:null,offset:0,units:""}},26:{name:"workout",4:{field:"sport",type:"sport",scale:null,offset:"",units:""},5:{field:"capabilities",type:"workout_capabilities",scale:null,offset:"",units:""},6:{field:"num_valid_steps",type:"uint16",scale:null,offset:"",units:""},8:{field:"wkt_name",type:"string",scale:null,offset:"",units:""}},27:{name:"workout_step",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"wkt_step_name",type:"string",scale:null,offset:0,units:""},1:{field:"duration_type",type:"wkt_step_duration",scale:null,offset:0,units:""},2:{field:"duration_value",type:"uint32",scale:null,offset:0,units:""},3:{field:"target_type",type:"wkt_step_target",scale:null,offset:0,units:""},4:{field:"target_value",type:"uint32",scale:null,offset:0,units:""},5:{field:"custom_target_value_low",type:"uint32",scale:null,offset:0,units:""},6:{field:"custom_target_value_high",type:"uint32",scale:null,offset:0,units:""},7:{field:"intensity",type:"intensity",scale:null,offset:0,units:""}},30:{name:"weight_scale",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"weight",type:"weight",scale:100,offset:0,units:"kg"},1:{field:"percent_fat",type:"uint16",scale:100,offset:0,units:"%"},2:{field:"percent_hydration",type:"uint16",scale:100,offset:0,units:"%"},3:{field:"visceral_fat_mass",type:"uint16",scale:100,offset:0,units:"kg"},4:{field:"bone_mass",type:"uint16",scale:100,offset:0,units:"kg"},5:{field:"muscle_mass",type:"uint16",scale:100,offset:0,units:"kg"},7:{field:"basal_met",type:"uint16",scale:4,offset:0,units:"kcal/day"},8:{field:"physique_rating",type:"uint8",scale:null,offset:0,units:""},9:{field:"active_met",type:"uint16",scale:4,offset:0,units:"kcal/day"},10:{field:"metabolic_age",type:"uint8",scale:null,offset:0,units:"years"},11:{field:"visceral_fat_rating",type:"uint8",scale:null,offset:0,units:""},12:{field:"user_profile_index",type:"message_index",scale:null,offset:0,units:""}},31:{name:"course",4:{field:"sport",type:"sport",scale:null,offset:"",units:""},5:{field:"name",type:"string",scale:null,offset:"",units:""},6:{field:"capabilities",type:"course_capabilities",scale:null,offset:"",units:""}},32:{name:"course_point",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},2:{field:"position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},3:{field:"position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"distance",type:"uint32",scale:100,offset:0,units:"m"},5:{field:"type",type:"course_point",scale:null,offset:0,units:""},6:{field:"name",type:"string",scale:null,offset:0,units:""},8:{field:"favorite",type:"bool",scale:null,offset:0,units:""}},33:{name:"totals",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"timer_time",type:"uint32",scale:null,offset:0,units:"s"},1:{field:"distance",type:"uint32",scale:null,offset:0,units:"m"},2:{field:"calories",type:"uint32",scale:null,offset:0,units:"kcal"},3:{field:"sport",type:"sport",scale:null,offset:0,units:""},4:{field:"elapsed_time",type:"uint32",scale:null,offset:0,units:"s"},5:{field:"sessions",type:"uint16",scale:null,offset:0,units:""},6:{field:"active_time",type:"uint32",scale:null,offset:0,units:"s"},9:{field:"sport_index",type:"uint8",scale:null,offset:0,units:""}},34:{name:"activity",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},0:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},1:{field:"num_sessions",type:"uint16",scale:null,offset:0,units:""},2:{field:"type",type:"activity",scale:null,offset:0,units:""},3:{field:"event",type:"event",scale:null,offset:0,units:""},4:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},5:{field:"local_timestamp",type:"local_date_time",scale:null,offset:0,units:""},6:{field:"event_group",type:"uint8",scale:null,offset:0,units:""}},35:{name:"software",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},3:{field:"version",type:"uint16",scale:100,offset:"",units:""},5:{field:"part_number",type:"string",scale:null,offset:"",units:""}},37:{name:"file_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"type",type:"file",scale:null,offset:0,units:""},1:{field:"flags",type:"file_flags",scale:null,offset:0,units:""},2:{field:"directory",type:"string",scale:null,offset:0,units:""},3:{field:"max_count",type:"uint16",scale:null,offset:0,units:""},4:{field:"max_size",type:"uint32",scale:null,offset:0,units:"bytes"}},38:{name:"mesg_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},0:{field:"file",type:"file",scale:null,offset:"",units:""},1:{field:"mesg_num",type:"mesg_num",scale:null,offset:"",units:""},2:{field:"count_type",type:"mesg_count",scale:null,offset:"",units:""},3:{field:"count",type:"uint16",scale:null,offset:"",units:""}},39:{name:"field_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:"",units:""},0:{field:"file",type:"file",scale:null,offset:"",units:""},1:{field:"mesg_num",type:"mesg_num",scale:null,offset:"",units:""},2:{field:"field_num",type:"uint8",scale:null,offset:"",units:""},3:{field:"count",type:"uint16",scale:null,offset:"",units:""}},49:{name:"file_creator",0:{field:"software_version",type:"uint16",scale:null,offset:"",units:""},1:{field:"hardware_version",type:"uint8",scale:null,offset:"",units:""}},51:{name:"blood_pressure",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"systolic_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},1:{field:"diastolic_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},2:{field:"mean_arterial_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},3:{field:"map_3_sample_mean",type:"uint16",scale:null,offset:0,units:"mmHg"},4:{field:"map_morning_values",type:"uint16",scale:null,offset:0,units:"mmHg"},5:{field:"map_evening_values",type:"uint16",scale:null,offset:0,units:"mmHg"},6:{field:"heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},7:{field:"heart_rate_type",type:"hr_type",scale:null,offset:0,units:""},8:{field:"status",type:"bp_status",scale:null,offset:0,units:""},9:{field:"user_profile_index",type:"message_index",scale:null,offset:0,units:""}}},types:{file:{1:"device",2:"settings",3:"sport",4:"activity",5:"workout",6:"course",7:"schedules",9:"weight",10:"totals",11:"goals",14:"blood_pressure",15:"monitoring_a",20:"activity_summary",28:"monitoring_daily",32:"monitoring_b",34:"segment",35:"segment_list",40:"exd_configuration",247:"mfg_range_min",254:"mfg_range_max"},mesg_num:{0:"file_id",1:"capabilities",2:"device_settings",3:"user_profile",4:"hrm_profile",5:"sdm_profile",6:"bike_profile",7:"zones_target",8:"hr_zone",9:"power_zone",10:"met_zone",12:"sport",15:"goal",18:"session",19:"lap",20:"record",21:"event",23:"device_info",26:"workout",27:"workout_step",28:"schedule",30:"weight_scale",31:"course",32:"course_point",33:"totals",34:"activity",35:"software",37:"file_capabilities",38:"mesg_capabilities",39:"field_capabilities",49:"file_creator",51:"blood_pressure",53:"speed_zone",55:"monitoring",72:"training_file",78:"hrv",80:"ant_rx",81:"ant_tx",82:"ant_channel_id",101:"length",103:"monitoring_info",105:"pad",106:"slave_device",127:"connectivity",128:"weather_conditions",129:"weather_alert",131:"cadence_zone",132:"hr",142:"segment_lap",145:"memo_glob",148:"segment_id",149:"segment_leaderboard_entry",150:"segment_point",151:"segment_file",160:"gps_metadata",161:"camera_event",162:"timestamp_correlation",164:"gyroscope_data",165:"accelerometer_data",167:"three_d_sensor_calibration",169:"video_frame",174:"obdii_data",177:"nmea_sentence",178:"aviation_attitude",184:"video",185:"video_title",186:"video_description",187:"video_clip",200:"exd_screen_configuration",201:"exd_data_field_configuration",202:"exd_data_concept_configuration",206:"field_description",207:"developer_data_id",65280:"mfg_range_min",65534:"mfg_range_max"},checksum:{0:"clear",1:"ok"},file_flags:{0:0,2:"read",4:"write",8:"erase"},mesg_count:{0:"num_per_file",1:"max_per_file",2:"max_per_file_type"},date_time:{0:0,268435456:"min"},local_date_time:{0:0,268435456:"min"},message_index:{0:0,4095:"mask",28672:"reserved",32768:"selected"},device_index:{0:"creator"},gender:{0:"female",1:"male"},language:{0:"english",1:"french",2:"italian",3:"german",4:"spanish",5:"croatian",6:"czech",7:"danish",8:"dutch",9:"finnish",10:"greek",11:"hungarian",12:"norwegian",13:"polish",14:"portuguese",15:"slovakian",16:"slovenian",17:"swedish",18:"russian",19:"turkish",20:"latvian",21:"ukrainian",22:"arabic",23:"farsi",24:"bulgarian",25:"romanian",26:"chinese",27:"japanese",28:"korean",29:"taiwanese",30:"thai",31:"hebrew",32:"brazilian_portuguese",33:"indonesian",254:"custom"},language_bits_0:{0:0,1:"english",2:"french",4:"italian",8:"german",16:"spanish",32:"croatian",64:"czech",128:"danish"},language_bits_1:{0:0,1:"dutch",2:"finnish",4:"greek",8:"hungarian",16:"norwegian",32:"polish",64:"portuguese",128:"slovakian"},language_bits_2:{0:0,1:"slovenian",2:"swedish",4:"russian",8:"turkish",16:"latvian",32:"ukrainian",64:"arabic",128:"farsi"},language_bits_3:{0:0,1:"bulgarian",2:"romanian",4:"chinese",8:"japanese",16:"korean",32:"taiwanese",64:"thai",128:"hebrew"},language_bits_4:{1:"brazilian_portuguese",2:"indonesian"},time_zone:{0:"almaty",1:"bangkok",2:"bombay",3:"brasilia",4:"cairo",5:"cape_verde_is",6:"darwin",7:"eniwetok",8:"fiji",9:"hong_kong",10:"islamabad",11:"kabul",12:"magadan",13:"mid_atlantic",14:"moscow",15:"muscat",16:"newfoundland",17:"samoa",18:"sydney",19:"tehran",20:"tokyo",21:"us_alaska",22:"us_atlantic",23:"us_central",24:"us_eastern",25:"us_hawaii",26:"us_mountain",27:"us_pacific",28:"other",29:"auckland",30:"kathmandu",31:"europe_western_wet",32:"europe_central_cet",33:"europe_eastern_eet",34:"jakarta",35:"perth",36:"adelaide",37:"brisbane",38:"tasmania",39:"iceland",40:"amsterdam",41:"athens",42:"barcelona",43:"berlin",44:"brussels",45:"budapest",46:"copenhagen",47:"dublin",48:"helsinki",49:"lisbon",50:"london",51:"madrid",52:"munich",53:"oslo",54:"paris",55:"prague",56:"reykjavik",57:"rome",58:"stockholm",59:"vienna",60:"warsaw",61:"zurich",62:"quebec",63:"ontario",64:"manitoba",65:"saskatchewan",66:"alberta",67:"british_columbia",68:"boise",69:"boston",70:"chicago",71:"dallas",72:"denver",73:"kansas_city",74:"las_vegas",75:"los_angeles",76:"miami",77:"minneapolis",78:"new_york",79:"new_orleans",80:"phoenix",81:"santa_fe",82:"seattle",83:"washington_dc",84:"us_arizona",85:"chita",86:"ekaterinburg",87:"irkutsk",88:"kaliningrad",89:"krasnoyarsk",90:"novosibirsk",91:"petropavlovsk_kamchatskiy",92:"samara",93:"vladivostok",94:"mexico_central",95:"mexico_mountain",96:"mexico_pacific",97:"cape_town",98:"winkhoek",99:"lagos",100:"riyahd",101:"venezuela",102:"australia_lh",103:"santiago",253:"manual",254:"automatic"},display_measure:{0:"metric",1:"statute"},display_heart:{0:"bpm",1:"max",2:"reserve"},display_power:{0:"watts",1:"percent_ftp"},display_position:{0:"degree",1:"degree_minute",2:"degree_minute_second",3:"austrian_grid",4:"british_grid",5:"dutch_grid",6:"hungarian_grid",7:"finnish_grid",8:"german_grid",9:"icelandic_grid",10:"indonesian_equatorial",11:"indonesian_irian",12:"indonesian_southern",13:"india_zone_0",14:"india_zone_IA",15:"india_zone_IB",16:"india_zone_IIA",17:"india_zone_IIB",18:"india_zone_IIIA",19:"india_zone_IIIB",20:"india_zone_IVA",21:"india_zone_IVB",22:"irish_transverse",23:"irish_grid",24:"loran",25:"maidenhead_grid",26:"mgrs_grid",27:"new_zealand_grid",28:"new_zealand_transverse",29:"qatar_grid",30:"modified_swedish_grid",31:"swedish_grid",32:"south_african_grid",33:"swiss_grid",34:"taiwan_grid",35:"united_states_grid",36:"utm_ups_grid",37:"west_malayan",38:"borneo_rso",39:"estonian_grid",40:"latvian_grid",41:"swedish_ref_99_grid"},sport:{0:"generic",1:"running",2:"cycling",3:"transition",4:"fitness_equipment",5:"swimming",6:"basketball",7:"soccer",8:"tennis",9:"american_football",10:"training",11:"walking",12:"cross_country_skiing",13:"alpine_skiing",14:"snowboarding",15:"rowing",16:"mountaineering",17:"hiking",18:"multisport",19:"paddling",20:"flying",21:"e_biking",22:"motorcycling",23:"boating",24:"driving",25:"golf",26:"hang_gliding",27:"horseback_riding",28:"hunting",29:"fishing",30:"inline_skating",31:"rock_climbing",32:"sailing",33:"ice_skating",34:"sky_diving",35:"snowshoeing",36:"snowmobiling",37:"stand_up_paddleboarding",38:"surfing",39:"wakeboarding",40:"water_skiing",41:"kayaking",42:"rafting",43:"windsurfing",44:"kitesurfing",45:"tactical",46:"jumpmaster",254:"all"},sport_bits_0:{0:0,1:"generic",2:"running",4:"cycling",8:"transition",16:"fitness_equipment",32:"swimming",64:"basketball",128:"soccer"},sport_bits_1:{0:0,1:"tennis",2:"american_football",4:"training",8:"walking",16:"cross_country_skiing",32:"alpine_skiing",64:"snowboarding",128:"rowing"},sport_bits_2:{0:0,1:"mountaineering",2:"hiking",4:"multisport",8:"paddling",16:"flying",32:"e_biking",64:"motorcycling",128:"boating"},sport_bits_3:{0:0,1:"driving",2:"golf",4:"hang_gliding",8:"horseback_riding",16:"hunting",32:"fishing",64:"inline_skating",128:"rock_climbing"},sport_bits_4:{0:0,1:"sailing",2:"ice_skating",4:"sky_diving",8:"snowshoeing",16:"snowmobiling",32:"stand_up_paddleboarding",64:"surfing",128:"wakeboarding"},sport_bits_5:{0:0,1:"water_skiing",2:"kayaking",4:"rafting",8:"windsurfing",16:"kitesurfing",32:"tactical",64:"jumpmaster"},sub_sport:{0:"generic",1:"treadmill",2:"street",3:"trail",4:"track",5:"spin",6:"indoor_cycling",7:"road",8:"mountain",9:"downhill",10:"recumbent",11:"cyclocross",12:"hand_cycling",13:"track_cycling",14:"indoor_rowing",15:"elliptical",16:"stair_climbing",17:"lap_swimming",18:"open_water",19:"flexibility_training",20:"strength_training",21:"warm_up",22:"match",23:"exercise",24:"challenge",25:"indoor_skiing",26:"cardio_training",27:"indoor_walking",28:"e_bike_fitness",29:"bmx",30:"casual_walking",31:"speed_walking",32:"bike_to_run_transition",33:"run_to_bike_transition",34:"swim_to_bike_transition",35:"atv",36:"motocross",37:"backcountry",38:"resort",39:"rc_drone",40:"wingsuit",41:"whitewater",42:"skate_skiing",43:"yoga",44:"pilates",45:"indoor_running",46:"gravel_cycling",47:"e_bike_mountain",48:"commuting",254:"all"},sport_event:{0:"uncategorized",1:"geocaching",2:"fitness",3:"recreation",4:"race",5:"special_event",6:"training",7:"transportation",8:"touring"},activity:{0:"manual",1:"auto_multi_sport"},intensity:{0:"active",1:"rest",2:"warmup",3:"cooldown"},session_trigger:{0:"activity_end",1:"manual",2:"auto_multi_sport",3:"fitness_equipment"},autolap_trigger:{0:"time",1:"distance",2:"position_start",3:"position_lap",4:"position_waypoint",5:"position_marked",6:"off"},lap_trigger:{0:"manual",1:"time",2:"distance",3:"position_start",4:"position_lap",5:"position_waypoint",6:"position_marked",7:"session_end",8:"fitness_equipment"},time_mode:{0:"hour12",1:"hour24",2:"military",3:"hour_12_with_seconds",4:"hour_24_with_seconds"},event:{0:"timer",3:"workout",4:"workout_step",5:"power_down",6:"power_up",7:"off_course",8:"session",9:"lap",10:"course_point",11:"battery",12:"virtual_partner_pace",13:"hr_high_alert",14:"hr_low_alert",15:"speed_high_alert",16:"speed_low_alert",17:"cad_high_alert",18:"cad_low_alert",19:"power_high_alert",20:"power_low_alert",21:"recovery_hr",22:"battery_low",23:"time_duration_alert",24:"distance_duration_alert",25:"calorie_duration_alert",26:"activity",27:"fitness_equipment",28:"length",32:"user_marker",33:"sport_point",36:"calibration",42:"front_gear_change",43:"rear_gear_change",44:"rider_position_change",45:"elev_high_alert",46:"elev_low_alert",47:"comm_timeout"},event_type:{0:"start",1:"stop",2:"consecutive_depreciated",3:"marker",4:"stop_all",5:"begin_depreciated",6:"end_depreciated",7:"end_all_depreciated",8:"stop_disable",9:"stop_disable_all"},timer_trigger:{0:"manual",1:"auto",2:"fitness_equipment"},fitness_equipment_state:{0:"ready",1:"in_use",2:"paused",3:"unknown"},autoscroll:{0:"none",1:"slow",2:"medium",3:"fast"},activity_class:{0:0,100:"level_max",127:"level",128:"athlete"},hr_zone_calc:{0:"custom",1:"percent_max_hr",2:"percent_hrr"},pwr_zone_calc:{0:"custom",1:"percent_ftp"},wkt_step_duration:{0:"time",1:"distance",2:"hr_less_than",3:"hr_greater_than",4:"calories",5:"open",6:"repeat_until_steps_cmplt",7:"repeat_until_time",8:"repeat_until_distance",9:"repeat_until_calories",10:"repeat_until_hr_less_than",11:"repeat_until_hr_greater_than",12:"repeat_until_power_less_than",13:"repeat_until_power_greater_than",14:"power_less_than",15:"power_greater_than",28:"repetition_time"},wkt_step_target:{0:"speed",1:"heart_rate",2:"open",3:"cadence",4:"power",5:"grade",6:"resistance"},goal:{0:"time",1:"distance",2:"calories",3:"frequency",4:"steps"},goal_recurrence:{0:"off",1:"daily",2:"weekly",3:"monthly",4:"yearly",5:"custom"},schedule:{0:"workout",1:"course"},course_point:{0:"generic",1:"summit",2:"valley",3:"water",4:"food",5:"danger",6:"left",7:"right",8:"straight",9:"first_aid",10:"fourth_category",11:"third_category",12:"second_category",13:"first_category",14:"hors_category",15:"sprint",16:"left_fork",17:"right_fork",18:"middle_fork",19:"slight_left",20:"sharp_left",21:"slight_right",22:"sharp_right",23:"u_turn",24:"segment_start",25:"segment_end"},manufacturer:{0:0,1:"garmin",2:"garmin_fr405_antfs",3:"zephyr",4:"dayton",5:"idt",6:"srm",7:"quarq",8:"ibike",9:"saris",10:"spark_hk",11:"tanita",12:"echowell",13:"dynastream_oem",14:"nautilus",15:"dynastream",16:"timex",17:"metrigear",18:"xelic",19:"beurer",20:"cardiosport",21:"a_and_d",22:"hmm",23:"suunto",24:"thita_elektronik",25:"gpulse",26:"clean_mobile",27:"pedal_brain",28:"peaksware",29:"saxonar",30:"lemond_fitness",31:"dexcom",32:"wahoo_fitness",33:"octane_fitness",34:"archinoetics",35:"the_hurt_box",36:"citizen_systems",37:"magellan",38:"osynce",39:"holux",40:"concept2",42:"one_giant_leap",43:"ace_sensor",44:"brim_brothers",45:"xplova",46:"perception_digital",47:"bf1systems",48:"pioneer",49:"spantec",50:"metalogics",51:"4iiiis",52:"seiko_epson",53:"seiko_epson_oem",54:"ifor_powell",55:"maxwell_guider",56:"star_trac",57:"breakaway",58:"alatech_technology_ltd",59:"mio_technology_europe",60:"rotor",61:"geonaute",62:"id_bike",63:"specialized",64:"wtek",65:"physical_enterprises",66:"north_pole_engineering",67:"bkool",68:"cateye",69:"stages_cycling",70:"sigmasport",71:"tomtom",72:"peripedal",73:"wattbike",76:"moxy",77:"ciclosport",78:"powerbahn",79:"acorn_projects_aps",80:"lifebeam",81:"bontrager",82:"wellgo",83:"scosche",84:"magura",85:"woodway",86:"elite",87:"nielsen_kellerman",88:"dk_city",89:"tacx",90:"direction_technology",91:"magtonic",92:"1partcarbon",93:"inside_ride_technologies",94:"sound_of_motion",95:"stryd",96:"icg",97:"MiPulse",98:"bsx_athletics",99:"look",100:"campagnolo_srl",101:"body_bike_smart",102:"praxisworks",103:"limits_technology",104:"topaction_technology",105:"cosinuss",255:"development",257:"healthandlife",258:"lezyne",259:"scribe_labs",260:"zwift",261:"watteam",262:"recon",263:"favero_electronics",264:"dynovelo",265:"strava",266:"precor",267:"bryton",268:"sram",269:"navman",270:"cobi",271:"spivi",272:"mio_magellan",273:"evesports",5759:"actigraphcorp"},garmin_product:{0:0,1:"hrm1",2:"axh01",3:"axb01",4:"axb02",5:"hrm2ss",6:"dsi_alf02",7:"hrm3ss",8:"hrm_run_single_byte_product_id",9:"bsm",10:"bcm",11:"axs01",12:"hrm_tri_single_byte_product_id",14:"fr225_single_byte_product_id",473:"fr301_china",474:"fr301_japan",475:"fr301_korea",494:"fr301_taiwan",717:"fr405",782:"fr50",987:"fr405_japan",988:"fr60",1011:"dsi_alf01",1018:"fr310xt",1036:"edge500",1124:"fr110",1169:"edge800",1199:"edge500_taiwan",1213:"edge500_japan",1253:"chirp",1274:"fr110_japan",1325:"edge200",1328:"fr910xt",1333:"edge800_taiwan",1334:"edge800_japan",1341:"alf04",1345:"fr610",1360:"fr210_japan",1380:"vector_ss",1381:"vector_cp",1386:"edge800_china",1387:"edge500_china",1410:"fr610_japan",1422:"edge500_korea",1436:"fr70",1446:"fr310xt_4t",1461:"amx",1482:"fr10",1497:"edge800_korea",1499:"swim",1537:"fr910xt_china",1551:"fenix",1555:"edge200_taiwan",1561:"edge510",1567:"edge810",1570:"tempe",1600:"fr910xt_japan",1623:"fr620",1632:"fr220",1664:"fr910xt_korea",1688:"fr10_japan",1721:"edge810_japan",1735:"virb_elite",1736:"edge_touring",1742:"edge510_japan",1743:"hrm_tri",1752:"hrm_run",1765:"fr920xt",1821:"edge510_asia",1822:"edge810_china",1823:"edge810_taiwan",1836:"edge1000",1837:"vivo_fit",1853:"virb_remote",1885:"vivo_ki",1903:"fr15",1907:"vivo_active",1918:"edge510_korea",1928:"fr620_japan",1929:"fr620_china",1930:"fr220_japan",1931:"fr220_china",1936:"approach_s6",1956:"vivo_smart",1967:"fenix2",1988:"epix",2050:"fenix3",2052:"edge1000_taiwan",2053:"edge1000_japan",2061:"fr15_japan",2067:"edge520",2070:"edge1000_china",2072:"fr620_russia",2073:"fr220_russia",2079:"vector_s",2100:"edge1000_korea",2130:"fr920xt_taiwan",2131:"fr920xt_china",2132:"fr920xt_japan",2134:"virbx",2135:"vivo_smart_apac",2140:"etrex_touch",2147:"edge25",2148:"fr25",2150:"vivo_fit2",2153:"fr225",2156:"fr630",2157:"fr230",2160:"vivo_active_apac",2161:"vector_2",2162:"vector_2s",2172:"virbxe",2173:"fr620_taiwan",2174:"fr220_taiwan",2175:"truswing",2188:"fenix3_china",2189:"fenix3_twn",2192:"varia_headlight",2193:"varia_taillight_old",2204:"edge_explore_1000",2219:"fr225_asia",2225:"varia_radar_taillight",2226:"varia_radar_display",2238:"edge20",2262:"d2_bravo",2266:"approach_s20",2276:"varia_remote",2327:"hrm4_run",2337:"vivo_active_hr",2348:"vivo_smart_hr",2398:"varia_vision",2406:"vivo_fit3",2413:"fenix3_hr",2429:"index_smart_scale",2431:"fr235",2496:"nautix",10007:"sdm4",10014:"edge_remote",20119:"training_center",65531:"connectiq_simulator",65532:"android_antplus_plugin",65534:"connect"},antplus_device_type:{0:0,1:"antfs",11:"bike_power",12:"environment_sensor_legacy",15:"multi_sport_speed_distance",16:"control",17:"fitness_equipment",18:"blood_pressure",19:"geocache_node",20:"light_electric_vehicle",25:"env_sensor",26:"racquet",27:"control_hub",31:"muscle_oxygen",35:"bike_light_main",36:"bike_light_shared",38:"exd",40:"bike_radar",119:"weight_scale",120:"heart_rate",121:"bike_speed_cadence",122:"bike_cadence",123:"bike_speed",124:"stride_speed_distance"},ant_network:{0:"public",1:"antplus",2:"antfs",3:"private"},workout_capabilities:{0:0,1:"interval",2:"custom",4:"fitness_equipment",8:"firstbeat",16:"new_leaf",32:"tcx",128:"speed",256:"heart_rate",512:"distance",1024:"cadence",2048:"power",4096:"grade",8192:"resistance",16384:"protected"},battery_status:{0:0,1:"new",2:"good",3:"ok",4:"low",5:"critical",6:"charging",7:"unknown"},hr_type:{0:"normal",1:"irregular"},course_capabilities:{0:0,1:"processed",2:"valid",4:"time",8:"distance",16:"position",32:"heart_rate",64:"power",128:"cadence",256:"training",512:"navigation",1024:"bikeway"},weight:{0:0,65534:"calculating"},workout_hr:{0:0,100:"bpm_offset"},workout_power:{0:0,1e3:"watts_offset"},bp_status:{0:"no_error",1:"error_incomplete_data",2:"error_no_measurement",3:"error_data_out_of_range",4:"error_irregular_heart_rate"},user_local_id:{0:"local_min",15:"local_max",16:"stationary_min",255:"stationary_max",256:"portable_min",65534:"portable_max"},swim_stroke:{0:"freestyle",1:"backstroke",2:"breaststroke",3:"butterfly",4:"drill",5:"mixed",6:"im"},activity_type:{0:"generic",1:"running",2:"cycling",3:"transition",4:"fitness_equipment",5:"swimming",6:"walking",254:"all"},activity_subtype:{0:"generic",1:"treadmill",2:"street",3:"trail",4:"track",5:"spin",6:"indoor_cycling",7:"road",8:"mountain",9:"downhill",10:"recumbent",11:"cyclocross",12:"hand_cycling",13:"track_cycling",14:"indoor_rowing",15:"elliptical",16:"stair_climbing",17:"lap_swimming",18:"open_water",254:"all"},activity_level:{0:"low",1:"medium",2:"high"},side:{0:"right",1:"left"},left_right_balance:{0:0,127:"mask",128:"right"},left_right_balance_100:{0:0,16383:"mask",32768:"right"},length_type:{0:"idle",1:"active"},day_of_week:{0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},connectivity_capabilities:{0:0,1:"bluetooth",2:"bluetooth_le",4:"ant",8:"activity_upload",16:"course_download",32:"workout_download",64:"live_track",128:"weather_conditions",256:"weather_alerts",512:"gps_ephemeris_download",1024:"explicit_archive",2048:"setup_incomplete",4096:"continue_sync_after_software_update",8192:"connect_iq_app_download",16384:"golf_course_download",32768:"device_initiates_sync",65536:"connect_iq_watch_app_download",131072:"connect_iq_widget_download",262144:"connect_iq_watch_face_download",524288:"connect_iq_data_field_download",1048576:"connect_iq_app_managment",2097152:"swing_sensor",4194304:"swing_sensor_remote",8388608:"incident_detection",16777216:"audio_prompts",33554432:"wifi_verification",67108864:"true_up",134217728:"find_my_watch",268435456:"remote_manual_sync"},weather_report:{0:"current",1:"forecast",2:"daily_forecast"},weather_status:{0:"clear",1:"partly_cloudy",2:"mostly_cloudy",3:"rain",4:"snow",5:"windy",6:"thunderstorms",7:"wintry_mix",8:"fog",11:"hazy",12:"hail",13:"scattered_showers",14:"scattered_thunderstorms",15:"unknown_precipitation",16:"light_rain",17:"heavy_rain",18:"light_snow",19:"heavy_snow",20:"light_rain_snow",21:"heavy_rain_snow",22:"cloudy"},weather_severity:{0:"unknown",1:"warning",2:"watch",3:"advisory",4:"statement"},weather_severe_type:{0:"unspecified",1:"tornado",2:"tsunami",3:"hurricane",4:"extreme_wind",5:"typhoon",6:"inland_hurricane",7:"hurricane_force_wind",8:"waterspout",9:"severe_thunderstorm",10:"wreckhouse_winds",11:"les_suetes_wind",12:"avalanche",13:"flash_flood",14:"tropical_storm",15:"inland_tropical_storm",16:"blizzard",17:"ice_storm",18:"freezing_rain",19:"debris_flow",20:"flash_freeze",21:"dust_storm",22:"high_wind",23:"winter_storm",24:"heavy_freezing_spray",25:"extreme_cold",26:"wind_chill",27:"cold_wave",28:"heavy_snow_alert",29:"lake_effect_blowing_snow",30:"snow_squall",31:"lake_effect_snow",32:"winter_weather",33:"sleet",34:"snowfall",35:"snow_and_blowing_snow",36:"blowing_snow",37:"snow_alert",38:"arctic_outflow",39:"freezing_drizzle",40:"storm",41:"storm_surge",42:"rainfall",43:"areal_flood",44:"coastal_flood",45:"lakeshore_flood",46:"excessive_heat",47:"heat",48:"weather",49:"high_heat_and_humidity",50:"humidex_and_health",51:"humidex",52:"gale",53:"freezing_spray",54:"special_marine",55:"squall",56:"strong_wind",57:"lake_wind",58:"marine_weather",59:"wind",60:"small_craft_hazardous_seas",61:"hazardous_seas",62:"small_craft",63:"small_craft_winds",64:"small_craft_rough_bar",65:"high_water_level",66:"ashfall",67:"freezing_fog",68:"dense_fog",69:"dense_smoke",70:"blowing_dust",71:"hard_freeze",72:"freeze",73:"frost",74:"fire_weather",75:"flood",76:"rip_tide",77:"high_surf",78:"smog",79:"air_quality",80:"brisk_wind",81:"air_stagnation",82:"low_water",83:"hydrological",84:"special_weather"},stroke_type:{0:"no_event",1:"other",2:"serve",3:"forehand",4:"backhand",5:"smash"},body_location:{0:"left_leg",1:"left_calf",2:"left_shin",3:"left_hamstring",4:"left_quad",5:"left_glute",6:"right_leg",7:"right_calf",8:"right_shin",9:"right_hamstring",10:"right_quad",11:"right_glute",12:"torso_back",13:"left_lower_back",14:"left_upper_back",15:"right_lower_back",16:"right_upper_back",17:"torso_front",18:"left_abdomen",19:"left_chest",20:"right_abdomen",21:"right_chest",22:"left_arm",23:"left_shoulder",24:"left_bicep",25:"left_tricep",26:"left_brachioradialis",27:"left_forearm_extensors",28:"right_arm",29:"right_shoulder",30:"right_bicep",31:"right_tricep",32:"right_brachioradialis",33:"right_forearm_extensors",34:"neck",35:"throat"},segment_lap_status:{0:"end",1:"fail"},segment_leaderboard_type:{0:"overall",1:"personal_best",2:"connections",3:"group",4:"challenger",5:"kom",6:"qom",7:"pr",8:"goal",9:"rival",10:"club_leader"},segment_delete_status:{0:"do_not_delete",1:"delete_one",2:"delete_all"},segment_selection_type:{0:"starred",1:"suggested"},source_type:{0:"ant",1:"antplus",2:"bluetooth",3:"bluetooth_low_energy",4:"wifi",5:"local"},display_orientation:{0:"auto",1:"portrait",2:"landscape",3:"portrait_flipped",4:"landscape_flipped"},rider_position_type:{0:"seated",1:"standing"},power_phase_type:{0:"power_phase_start_angle",1:"power_phase_end_angle",2:"power_phase_arc_length",3:"power_phase_center"},camera_event_type:{0:"video_start",1:"video_split",2:"video_end",3:"photo_taken",4:"video_second_stream_start",5:"video_second_stream_split",6:"video_second_stream_end",7:"video_split_start",8:"video_second_stream_split_start"},sensor_type:{0:"accelerometer",1:"gyroscope",2:"compass"},bike_light_network_config_type:{0:"auto",4:"individual",5:"high_visibility"},comm_timeout_type:{0:"wildcard_pairing_timeout",1:"pairing_timeout",2:"connection_lost",3:"connection_timeout"},camera_orientation_type:{0:"camera_orientation_0",1:"camera_orientation_90",2:"camera_orientation_180",3:"camera_orientation_270"},attitude_stage:{0:"failed",1:"aligning",2:"degraded",3:"valid"},attitude_validity:{0:0,1:"track_angle_heading_valid",2:"pitch_valid",4:"roll_valid",8:"lateral_body_accel_valid",16:"normal_body_accel_valid",32:"turn_rate_valid",64:"hw_fail",128:"mag_invalid",256:"no_gps",512:"gps_invalid",1024:"solution_coasting",2048:"true_track_angle",4096:"magnetic_heading"},exd_layout:{0:"full_screen",1:"half_vertical",2:"half_horizontal",3:"half_vertical_right_split",4:"half_horizontal_bottom_split",5:"full_quarter_split",6:"half_vertical_left_split",7:"half_horizontal_top_split"},exd_display_type:{0:"numerical",1:"simple",2:"graph",3:"bar",4:"circle_graph",5:"virtual_partner",6:"balance",7:"string_list",8:"string",9:"simple_dynamic_icon",10:"gauge"},exd_data_units:{0:"no_units",1:"laps",2:"miles_per_hour",3:"kilometers_per_hour",4:"feet_per_hour",5:"meters_per_hour",6:"degrees_celsius",7:"degrees_farenheit",8:"zone",9:"gear",10:"rpm",11:"bpm",12:"degrees",13:"millimeters",14:"meters",15:"kilometers",16:"feet",17:"yards",18:"kilofeet",19:"miles",20:"time",21:"enum_turn_type",22:"percent",23:"watts",24:"watts_per_kilogram",25:"enum_battery_status",26:"enum_bike_light_beam_angle_mode",27:"enum_bike_light_battery_status",28:"enum_bike_light_network_config_type",29:"lights",30:"seconds",31:"minutes",32:"hours",33:"calories",34:"kilojoules",35:"milliseconds",36:"second_per_mile",37:"second_per_kilometer",38:"centimeter",39:"enum_course_point",40:"bradians",41:"enum_sport"},exd_qualifiers:{0:"no_qualifier",1:"instantaneous",2:"average",3:"lap",4:"maximum",5:"maximum_average",6:"maximum_lap",7:"last_lap",8:"average_lap",9:"to_destination",10:"to_go",11:"to_next",12:"next_course_point",13:"total",14:"three_second_average",15:"ten_second_average",16:"thirty_second_average",17:"percent_maximum",18:"percent_maximum_average",19:"lap_percent_maximum",20:"elapsed",21:"sunrise",22:"sunset",23:"compared_to_virtual_partner",24:"maximum_24h",25:"minimum_24h",26:"minimum",27:"first",28:"second",29:"third",30:"shifter",242:"zone_9",243:"zone_8",244:"zone_7",245:"zone_6",246:"zone_5",247:"zone_4",248:"zone_3",249:"zone_2",250:"zone_1"},exd_descriptors:{0:"bike_light_battery_status",1:"beam_angle_status",2:"batery_level",3:"light_network_mode",4:"number_lights_connected",5:"cadence",6:"distance",7:"estimated_time_of_arrival",8:"heading",9:"time",10:"battery_level",11:"trainer_resistance",12:"trainer_target_power",13:"time_seated",14:"time_standing",15:"elevation",16:"grade",17:"ascent",18:"descent",19:"vertical_speed",20:"di2_battery_level",21:"front_gear",22:"rear_gear",23:"gear_ratio",24:"heart_rate",25:"heart_rate_zone",26:"time_in_heart_rate_zone",27:"heart_rate_reserve",28:"calories",29:"gps_accuracy",30:"gps_signal_strength",31:"temperature",32:"time_of_day",33:"balance",34:"pedal_smoothness",35:"power",36:"functional_threshold_power",37:"intensity_factor",38:"work",39:"power_ratio",40:"normalized_power",41:"training_stress_Score",42:"time_on_zone",43:"speed",44:"laps",45:"reps",46:"workout_step",47:"course_distance",48:"navigation_distance",49:"course_estimated_time_of_arrival",50:"navigation_estimated_time_of_arrival",51:"course_time",52:"navigation_time",53:"course_heading",54:"navigation_heading",55:"power_zone",56:"torque_effectiveness",57:"timer_time",58:"power_weight_ratio",59:"left_platform_center_offset",60:"right_platform_center_offset",61:"left_power_phase_start_angle",62:"right_power_phase_start_angle",63:"left_power_phase_finish_angle",64:"right_power_phase_finish_angle",65:"gears",66:"pace",67:"training_effect",68:"vertical_oscillation",69:"vertical_ratio",70:"ground_contact_time",71:"left_ground_contact_time_balance",72:"right_ground_contact_time_balance",73:"stride_length",74:"running_cadence",75:"performance_condition",76:"course_type",77:"time_in_power_zone",78:"navigation_turn",79:"course_location",80:"navigation_location",81:"compass",82:"gear_combo"},supported_exd_screen_layouts:{0:0,1:"full_screen",2:"half_vertical",4:"half_horizontal",8:"half_vertical_right_split",16:"half_horizontal_bottom_split",32:"full_quarter_split",64:"half_vertical_left_split",128:"half_horizontal_top_split"},fit_base_type:{0:"enum",1:"sint8",2:"uint8",7:"string",10:"uint8z",13:"byte",131:"sint16",132:"uint16",133:"sint32",134:"uint32",136:"float32",137:"float64",139:"uint16z",140:"uint32z"},turn_type:{0:"arriving_idx",1:"arriving_left_idx",2:"arriving_right_idx",3:"arriving_via_idx",4:"arriving_via_left_idx",5:"arriving_via_right_idx",6:"bear_keep_left_idx",7:"bear_keep_right_idx",8:"continue_idx",9:"exit_left_idx",10:"exit_right_idx",11:"ferry_idx",12:"roundabout_45_idx",13:"roundabout_90_idx",14:"roundabout_135_idx",15:"roundabout_180_idx",16:"roundabout_225_idx",17:"roundabout_270_idx",18:"roundabout_315_idx",19:"roundabout_360_idx",20:"roundabout_neg_45_idx",21:"roundabout_neg_90_idx",22:"roundabout_neg_135_idx",23:"roundabout_neg_180_idx",24:"roundabout_neg_225_idx",25:"roundabout_neg_270_idx",26:"roundabout_neg_315_idx",27:"roundabout_neg_360_idx",28:"roundabout_generic_idx",29:"roundabout_neg_generic_idx",30:"sharp_turn_left_idx",31:"sharp_turn_right_idx",32:"turn_left_idx",33:"turn_right_idx",34:"uturn_left_idx",35:"uturn_right_idx",36:"icon_inv_idx",37:"icon_idx_cnt"},bike_light_beam_angle_mode:{0:"manual",1:"auto"},fit_base_unit:{0:"other"}}};function kf(e){var s=Xr.messages[e];return s?s.name:""}function Tf(e,s){var n=Xr.messages[s];if(!n)return"";var r=n[e];return r||{}}var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.getFitMessage=Lf;mn.getFitMessageBaseType=Ef;var nr=je;function Lf(e){return{name:(0,nr.getMessageName)(e),getAttributes:function(n){return(0,nr.getFieldObject)(n,e)}}}function Ef(e){return e}Object.defineProperty(We,"__esModule",{value:!0});We.addEndian=Oa;We.readRecord=zf;We.getArrayBuffer=Af;We.calculateCRC=Of;var on=je,ia=mn;function Oa(e,s){var n=0;e||s.reverse();for(var r=0;r<s.length;r++)n+=s[r]<<(r<<3)>>>0;return n}function Pf(e,s,n){if(s.endianAbility===!0){for(var r=[],u=0;u<s.size;u++)r.push(e[n+u]);var l=Oa(s.littleEndian,r);return s.type==="sint32"?l>>0:l}return e[n]}function Sf(e,s,n,r){switch(s){case"date_time":return new Date(e*1e3+6310656e5);case"sint32":case"sint16":return e*on.FIT.scConst;case"uint32":case"uint16":return n?e/n+r:e;default:return on.FIT.types[s]?on.FIT.types[s][e]:e}}function Cf(e,s){switch(s){case"enum":return e===255;case"sint8":return e===127;case"uint8":return e===255;case"sint16":return e===32767;case"unit16":return e===65535;case"sint32":return e===2147483647;case"uint32":return e===4294967295;case"string":return e===0;case"float32":return e===4294967295;case"float64":return e===18446744073709552e3;case"uint8z":return e===0;case"uint16z":return e===0;case"uint32z":return e===0;case"byte":return e===255;case"sint64":return e===9223372036854776e3;case"uint64":return e===18446744073709552e3;case"uint64z":return e===0;default:return!1}}function na(e,s,n){var r=on.FIT.options[s][n];return r?e*r.multiplier+r.offset:e}function Mf(e,s,n){switch(s){case"speed":case"enhanced_speed":case"vertical_speed":case"avg_speed":case"max_speed":case"speed_1s":case"ball_speed":case"enhanced_avg_speed":case"enhanced_max_speed":case"avg_pos_vertical_speed":case"max_pos_vertical_speed":case"avg_neg_vertical_speed":case"max_neg_vertical_speed":return na(e,"speedUnits",n.speedUnit);case"distance":case"total_distance":case"enhanced_avg_altitude":case"enhanced_min_altitude":case"enhanced_max_altitude":case"enhanced_altitude":case"height":case"odometer":case"avg_stroke_distance":case"min_altitude":case"avg_altitude":case"max_altitude":case"total_ascent":case"total_descent":case"altitude":case"cycle_length":case"auto_wheelsize":case"custom_wheelsize":case"gps_accuracy":return na(e,"lengthUnits",n.lengthUnit);case"temperature":case"avg_temperature":case"max_temperature":return na(e,"temperatureUnits",n.temperatureUnit);default:return e}}function zf(e,s,n,r,u){var l=e[n],c=l&15;if((l&64)===64){for(var _=e[n+2]===0,m={littleEndian:_,globalMessageNumber:Oa(_,[e[n+3],e[n+4]]),numberOfFields:e[n+5],fieldDefs:[]},d=(0,ia.getFitMessage)(m.globalMessageNumber),p=0;p<m.numberOfFields;p++){var w=n+6+p*3,b=e[w+2],x=d.getAttributes(e[w]),E=x.field,T=x.type,I={type:T,fDefNo:e[w],size:e[w+1],endianAbility:(b&128)===128,littleEndian:_,baseTypeNo:b&15,name:E,dataType:(0,ia.getFitMessageBaseType)(b&15)};m.fieldDefs.push(I)}return s[c]=m,{messageType:"fieldDescription",nextIndex:n+6+m.numberOfFields*3}}var M=void 0;s[c]?M=s[c]:M=s[0];for(var D=0,N=n+1,z={},P=(0,ia.getFitMessage)(M.globalMessageNumber),U=0;U<M.fieldDefs.length;U++){var Z=M.fieldDefs[U],A=Pf(e,Z,N);if(!Cf(A,Z.type)){var B=P.getAttributes(Z.fDefNo),E=B.field,T=B.type,q=B.scale,C=B.offset;E!=="unknown"&&E!==""&&E!==void 0&&(z[E]=Mf(Sf(A,T,q,C),E,r)),P.name==="record"&&r.elapsedRecordField&&(z.elapsed_time=(z.timestamp-u)/1e3)}N+=Z.size,D+=Z.size}var j={messageType:P.name,nextIndex:n+D+1,message:z};return j}function Af(e){if(e instanceof ArrayBuffer)return e;for(var s=new ArrayBuffer(e.length),n=new Uint8Array(s),r=0;r<e.length;++r)n[r]=e[r];return s}function Of(e,s,n){for(var r=[0,52225,55297,5120,61441,15360,10240,58369,40961,27648,30720,46081,20480,39937,34817,17408],u=0,l=s;l<n;l++){var c=e[l],_=r[u&15];u=u>>4&4095,u=u^_^r[c&15],_=r[u&15],u=u>>4&4095,u=u^_^r[c>>4&15]}return u}Object.defineProperty(Yr,"__esModule",{value:!0});var If=function(){function e(s,n){for(var r=0;r<n.length;r++){var u=n[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,n,r){return n&&e(s.prototype,n),r&&e(s,r),s}}(),Xi=We;function Nf(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var Zf=function(){function e(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nf(this,e),this.options={force:s.force||!0,speedUnit:s.speedUnit||"m/s",lengthUnit:s.lengthUnit||"m",temperatureUnit:s.temperatureUnit||"celsius",elapsedRecordField:s.elapsedRecordField||!1,mode:s.mode||"list"}}return If(e,[{key:"parse",value:function(n,r){var u=new Uint8Array((0,Xi.getArrayBuffer)(n));if(!(u.length<12&&(r("File to small to be a FIT file",{}),!this.options.force))){var l=u[0];if(!(l!==14&&l!==12&&(r("Incorrect header size",{}),!this.options.force))){for(var c="",_=8;_<12;_++)c+=String.fromCharCode(u[_]);if(!(c!==".FIT"&&(r("Missing '.FIT' in header",{}),!this.options.force))){if(l===14){var m=u[12]+(u[13]<<8),d=(0,Xi.calculateCRC)(u,0,12);if(m!==d&&!this.options.force)return}var p=u[4]+(u[5]<<8)+(u[6]<<16)+(u[7]<<24),w=p+l,b=u[w]+(u[w+1]<<8),x=(0,Xi.calculateCRC)(u,l===12?0:l,w);if(!(b!==x&&!this.options.force)){for(var E={},T=[],I=[],M=[],D=[],N=[],z=[],P=l,U=[],Z=this.options.mode==="cascade",A=Z||this.options.mode==="both",B=void 0;P<w;){var q=(0,Xi.readRecord)(u,U,P,this.options,B),C=q.nextIndex,j=q.messageType,at=q.message;switch(P=C,j){case"lap":A&&(at.records=z,z=[],N.push(at)),I.push(at);break;case"session":A&&(at.laps=N,N=[]),T.push(at);break;case"event":D.push(at);break;case"record":B||(B=at.timestamp,at.elapsed_time=0),M.push(at),A&&z.push(at);break;default:j!==""&&(E[j]=at);break}}A&&(E.activity.sessions=T,E.activity.events=D),Z||(E.sessions=T,E.laps=I,E.records=M,E.events=D),r(null,E)}}}}}}]),e}();Yr.default=Zf;var Qt={};(function(e){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(l,c){return Object.prototype.hasOwnProperty.call(l,c)}e.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var _=c.shift();if(!!_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var m in _)n(_,m)&&(l[m]=_[m])}}return l},e.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var r={arraySet:function(l,c,_,m,d){if(c.subarray&&l.subarray){l.set(c.subarray(_,_+m),d);return}for(var p=0;p<m;p++)l[d+p]=c[_+p]},flattenChunks:function(l){var c,_,m,d,p,w;for(m=0,c=0,_=l.length;c<_;c++)m+=l[c].length;for(w=new Uint8Array(m),d=0,c=0,_=l.length;c<_;c++)p=l[c],w.set(p,d),d+=p.length;return w}},u={arraySet:function(l,c,_,m,d){for(var p=0;p<m;p++)l[d+p]=c[_+p]},flattenChunks:function(l){return[].concat.apply([],l)}};e.setTyped=function(l){l?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,u))},e.setTyped(s)})(Qt);var Li={},jt={},Ve={},Bf=Qt,Ff=4,ar=0,sr=1,Rf=2;function qe(e){for(var s=e.length;--s>=0;)e[s]=0}var Df=0,Jr=1,Uf=2,Hf=3,Gf=258,Ia=29,Ei=256,bi=Ei+1+Ia,Ue=30,Na=19,Qr=2*bi+1,be=15,aa=16,Wf=7,Za=256,to=16,eo=17,io=18,wa=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ln=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],jf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],no=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Vf=512,Jt=new Array((bi+2)*2);qe(Jt);var pi=new Array(Ue*2);qe(pi);var wi=new Array(Vf);qe(wi);var xi=new Array(Gf-Hf+1);qe(xi);var Ba=new Array(Ia);qe(Ba);var dn=new Array(Ue);qe(dn);function sa(e,s,n,r,u){this.static_tree=e,this.extra_bits=s,this.extra_base=n,this.elems=r,this.max_length=u,this.has_stree=e&&e.length}var ao,so,ro;function ra(e,s){this.dyn_tree=e,this.max_code=0,this.stat_desc=s}function oo(e){return e<256?wi[e]:wi[256+(e>>>7)]}function ki(e,s){e.pending_buf[e.pending++]=s&255,e.pending_buf[e.pending++]=s>>>8&255}function kt(e,s,n){e.bi_valid>aa-n?(e.bi_buf|=s<<e.bi_valid&65535,ki(e,e.bi_buf),e.bi_buf=s>>aa-e.bi_valid,e.bi_valid+=n-aa):(e.bi_buf|=s<<e.bi_valid&65535,e.bi_valid+=n)}function Gt(e,s,n){kt(e,n[s*2],n[s*2+1])}function lo(e,s){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--s>0);return n>>>1}function qf(e){e.bi_valid===16?(ki(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function $f(e,s){var n=s.dyn_tree,r=s.max_code,u=s.stat_desc.static_tree,l=s.stat_desc.has_stree,c=s.stat_desc.extra_bits,_=s.stat_desc.extra_base,m=s.stat_desc.max_length,d,p,w,b,x,E,T=0;for(b=0;b<=be;b++)e.bl_count[b]=0;for(n[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<Qr;d++)p=e.heap[d],b=n[n[p*2+1]*2+1]+1,b>m&&(b=m,T++),n[p*2+1]=b,!(p>r)&&(e.bl_count[b]++,x=0,p>=_&&(x=c[p-_]),E=n[p*2],e.opt_len+=E*(b+x),l&&(e.static_len+=E*(u[p*2+1]+x)));if(T!==0){do{for(b=m-1;e.bl_count[b]===0;)b--;e.bl_count[b]--,e.bl_count[b+1]+=2,e.bl_count[m]--,T-=2}while(T>0);for(b=m;b!==0;b--)for(p=e.bl_count[b];p!==0;)w=e.heap[--d],!(w>r)&&(n[w*2+1]!==b&&(e.opt_len+=(b-n[w*2+1])*n[w*2],n[w*2+1]=b),p--)}}function uo(e,s,n){var r=new Array(be+1),u=0,l,c;for(l=1;l<=be;l++)r[l]=u=u+n[l-1]<<1;for(c=0;c<=s;c++){var _=e[c*2+1];_!==0&&(e[c*2]=lo(r[_]++,_))}}function Kf(){var e,s,n,r,u,l=new Array(be+1);for(n=0,r=0;r<Ia-1;r++)for(Ba[r]=n,e=0;e<1<<wa[r];e++)xi[n++]=r;for(xi[n-1]=r,u=0,r=0;r<16;r++)for(dn[r]=u,e=0;e<1<<ln[r];e++)wi[u++]=r;for(u>>=7;r<Ue;r++)for(dn[r]=u<<7,e=0;e<1<<ln[r]-7;e++)wi[256+u++]=r;for(s=0;s<=be;s++)l[s]=0;for(e=0;e<=143;)Jt[e*2+1]=8,e++,l[8]++;for(;e<=255;)Jt[e*2+1]=9,e++,l[9]++;for(;e<=279;)Jt[e*2+1]=7,e++,l[7]++;for(;e<=287;)Jt[e*2+1]=8,e++,l[8]++;for(uo(Jt,bi+1,l),e=0;e<Ue;e++)pi[e*2+1]=5,pi[e*2]=lo(e,5);ao=new sa(Jt,wa,Ei+1,bi,be),so=new sa(pi,ln,0,Ue,be),ro=new sa(new Array(0),jf,0,Na,Wf)}function fo(e){var s;for(s=0;s<bi;s++)e.dyn_ltree[s*2]=0;for(s=0;s<Ue;s++)e.dyn_dtree[s*2]=0;for(s=0;s<Na;s++)e.bl_tree[s*2]=0;e.dyn_ltree[Za*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function ho(e){e.bi_valid>8?ki(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Yf(e,s,n,r){ho(e),r&&(ki(e,n),ki(e,~n)),Bf.arraySet(e.pending_buf,e.window,s,n,e.pending),e.pending+=n}function rr(e,s,n,r){var u=s*2,l=n*2;return e[u]<e[l]||e[u]===e[l]&&r[s]<=r[n]}function oa(e,s,n){for(var r=e.heap[n],u=n<<1;u<=e.heap_len&&(u<e.heap_len&&rr(s,e.heap[u+1],e.heap[u],e.depth)&&u++,!rr(s,r,e.heap[u],e.depth));)e.heap[n]=e.heap[u],n=u,u<<=1;e.heap[n]=r}function or(e,s,n){var r,u,l=0,c,_;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+l*2]<<8|e.pending_buf[e.d_buf+l*2+1],u=e.pending_buf[e.l_buf+l],l++,r===0?Gt(e,u,s):(c=xi[u],Gt(e,c+Ei+1,s),_=wa[c],_!==0&&(u-=Ba[c],kt(e,u,_)),r--,c=oo(r),Gt(e,c,n),_=ln[c],_!==0&&(r-=dn[c],kt(e,r,_)));while(l<e.last_lit);Gt(e,Za,s)}function xa(e,s){var n=s.dyn_tree,r=s.stat_desc.static_tree,u=s.stat_desc.has_stree,l=s.stat_desc.elems,c,_,m=-1,d;for(e.heap_len=0,e.heap_max=Qr,c=0;c<l;c++)n[c*2]!==0?(e.heap[++e.heap_len]=m=c,e.depth[c]=0):n[c*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=m<2?++m:0,n[d*2]=1,e.depth[d]=0,e.opt_len--,u&&(e.static_len-=r[d*2+1]);for(s.max_code=m,c=e.heap_len>>1;c>=1;c--)oa(e,n,c);d=l;do c=e.heap[1],e.heap[1]=e.heap[e.heap_len--],oa(e,n,1),_=e.heap[1],e.heap[--e.heap_max]=c,e.heap[--e.heap_max]=_,n[d*2]=n[c*2]+n[_*2],e.depth[d]=(e.depth[c]>=e.depth[_]?e.depth[c]:e.depth[_])+1,n[c*2+1]=n[_*2+1]=d,e.heap[1]=d++,oa(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],$f(e,s),uo(n,m,e.bl_count)}function lr(e,s,n){var r,u=-1,l,c=s[0*2+1],_=0,m=7,d=4;for(c===0&&(m=138,d=3),s[(n+1)*2+1]=65535,r=0;r<=n;r++)l=c,c=s[(r+1)*2+1],!(++_<m&&l===c)&&(_<d?e.bl_tree[l*2]+=_:l!==0?(l!==u&&e.bl_tree[l*2]++,e.bl_tree[to*2]++):_<=10?e.bl_tree[eo*2]++:e.bl_tree[io*2]++,_=0,u=l,c===0?(m=138,d=3):l===c?(m=6,d=3):(m=7,d=4))}function ur(e,s,n){var r,u=-1,l,c=s[0*2+1],_=0,m=7,d=4;for(c===0&&(m=138,d=3),r=0;r<=n;r++)if(l=c,c=s[(r+1)*2+1],!(++_<m&&l===c)){if(_<d)do Gt(e,l,e.bl_tree);while(--_!==0);else l!==0?(l!==u&&(Gt(e,l,e.bl_tree),_--),Gt(e,to,e.bl_tree),kt(e,_-3,2)):_<=10?(Gt(e,eo,e.bl_tree),kt(e,_-3,3)):(Gt(e,io,e.bl_tree),kt(e,_-11,7));_=0,u=l,c===0?(m=138,d=3):l===c?(m=6,d=3):(m=7,d=4)}}function Xf(e){var s;for(lr(e,e.dyn_ltree,e.l_desc.max_code),lr(e,e.dyn_dtree,e.d_desc.max_code),xa(e,e.bl_desc),s=Na-1;s>=3&&e.bl_tree[no[s]*2+1]===0;s--);return e.opt_len+=3*(s+1)+5+5+4,s}function Jf(e,s,n,r){var u;for(kt(e,s-257,5),kt(e,n-1,5),kt(e,r-4,4),u=0;u<r;u++)kt(e,e.bl_tree[no[u]*2+1],3);ur(e,e.dyn_ltree,s-1),ur(e,e.dyn_dtree,n-1)}function Qf(e){var s=4093624447,n;for(n=0;n<=31;n++,s>>>=1)if(s&1&&e.dyn_ltree[n*2]!==0)return ar;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return sr;for(n=32;n<Ei;n++)if(e.dyn_ltree[n*2]!==0)return sr;return ar}var fr=!1;function th(e){fr||(Kf(),fr=!0),e.l_desc=new ra(e.dyn_ltree,ao),e.d_desc=new ra(e.dyn_dtree,so),e.bl_desc=new ra(e.bl_tree,ro),e.bi_buf=0,e.bi_valid=0,fo(e)}function co(e,s,n,r){kt(e,(Df<<1)+(r?1:0),3),Yf(e,s,n,!0)}function eh(e){kt(e,Jr<<1,3),Gt(e,Za,Jt),qf(e)}function ih(e,s,n,r){var u,l,c=0;e.level>0?(e.strm.data_type===Rf&&(e.strm.data_type=Qf(e)),xa(e,e.l_desc),xa(e,e.d_desc),c=Xf(e),u=e.opt_len+3+7>>>3,l=e.static_len+3+7>>>3,l<=u&&(u=l)):u=l=n+5,n+4<=u&&s!==-1?co(e,s,n,r):e.strategy===Ff||l===u?(kt(e,(Jr<<1)+(r?1:0),3),or(e,Jt,pi)):(kt(e,(Uf<<1)+(r?1:0),3),Jf(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),or(e,e.dyn_ltree,e.dyn_dtree)),fo(e),r&&ho(e)}function nh(e,s,n){return e.pending_buf[e.d_buf+e.last_lit*2]=s>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=s&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,s===0?e.dyn_ltree[n*2]++:(e.matches++,s--,e.dyn_ltree[(xi[n]+Ei+1)*2]++,e.dyn_dtree[oo(s)*2]++),e.last_lit===e.lit_bufsize-1}Ve._tr_init=th;Ve._tr_stored_block=co;Ve._tr_flush_block=ih;Ve._tr_tally=nh;Ve._tr_align=eh;function ah(e,s,n,r){for(var u=e&65535|0,l=e>>>16&65535|0,c=0;n!==0;){c=n>2e3?2e3:n,n-=c;do u=u+s[r++]|0,l=l+u|0;while(--c);u%=65521,l%=65521}return u|l<<16|0}var _o=ah;function sh(){for(var e,s=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;s[n]=e}return s}var rh=sh();function oh(e,s,n,r){var u=rh,l=r+n;e^=-1;for(var c=r;c<l;c++)e=e>>>8^u[(e^s[c])&255];return e^-1}var po=oh,Fa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vt=Qt,Ct=Ve,mo=_o,ae=po,lh=Fa,Pe=0,uh=1,fh=3,he=4,hr=5,Wt=0,cr=1,Mt=-2,hh=-3,la=-5,ch=-1,_h=1,Ji=2,dh=3,ph=4,mh=0,gh=2,gn=8,vh=9,yh=15,bh=8,wh=29,xh=256,ka=xh+1+wh,kh=30,Th=19,Lh=2*ka+1,Eh=15,$=3,ue=258,It=ue+$+1,Ph=32,vn=42,Ta=69,un=73,fn=91,hn=103,we=113,_i=666,ht=1,Pi=2,xe=3,$e=4,Sh=3;function fe(e,s){return e.msg=lh[s],s}function _r(e){return(e<<1)-(e>4?9:0)}function oe(e){for(var s=e.length;--s>=0;)e[s]=0}function se(e){var s=e.state,n=s.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(vt.arraySet(e.output,s.pending_buf,s.pending_out,n,e.next_out),e.next_out+=n,s.pending_out+=n,e.total_out+=n,e.avail_out-=n,s.pending-=n,s.pending===0&&(s.pending_out=0))}function dt(e,s){Ct._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,s),e.block_start=e.strstart,se(e.strm)}function J(e,s){e.pending_buf[e.pending++]=s}function fi(e,s){e.pending_buf[e.pending++]=s>>>8&255,e.pending_buf[e.pending++]=s&255}function Ch(e,s,n,r){var u=e.avail_in;return u>r&&(u=r),u===0?0:(e.avail_in-=u,vt.arraySet(s,e.input,e.next_in,u,n),e.state.wrap===1?e.adler=mo(e.adler,s,u,n):e.state.wrap===2&&(e.adler=ae(e.adler,s,u,n)),e.next_in+=u,e.total_in+=u,u)}function go(e,s){var n=e.max_chain_length,r=e.strstart,u,l,c=e.prev_length,_=e.nice_match,m=e.strstart>e.w_size-It?e.strstart-(e.w_size-It):0,d=e.window,p=e.w_mask,w=e.prev,b=e.strstart+ue,x=d[r+c-1],E=d[r+c];e.prev_length>=e.good_match&&(n>>=2),_>e.lookahead&&(_=e.lookahead);do if(u=s,!(d[u+c]!==E||d[u+c-1]!==x||d[u]!==d[r]||d[++u]!==d[r+1])){r+=2,u++;do;while(d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&d[++r]===d[++u]&&r<b);if(l=ue-(b-r),r=b-ue,l>c){if(e.match_start=s,c=l,l>=_)break;x=d[r+c-1],E=d[r+c]}}while((s=w[s&p])>m&&--n!==0);return c<=e.lookahead?c:e.lookahead}function ke(e){var s=e.w_size,n,r,u,l,c;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-It)){vt.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,r=e.hash_size,n=r;do u=e.head[--n],e.head[n]=u>=s?u-s:0;while(--r);r=s,n=r;do u=e.prev[--n],e.prev[n]=u>=s?u-s:0;while(--r);l+=s}if(e.strm.avail_in===0)break;if(r=Ch(e.strm,e.window,e.strstart+e.lookahead,l),e.lookahead+=r,e.lookahead+e.insert>=$)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+$-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<$)););}while(e.lookahead<It&&e.strm.avail_in!==0)}function Mh(e,s){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ke(e),e.lookahead===0&&s===Pe)return ht;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,dt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-It&&(dt(e,!1),e.strm.avail_out===0))return ht}return e.insert=0,s===he?(dt(e,!0),e.strm.avail_out===0?xe:$e):(e.strstart>e.block_start&&(dt(e,!1),e.strm.avail_out===0),ht)}function ua(e,s){for(var n,r;;){if(e.lookahead<It){if(ke(e),e.lookahead<It&&s===Pe)return ht;if(e.lookahead===0)break}if(n=0,e.lookahead>=$&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-It&&(e.match_length=go(e,n)),e.match_length>=$)if(r=Ct._tr_tally(e,e.strstart-e.match_start,e.match_length-$),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Ct._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(dt(e,!1),e.strm.avail_out===0))return ht}return e.insert=e.strstart<$-1?e.strstart:$-1,s===he?(dt(e,!0),e.strm.avail_out===0?xe:$e):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?ht:Pi}function Fe(e,s){for(var n,r,u;;){if(e.lookahead<It){if(ke(e),e.lookahead<It&&s===Pe)return ht;if(e.lookahead===0)break}if(n=0,e.lookahead>=$&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-It&&(e.match_length=go(e,n),e.match_length<=5&&(e.strategy===_h||e.match_length===$&&e.strstart-e.match_start>4096)&&(e.match_length=$-1)),e.prev_length>=$&&e.match_length<=e.prev_length){u=e.strstart+e.lookahead-$,r=Ct._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-$),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=u&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$-1,e.strstart++,r&&(dt(e,!1),e.strm.avail_out===0))return ht}else if(e.match_available){if(r=Ct._tr_tally(e,0,e.window[e.strstart-1]),r&&dt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ht}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ct._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$-1?e.strstart:$-1,s===he?(dt(e,!0),e.strm.avail_out===0?xe:$e):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?ht:Pi}function zh(e,s){for(var n,r,u,l,c=e.window;;){if(e.lookahead<=ue){if(ke(e),e.lookahead<=ue&&s===Pe)return ht;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$&&e.strstart>0&&(u=e.strstart-1,r=c[u],r===c[++u]&&r===c[++u]&&r===c[++u])){l=e.strstart+ue;do;while(r===c[++u]&&r===c[++u]&&r===c[++u]&&r===c[++u]&&r===c[++u]&&r===c[++u]&&r===c[++u]&&r===c[++u]&&u<l);e.match_length=ue-(l-u),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$?(n=Ct._tr_tally(e,1,e.match_length-$),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ct._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(dt(e,!1),e.strm.avail_out===0))return ht}return e.insert=0,s===he?(dt(e,!0),e.strm.avail_out===0?xe:$e):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?ht:Pi}function Ah(e,s){for(var n;;){if(e.lookahead===0&&(ke(e),e.lookahead===0)){if(s===Pe)return ht;break}if(e.match_length=0,n=Ct._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(dt(e,!1),e.strm.avail_out===0))return ht}return e.insert=0,s===he?(dt(e,!0),e.strm.avail_out===0?xe:$e):e.last_lit&&(dt(e,!1),e.strm.avail_out===0)?ht:Pi}function Ut(e,s,n,r,u){this.good_length=e,this.max_lazy=s,this.nice_length=n,this.max_chain=r,this.func=u}var De;De=[new Ut(0,0,0,0,Mh),new Ut(4,4,8,4,ua),new Ut(4,5,16,8,ua),new Ut(4,6,32,32,ua),new Ut(4,4,16,16,Fe),new Ut(8,16,32,32,Fe),new Ut(8,16,128,128,Fe),new Ut(8,32,128,256,Fe),new Ut(32,128,258,1024,Fe),new Ut(32,258,258,4096,Fe)];function Oh(e){e.window_size=2*e.w_size,oe(e.head),e.max_lazy_match=De[e.level].max_lazy,e.good_match=De[e.level].good_length,e.nice_match=De[e.level].nice_length,e.max_chain_length=De[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$-1,e.match_available=0,e.ins_h=0}function Ih(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=gn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new vt.Buf16(Lh*2),this.dyn_dtree=new vt.Buf16((2*kh+1)*2),this.bl_tree=new vt.Buf16((2*Th+1)*2),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new vt.Buf16(Eh+1),this.heap=new vt.Buf16(2*ka+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new vt.Buf16(2*ka+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vo(e){var s;return!e||!e.state?fe(e,Mt):(e.total_in=e.total_out=0,e.data_type=gh,s=e.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?vn:we,e.adler=s.wrap===2?0:1,s.last_flush=Pe,Ct._tr_init(s),Wt)}function yo(e){var s=vo(e);return s===Wt&&Oh(e.state),s}function Nh(e,s){return!e||!e.state||e.state.wrap!==2?Mt:(e.state.gzhead=s,Wt)}function bo(e,s,n,r,u,l){if(!e)return Mt;var c=1;if(s===ch&&(s=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),u<1||u>vh||n!==gn||r<8||r>15||s<0||s>9||l<0||l>ph)return fe(e,Mt);r===8&&(r=9);var _=new Ih;return e.state=_,_.strm=e,_.wrap=c,_.gzhead=null,_.w_bits=r,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=u+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+$-1)/$),_.window=new vt.Buf8(_.w_size*2),_.head=new vt.Buf16(_.hash_size),_.prev=new vt.Buf16(_.w_size),_.lit_bufsize=1<<u+6,_.pending_buf_size=_.lit_bufsize*4,_.pending_buf=new vt.Buf8(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=(1+2)*_.lit_bufsize,_.level=s,_.strategy=l,_.method=n,yo(e)}function Zh(e,s){return bo(e,s,gn,yh,bh,mh)}function Bh(e,s){var n,r,u,l;if(!e||!e.state||s>hr||s<0)return e?fe(e,Mt):Mt;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===_i&&s!==he)return fe(e,e.avail_out===0?la:Mt);if(r.strm=e,n=r.last_flush,r.last_flush=s,r.status===vn)if(r.wrap===2)e.adler=0,J(r,31),J(r,139),J(r,8),r.gzhead?(J(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),J(r,r.gzhead.time&255),J(r,r.gzhead.time>>8&255),J(r,r.gzhead.time>>16&255),J(r,r.gzhead.time>>24&255),J(r,r.level===9?2:r.strategy>=Ji||r.level<2?4:0),J(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(J(r,r.gzhead.extra.length&255),J(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ae(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Ta):(J(r,0),J(r,0),J(r,0),J(r,0),J(r,0),J(r,r.level===9?2:r.strategy>=Ji||r.level<2?4:0),J(r,Sh),r.status=we);else{var c=gn+(r.w_bits-8<<4)<<8,_=-1;r.strategy>=Ji||r.level<2?_=0:r.level<6?_=1:r.level===6?_=2:_=3,c|=_<<6,r.strstart!==0&&(c|=Ph),c+=31-c%31,r.status=we,fi(r,c),r.strstart!==0&&(fi(r,e.adler>>>16),fi(r,e.adler&65535)),e.adler=1}if(r.status===Ta)if(r.gzhead.extra){for(u=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),se(e),u=r.pending,r.pending===r.pending_buf_size));)J(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=un)}else r.status=un;if(r.status===un)if(r.gzhead.name){u=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),se(e),u=r.pending,r.pending===r.pending_buf_size)){l=1;break}r.gzindex<r.gzhead.name.length?l=r.gzhead.name.charCodeAt(r.gzindex++)&255:l=0,J(r,l)}while(l!==0);r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),l===0&&(r.gzindex=0,r.status=fn)}else r.status=fn;if(r.status===fn)if(r.gzhead.comment){u=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),se(e),u=r.pending,r.pending===r.pending_buf_size)){l=1;break}r.gzindex<r.gzhead.comment.length?l=r.gzhead.comment.charCodeAt(r.gzindex++)&255:l=0,J(r,l)}while(l!==0);r.gzhead.hcrc&&r.pending>u&&(e.adler=ae(e.adler,r.pending_buf,r.pending-u,u)),l===0&&(r.status=hn)}else r.status=hn;if(r.status===hn&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&se(e),r.pending+2<=r.pending_buf_size&&(J(r,e.adler&255),J(r,e.adler>>8&255),e.adler=0,r.status=we)):r.status=we),r.pending!==0){if(se(e),e.avail_out===0)return r.last_flush=-1,Wt}else if(e.avail_in===0&&_r(s)<=_r(n)&&s!==he)return fe(e,la);if(r.status===_i&&e.avail_in!==0)return fe(e,la);if(e.avail_in!==0||r.lookahead!==0||s!==Pe&&r.status!==_i){var m=r.strategy===Ji?Ah(r,s):r.strategy===dh?zh(r,s):De[r.level].func(r,s);if((m===xe||m===$e)&&(r.status=_i),m===ht||m===xe)return e.avail_out===0&&(r.last_flush=-1),Wt;if(m===Pi&&(s===uh?Ct._tr_align(r):s!==hr&&(Ct._tr_stored_block(r,0,0,!1),s===fh&&(oe(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),se(e),e.avail_out===0))return r.last_flush=-1,Wt}return s!==he?Wt:r.wrap<=0?cr:(r.wrap===2?(J(r,e.adler&255),J(r,e.adler>>8&255),J(r,e.adler>>16&255),J(r,e.adler>>24&255),J(r,e.total_in&255),J(r,e.total_in>>8&255),J(r,e.total_in>>16&255),J(r,e.total_in>>24&255)):(fi(r,e.adler>>>16),fi(r,e.adler&65535)),se(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Wt:cr)}function Fh(e){var s;return!e||!e.state?Mt:(s=e.state.status,s!==vn&&s!==Ta&&s!==un&&s!==fn&&s!==hn&&s!==we&&s!==_i?fe(e,Mt):(e.state=null,s===we?fe(e,hh):Wt))}function Rh(e,s){var n=s.length,r,u,l,c,_,m,d,p;if(!e||!e.state||(r=e.state,c=r.wrap,c===2||c===1&&r.status!==vn||r.lookahead))return Mt;for(c===1&&(e.adler=mo(e.adler,s,n,0)),r.wrap=0,n>=r.w_size&&(c===0&&(oe(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new vt.Buf8(r.w_size),vt.arraySet(p,s,n-r.w_size,r.w_size,0),s=p,n=r.w_size),_=e.avail_in,m=e.next_in,d=e.input,e.avail_in=n,e.next_in=0,e.input=s,ke(r);r.lookahead>=$;){u=r.strstart,l=r.lookahead-($-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[u+$-1])&r.hash_mask,r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--l);r.strstart=u,r.lookahead=$-1,ke(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=$-1,r.match_available=0,e.next_in=m,e.input=d,e.avail_in=_,r.wrap=c,Wt}jt.deflateInit=Zh;jt.deflateInit2=bo;jt.deflateReset=yo;jt.deflateResetKeep=vo;jt.deflateSetHeader=Nh;jt.deflate=Bh;jt.deflateEnd=Fh;jt.deflateSetDictionary=Rh;jt.deflateInfo="pako deflate (from Nodeca project)";var Se={},yn=Qt,wo=!0,xo=!0;try{String.fromCharCode.apply(null,[0])}catch{wo=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xo=!1}var Ti=new yn.Buf8(256);for(var ne=0;ne<256;ne++)Ti[ne]=ne>=252?6:ne>=248?5:ne>=240?4:ne>=224?3:ne>=192?2:1;Ti[254]=Ti[254]=1;Se.string2buf=function(e){var s,n,r,u,l,c=e.length,_=0;for(u=0;u<c;u++)n=e.charCodeAt(u),(n&64512)===55296&&u+1<c&&(r=e.charCodeAt(u+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),u++)),_+=n<128?1:n<2048?2:n<65536?3:4;for(s=new yn.Buf8(_),l=0,u=0;l<_;u++)n=e.charCodeAt(u),(n&64512)===55296&&u+1<c&&(r=e.charCodeAt(u+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),u++)),n<128?s[l++]=n:n<2048?(s[l++]=192|n>>>6,s[l++]=128|n&63):n<65536?(s[l++]=224|n>>>12,s[l++]=128|n>>>6&63,s[l++]=128|n&63):(s[l++]=240|n>>>18,s[l++]=128|n>>>12&63,s[l++]=128|n>>>6&63,s[l++]=128|n&63);return s};function ko(e,s){if(s<65534&&(e.subarray&&xo||!e.subarray&&wo))return String.fromCharCode.apply(null,yn.shrinkBuf(e,s));for(var n="",r=0;r<s;r++)n+=String.fromCharCode(e[r]);return n}Se.buf2binstring=function(e){return ko(e,e.length)};Se.binstring2buf=function(e){for(var s=new yn.Buf8(e.length),n=0,r=s.length;n<r;n++)s[n]=e.charCodeAt(n);return s};Se.buf2string=function(e,s){var n,r,u,l,c=s||e.length,_=new Array(c*2);for(r=0,n=0;n<c;){if(u=e[n++],u<128){_[r++]=u;continue}if(l=Ti[u],l>4){_[r++]=65533,n+=l-1;continue}for(u&=l===2?31:l===3?15:7;l>1&&n<c;)u=u<<6|e[n++]&63,l--;if(l>1){_[r++]=65533;continue}u<65536?_[r++]=u:(u-=65536,_[r++]=55296|u>>10&1023,_[r++]=56320|u&1023)}return ko(_,r)};Se.utf8border=function(e,s){var n;for(s=s||e.length,s>e.length&&(s=e.length),n=s-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?s:n+Ti[e[n]]>s?n:s};function Dh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var To=Dh,mi=jt,gi=Qt,La=Se,Ea=Fa,Uh=To,Lo=Object.prototype.toString,Hh=0,fa=4,He=0,dr=1,pr=2,Gh=-1,Wh=0,jh=8;function Te(e){if(!(this instanceof Te))return new Te(e);this.options=gi.assign({level:Gh,method:jh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wh,to:""},e||{});var s=this.options;s.raw&&s.windowBits>0?s.windowBits=-s.windowBits:s.gzip&&s.windowBits>0&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uh,this.strm.avail_out=0;var n=mi.deflateInit2(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(n!==He)throw new Error(Ea[n]);if(s.header&&mi.deflateSetHeader(this.strm,s.header),s.dictionary){var r;if(typeof s.dictionary=="string"?r=La.string2buf(s.dictionary):Lo.call(s.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(s.dictionary):r=s.dictionary,n=mi.deflateSetDictionary(this.strm,r),n!==He)throw new Error(Ea[n]);this._dict_set=!0}}Te.prototype.push=function(e,s){var n=this.strm,r=this.options.chunkSize,u,l;if(this.ended)return!1;l=s===~~s?s:s===!0?fa:Hh,typeof e=="string"?n.input=La.string2buf(e):Lo.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new gi.Buf8(r),n.next_out=0,n.avail_out=r),u=mi.deflate(n,l),u!==dr&&u!==He)return this.onEnd(u),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(l===fa||l===pr))&&(this.options.to==="string"?this.onData(La.buf2binstring(gi.shrinkBuf(n.output,n.next_out))):this.onData(gi.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&u!==dr);return l===fa?(u=mi.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===He):(l===pr&&(this.onEnd(He),n.avail_out=0),!0)};Te.prototype.onData=function(e){this.chunks.push(e)};Te.prototype.onEnd=function(e){e===He&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ra(e,s){var n=new Te(s);if(n.push(e,!0),n.err)throw n.msg||Ea[n.err];return n.result}function Vh(e,s){return s=s||{},s.raw=!0,Ra(e,s)}function qh(e,s){return s=s||{},s.gzip=!0,Ra(e,s)}Li.Deflate=Te;Li.deflate=Ra;Li.deflateRaw=Vh;Li.gzip=qh;var Si={},Nt={},Qi=30,$h=12,Kh=function(s,n){var r,u,l,c,_,m,d,p,w,b,x,E,T,I,M,D,N,z,P,U,Z,A,B,q,C;r=s.state,u=s.next_in,q=s.input,l=u+(s.avail_in-5),c=s.next_out,C=s.output,_=c-(n-s.avail_out),m=c+(s.avail_out-257),d=r.dmax,p=r.wsize,w=r.whave,b=r.wnext,x=r.window,E=r.hold,T=r.bits,I=r.lencode,M=r.distcode,D=(1<<r.lenbits)-1,N=(1<<r.distbits)-1;t:do{T<15&&(E+=q[u++]<<T,T+=8,E+=q[u++]<<T,T+=8),z=I[E&D];e:for(;;){if(P=z>>>24,E>>>=P,T-=P,P=z>>>16&255,P===0)C[c++]=z&65535;else if(P&16){U=z&65535,P&=15,P&&(T<P&&(E+=q[u++]<<T,T+=8),U+=E&(1<<P)-1,E>>>=P,T-=P),T<15&&(E+=q[u++]<<T,T+=8,E+=q[u++]<<T,T+=8),z=M[E&N];i:for(;;){if(P=z>>>24,E>>>=P,T-=P,P=z>>>16&255,P&16){if(Z=z&65535,P&=15,T<P&&(E+=q[u++]<<T,T+=8,T<P&&(E+=q[u++]<<T,T+=8)),Z+=E&(1<<P)-1,Z>d){s.msg="invalid distance too far back",r.mode=Qi;break t}if(E>>>=P,T-=P,P=c-_,Z>P){if(P=Z-P,P>w&&r.sane){s.msg="invalid distance too far back",r.mode=Qi;break t}if(A=0,B=x,b===0){if(A+=p-P,P<U){U-=P;do C[c++]=x[A++];while(--P);A=c-Z,B=C}}else if(b<P){if(A+=p+b-P,P-=b,P<U){U-=P;do C[c++]=x[A++];while(--P);if(A=0,b<U){P=b,U-=P;do C[c++]=x[A++];while(--P);A=c-Z,B=C}}}else if(A+=b-P,P<U){U-=P;do C[c++]=x[A++];while(--P);A=c-Z,B=C}for(;U>2;)C[c++]=B[A++],C[c++]=B[A++],C[c++]=B[A++],U-=3;U&&(C[c++]=B[A++],U>1&&(C[c++]=B[A++]))}else{A=c-Z;do C[c++]=C[A++],C[c++]=C[A++],C[c++]=C[A++],U-=3;while(U>2);U&&(C[c++]=C[A++],U>1&&(C[c++]=C[A++]))}}else if((P&64)===0){z=M[(z&65535)+(E&(1<<P)-1)];continue i}else{s.msg="invalid distance code",r.mode=Qi;break t}break}}else if((P&64)===0){z=I[(z&65535)+(E&(1<<P)-1)];continue e}else if(P&32){r.mode=$h;break t}else{s.msg="invalid literal/length code",r.mode=Qi;break t}break}}while(u<l&&c<m);U=T>>3,u-=U,T-=U<<3,E&=(1<<T)-1,s.next_in=u,s.next_out=c,s.avail_in=u<l?5+(l-u):5-(u-l),s.avail_out=c<m?257+(m-c):257-(c-m),r.hold=E,r.bits=T},mr=Qt,Re=15,gr=852,vr=592,yr=0,ha=1,br=2,Yh=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Xh=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Jh=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qh=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],tc=function(s,n,r,u,l,c,_,m){var d=m.bits,p=0,w=0,b=0,x=0,E=0,T=0,I=0,M=0,D=0,N=0,z,P,U,Z,A,B=null,q=0,C,j=new mr.Buf16(Re+1),at=new mr.Buf16(Re+1),yt=null,Ci=0,pt,Zt,R;for(p=0;p<=Re;p++)j[p]=0;for(w=0;w<u;w++)j[n[r+w]]++;for(E=d,x=Re;x>=1&&j[x]===0;x--);if(E>x&&(E=x),x===0)return l[c++]=1<<24|64<<16|0,l[c++]=1<<24|64<<16|0,m.bits=1,0;for(b=1;b<x&&j[b]===0;b++);for(E<b&&(E=b),M=1,p=1;p<=Re;p++)if(M<<=1,M-=j[p],M<0)return-1;if(M>0&&(s===yr||x!==1))return-1;for(at[1]=0,p=1;p<Re;p++)at[p+1]=at[p]+j[p];for(w=0;w<u;w++)n[r+w]!==0&&(_[at[n[r+w]]++]=w);if(s===yr?(B=yt=_,C=19):s===ha?(B=Yh,q-=257,yt=Xh,Ci-=257,C=256):(B=Jh,yt=Qh,C=-1),N=0,w=0,p=b,A=c,T=E,I=0,U=-1,D=1<<E,Z=D-1,s===ha&&D>gr||s===br&&D>vr)return 1;for(;;){pt=p-I,_[w]<C?(Zt=0,R=_[w]):_[w]>C?(Zt=yt[Ci+_[w]],R=B[q+_[w]]):(Zt=32+64,R=0),z=1<<p-I,P=1<<T,b=P;do P-=z,l[A+(N>>I)+P]=pt<<24|Zt<<16|R|0;while(P!==0);for(z=1<<p-1;N&z;)z>>=1;if(z!==0?(N&=z-1,N+=z):N=0,w++,--j[p]===0){if(p===x)break;p=n[r+_[w]]}if(p>E&&(N&Z)!==U){for(I===0&&(I=E),A+=b,T=p-I,M=1<<T;T+I<x&&(M-=j[T+I],!(M<=0));)T++,M<<=1;if(D+=1<<T,s===ha&&D>gr||s===br&&D>vr)return 1;U=N&Z,l[U]=E<<24|T<<16|A-c|0}}return N!==0&&(l[A+N]=p-I<<24|64<<16|0),m.bits=E,0},Lt=Qt,Pa=_o,Ht=po,ec=Kh,vi=tc,ic=0,Eo=1,Po=2,wr=4,nc=5,tn=6,Le=0,ac=1,sc=2,zt=-2,So=-3,Co=-4,rc=-5,xr=8,Mo=1,kr=2,Tr=3,Lr=4,Er=5,Pr=6,Sr=7,Cr=8,Mr=9,zr=10,pn=11,Xt=12,ca=13,Ar=14,_a=15,Or=16,Ir=17,Nr=18,Zr=19,en=20,nn=21,Br=22,Fr=23,Rr=24,Dr=25,Ur=26,da=27,Hr=28,Gr=29,et=30,zo=31,oc=32,lc=852,uc=592,fc=15,hc=fc;function Wr(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function cc(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Lt.Buf16(320),this.work=new Lt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ao(e){var s;return!e||!e.state?zt:(s=e.state,e.total_in=e.total_out=s.total=0,e.msg="",s.wrap&&(e.adler=s.wrap&1),s.mode=Mo,s.last=0,s.havedict=0,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Lt.Buf32(lc),s.distcode=s.distdyn=new Lt.Buf32(uc),s.sane=1,s.back=-1,Le)}function Oo(e){var s;return!e||!e.state?zt:(s=e.state,s.wsize=0,s.whave=0,s.wnext=0,Ao(e))}function Io(e,s){var n,r;return!e||!e.state||(r=e.state,s<0?(n=0,s=-s):(n=(s>>4)+1,s<48&&(s&=15)),s&&(s<8||s>15))?zt:(r.window!==null&&r.wbits!==s&&(r.window=null),r.wrap=n,r.wbits=s,Oo(e))}function No(e,s){var n,r;return e?(r=new cc,e.state=r,r.window=null,n=Io(e,s),n!==Le&&(e.state=null),n):zt}function _c(e){return No(e,hc)}var jr=!0,pa,ma;function dc(e){if(jr){var s;for(pa=new Lt.Buf32(512),ma=new Lt.Buf32(32),s=0;s<144;)e.lens[s++]=8;for(;s<256;)e.lens[s++]=9;for(;s<280;)e.lens[s++]=7;for(;s<288;)e.lens[s++]=8;for(vi(Eo,e.lens,0,288,pa,0,e.work,{bits:9}),s=0;s<32;)e.lens[s++]=5;vi(Po,e.lens,0,32,ma,0,e.work,{bits:5}),jr=!1}e.lencode=pa,e.lenbits=9,e.distcode=ma,e.distbits=5}function Zo(e,s,n,r){var u,l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Lt.Buf8(l.wsize)),r>=l.wsize?(Lt.arraySet(l.window,s,n-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(u=l.wsize-l.wnext,u>r&&(u=r),Lt.arraySet(l.window,s,n-r,u,l.wnext),r-=u,r?(Lt.arraySet(l.window,s,n-r,r,0),l.wnext=r,l.whave=l.wsize):(l.wnext+=u,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=u))),0}function pc(e,s){var n,r,u,l,c,_,m,d,p,w,b,x,E,T,I=0,M,D,N,z,P,U,Z,A,B=new Lt.Buf8(4),q,C,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return zt;n=e.state,n.mode===Xt&&(n.mode=ca),c=e.next_out,u=e.output,m=e.avail_out,l=e.next_in,r=e.input,_=e.avail_in,d=n.hold,p=n.bits,w=_,b=m,A=Le;t:for(;;)switch(n.mode){case Mo:if(n.wrap===0){n.mode=ca;break}for(;p<16;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(n.wrap&2&&d===35615){n.check=0,B[0]=d&255,B[1]=d>>>8&255,n.check=Ht(n.check,B,2,0),d=0,p=0,n.mode=kr;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=et;break}if((d&15)!==xr){e.msg="unknown compression method",n.mode=et;break}if(d>>>=4,p-=4,Z=(d&15)+8,n.wbits===0)n.wbits=Z;else if(Z>n.wbits){e.msg="invalid window size",n.mode=et;break}n.dmax=1<<Z,e.adler=n.check=1,n.mode=d&512?zr:Xt,d=0,p=0;break;case kr:for(;p<16;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(n.flags=d,(n.flags&255)!==xr){e.msg="unknown compression method",n.mode=et;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=et;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&(B[0]=d&255,B[1]=d>>>8&255,n.check=Ht(n.check,B,2,0)),d=0,p=0,n.mode=Tr;case Tr:for(;p<32;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.head&&(n.head.time=d),n.flags&512&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,n.check=Ht(n.check,B,4,0)),d=0,p=0,n.mode=Lr;case Lr:for(;p<16;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&(B[0]=d&255,B[1]=d>>>8&255,n.check=Ht(n.check,B,2,0)),d=0,p=0,n.mode=Er;case Er:if(n.flags&1024){for(;p<16;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&(B[0]=d&255,B[1]=d>>>8&255,n.check=Ht(n.check,B,2,0)),d=0,p=0}else n.head&&(n.head.extra=null);n.mode=Pr;case Pr:if(n.flags&1024&&(x=n.length,x>_&&(x=_),x&&(n.head&&(Z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Lt.arraySet(n.head.extra,r,l,x,Z)),n.flags&512&&(n.check=Ht(n.check,r,x,l)),_-=x,l+=x,n.length-=x),n.length))break t;n.length=0,n.mode=Sr;case Sr:if(n.flags&2048){if(_===0)break t;x=0;do Z=r[l+x++],n.head&&Z&&n.length<65536&&(n.head.name+=String.fromCharCode(Z));while(Z&&x<_);if(n.flags&512&&(n.check=Ht(n.check,r,x,l)),_-=x,l+=x,Z)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Cr;case Cr:if(n.flags&4096){if(_===0)break t;x=0;do Z=r[l+x++],n.head&&Z&&n.length<65536&&(n.head.comment+=String.fromCharCode(Z));while(Z&&x<_);if(n.flags&512&&(n.check=Ht(n.check,r,x,l)),_-=x,l+=x,Z)break t}else n.head&&(n.head.comment=null);n.mode=Mr;case Mr:if(n.flags&512){for(;p<16;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=et;break}d=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Xt;break;case zr:for(;p<32;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}e.adler=n.check=Wr(d),d=0,p=0,n.mode=pn;case pn:if(n.havedict===0)return e.next_out=c,e.avail_out=m,e.next_in=l,e.avail_in=_,n.hold=d,n.bits=p,sc;e.adler=n.check=1,n.mode=Xt;case Xt:if(s===nc||s===tn)break t;case ca:if(n.last){d>>>=p&7,p-=p&7,n.mode=da;break}for(;p<3;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}switch(n.last=d&1,d>>>=1,p-=1,d&3){case 0:n.mode=Ar;break;case 1:if(dc(n),n.mode=en,s===tn){d>>>=2,p-=2;break t}break;case 2:n.mode=Ir;break;case 3:e.msg="invalid block type",n.mode=et}d>>>=2,p-=2;break;case Ar:for(d>>>=p&7,p-=p&7;p<32;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=et;break}if(n.length=d&65535,d=0,p=0,n.mode=_a,s===tn)break t;case _a:n.mode=Or;case Or:if(x=n.length,x){if(x>_&&(x=_),x>m&&(x=m),x===0)break t;Lt.arraySet(u,r,l,x,c),_-=x,l+=x,m-=x,c+=x,n.length-=x;break}n.mode=Xt;break;case Ir:for(;p<14;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(n.nlen=(d&31)+257,d>>>=5,p-=5,n.ndist=(d&31)+1,d>>>=5,p-=5,n.ncode=(d&15)+4,d>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=et;break}n.have=0,n.mode=Nr;case Nr:for(;n.have<n.ncode;){for(;p<3;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.lens[j[n.have++]]=d&7,d>>>=3,p-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},A=vi(ic,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,A){e.msg="invalid code lengths set",n.mode=et;break}n.have=0,n.mode=Zr;case Zr:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[d&(1<<n.lenbits)-1],M=I>>>24,D=I>>>16&255,N=I&65535,!(M<=p);){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(N<16)d>>>=M,p-=M,n.lens[n.have++]=N;else{if(N===16){for(C=M+2;p<C;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(d>>>=M,p-=M,n.have===0){e.msg="invalid bit length repeat",n.mode=et;break}Z=n.lens[n.have-1],x=3+(d&3),d>>>=2,p-=2}else if(N===17){for(C=M+3;p<C;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}d>>>=M,p-=M,Z=0,x=3+(d&7),d>>>=3,p-=3}else{for(C=M+7;p<C;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}d>>>=M,p-=M,Z=0,x=11+(d&127),d>>>=7,p-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=et;break}for(;x--;)n.lens[n.have++]=Z}}if(n.mode===et)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=et;break}if(n.lenbits=9,q={bits:n.lenbits},A=vi(Eo,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,A){e.msg="invalid literal/lengths set",n.mode=et;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},A=vi(Po,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,A){e.msg="invalid distances set",n.mode=et;break}if(n.mode=en,s===tn)break t;case en:n.mode=nn;case nn:if(_>=6&&m>=258){e.next_out=c,e.avail_out=m,e.next_in=l,e.avail_in=_,n.hold=d,n.bits=p,ec(e,b),c=e.next_out,u=e.output,m=e.avail_out,l=e.next_in,r=e.input,_=e.avail_in,d=n.hold,p=n.bits,n.mode===Xt&&(n.back=-1);break}for(n.back=0;I=n.lencode[d&(1<<n.lenbits)-1],M=I>>>24,D=I>>>16&255,N=I&65535,!(M<=p);){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(D&&(D&240)===0){for(z=M,P=D,U=N;I=n.lencode[U+((d&(1<<z+P)-1)>>z)],M=I>>>24,D=I>>>16&255,N=I&65535,!(z+M<=p);){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}d>>>=z,p-=z,n.back+=z}if(d>>>=M,p-=M,n.back+=M,n.length=N,D===0){n.mode=Ur;break}if(D&32){n.back=-1,n.mode=Xt;break}if(D&64){e.msg="invalid literal/length code",n.mode=et;break}n.extra=D&15,n.mode=Br;case Br:if(n.extra){for(C=n.extra;p<C;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Fr;case Fr:for(;I=n.distcode[d&(1<<n.distbits)-1],M=I>>>24,D=I>>>16&255,N=I&65535,!(M<=p);){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if((D&240)===0){for(z=M,P=D,U=N;I=n.distcode[U+((d&(1<<z+P)-1)>>z)],M=I>>>24,D=I>>>16&255,N=I&65535,!(z+M<=p);){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}d>>>=z,p-=z,n.back+=z}if(d>>>=M,p-=M,n.back+=M,D&64){e.msg="invalid distance code",n.mode=et;break}n.offset=N,n.extra=D&15,n.mode=Rr;case Rr:if(n.extra){for(C=n.extra;p<C;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=et;break}n.mode=Dr;case Dr:if(m===0)break t;if(x=b-m,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=et;break}x>n.wnext?(x-=n.wnext,E=n.wsize-x):E=n.wnext-x,x>n.length&&(x=n.length),T=n.window}else T=u,E=c-n.offset,x=n.length;x>m&&(x=m),m-=x,n.length-=x;do u[c++]=T[E++];while(--x);n.length===0&&(n.mode=nn);break;case Ur:if(m===0)break t;u[c++]=n.length,m--,n.mode=nn;break;case da:if(n.wrap){for(;p<32;){if(_===0)break t;_--,d|=r[l++]<<p,p+=8}if(b-=m,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?Ht(n.check,u,b,c-b):Pa(n.check,u,b,c-b)),b=m,(n.flags?d:Wr(d))!==n.check){e.msg="incorrect data check",n.mode=et;break}d=0,p=0}n.mode=Hr;case Hr:if(n.wrap&&n.flags){for(;p<32;){if(_===0)break t;_--,d+=r[l++]<<p,p+=8}if(d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=et;break}d=0,p=0}n.mode=Gr;case Gr:A=ac;break t;case et:A=So;break t;case zo:return Co;case oc:default:return zt}return e.next_out=c,e.avail_out=m,e.next_in=l,e.avail_in=_,n.hold=d,n.bits=p,(n.wsize||b!==e.avail_out&&n.mode<et&&(n.mode<da||s!==wr))&&Zo(e,e.output,e.next_out,b-e.avail_out),w-=e.avail_in,b-=e.avail_out,e.total_in+=w,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?Ht(n.check,u,b,e.next_out-b):Pa(n.check,u,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Xt?128:0)+(n.mode===en||n.mode===_a?256:0),(w===0&&b===0||s===wr)&&A===Le&&(A=rc),A}function mc(e){if(!e||!e.state)return zt;var s=e.state;return s.window&&(s.window=null),e.state=null,Le}function gc(e,s){var n;return!e||!e.state||(n=e.state,(n.wrap&2)===0)?zt:(n.head=s,s.done=!1,Le)}function vc(e,s){var n=s.length,r,u,l;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==pn)?zt:r.mode===pn&&(u=1,u=Pa(u,s,n,0),u!==r.check)?So:(l=Zo(e,s,n,n),l?(r.mode=zo,Co):(r.havedict=1,Le))}Nt.inflateReset=Oo;Nt.inflateReset2=Io;Nt.inflateResetKeep=Ao;Nt.inflateInit=_c;Nt.inflateInit2=No;Nt.inflate=pc;Nt.inflateEnd=mc;Nt.inflateGetHeader=gc;Nt.inflateSetDictionary=vc;Nt.inflateInfo="pako inflate (from Nodeca project)";var Bo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function yc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bc=yc,Ge=Nt,yi=Qt,cn=Se,rt=Bo,Sa=Fa,wc=To,xc=bc,Fo=Object.prototype.toString;function Ee(e){if(!(this instanceof Ee))return new Ee(e);this.options=yi.assign({chunkSize:16384,windowBits:0,to:""},e||{});var s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(e&&e.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15)===0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wc,this.strm.avail_out=0;var n=Ge.inflateInit2(this.strm,s.windowBits);if(n!==rt.Z_OK)throw new Error(Sa[n]);if(this.header=new xc,Ge.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=cn.string2buf(s.dictionary):Fo.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(n=Ge.inflateSetDictionary(this.strm,s.dictionary),n!==rt.Z_OK)))throw new Error(Sa[n])}Ee.prototype.push=function(e,s){var n=this.strm,r=this.options.chunkSize,u=this.options.dictionary,l,c,_,m,d,p=!1;if(this.ended)return!1;c=s===~~s?s:s===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof e=="string"?n.input=cn.binstring2buf(e):Fo.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new yi.Buf8(r),n.next_out=0,n.avail_out=r),l=Ge.inflate(n,rt.Z_NO_FLUSH),l===rt.Z_NEED_DICT&&u&&(l=Ge.inflateSetDictionary(this.strm,u)),l===rt.Z_BUF_ERROR&&p===!0&&(l=rt.Z_OK,p=!1),l!==rt.Z_STREAM_END&&l!==rt.Z_OK)return this.onEnd(l),this.ended=!0,!1;n.next_out&&(n.avail_out===0||l===rt.Z_STREAM_END||n.avail_in===0&&(c===rt.Z_FINISH||c===rt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=cn.utf8border(n.output,n.next_out),m=n.next_out-_,d=cn.buf2string(n.output,_),n.next_out=m,n.avail_out=r-m,m&&yi.arraySet(n.output,n.output,_,m,0),this.onData(d)):this.onData(yi.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(p=!0)}while((n.avail_in>0||n.avail_out===0)&&l!==rt.Z_STREAM_END);return l===rt.Z_STREAM_END&&(c=rt.Z_FINISH),c===rt.Z_FINISH?(l=Ge.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===rt.Z_OK):(c===rt.Z_SYNC_FLUSH&&(this.onEnd(rt.Z_OK),n.avail_out=0),!0)};Ee.prototype.onData=function(e){this.chunks.push(e)};Ee.prototype.onEnd=function(e){e===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Da(e,s){var n=new Ee(s);if(n.push(e,!0),n.err)throw n.msg||Sa[n.err];return n.result}function kc(e,s){return s=s||{},s.raw=!0,Da(e,s)}Si.Inflate=Ee;Si.inflate=Da;Si.inflateRaw=kc;Si.ungzip=Da;var Tc=Qt.assign,Lc=Li,Ec=Si,Pc=Bo,Sc={};Tc(Sc,Lc,Ec,Pc);function Cc(e){const s=[];return(Array.isArray(e.trk)?e.trk:e.trk?[e.trk]:[]).forEach(r=>{(Array.isArray(r.trkseg)?r.trkseg:r.trkseg?[r.trkseg]:[]).forEach(l=>{const c=Array.isArray(l.trkpt)?l.trkpt:l.trkpt?[l.trkpt]:[];s.push({points:c.map(_=>({lat:parseFloat(_["@_lat"]),lng:parseFloat(_["@_lon"])}))})})}),s}function Mc(e){var r;const s=[];return((r=e.Activities)!=null&&r.Activity?Array.isArray(e.Activities.Activity)?e.Activities.Activity:[e.Activities.Activity]:[]).forEach(u=>{(u.Lap?Array.isArray(u.Lap)?u.Lap:[u.Lap]:[]).forEach(c=>{const _=c.Track;if(!_||!_.Trackpoint)return;const m=Array.isArray(_.Trackpoint)?_.Trackpoint:[_.Trackpoint];s.push({points:m.map(d=>{var p,w;return{lat:parseFloat((p=d.Position)==null?void 0:p.LatitudeDegrees),lng:parseFloat((w=d.Position)==null?void 0:w.LongitudeDegrees)}}).filter(d=>d.lat&&d.lng)})})}),s}async function zc(e){/\.gz$/i.test(e.name);const n=e.name.replace(/\.gz$/i,"").split(".").pop().toLowerCase();if(n==="gpx"||n==="tcx"){const r=await e.text(),l=new xf({ignoreAttributes:!1}).parse(r);return l.gpx?Cc(l.gpx):l.TrainingCenterDatabase?Mc(l.TrainingCenterDatabase):[]}if(n==="fit")return await e.arrayBuffer(),[];throw new Error("Unsupported file format")}const hi={Hike:"#bd07ef",Walk:"#f1d205",Run:"#ff0000",Ride:"#ff3a00",Default:"#e8aa0c",SUPER:"#ef8900"};function Ac(e){return new Promise(s=>setTimeout(s,e))}function Oc(e){e.eachLayer(s=>{(s instanceof Tt.Marker||s instanceof Tt.Polyline||s instanceof Tt.CircleMarker)&&e.removeLayer(s)})}function Ic(e){if(e!=null&&e.style)return{color:e.style.color||hi.Default,weight:e.style.weight||1,opacity:e.style.opacity||.5};switch(e.activity_type){case"Hike":case"Walk":return{color:hi.Hike,weight:1,opacity:.5};case"Run":return{color:hi.Run,weight:1,opacity:.5};case"Ride":return{color:hi.Ride,weight:1,opacity:.5};default:return{color:hi.Default,weight:1,opacity:.5}}}async function Nc(e,s){try{const r=await(await fetch(s.path)).blob();r.name=s.path.split("/").pop(),(await zc(r)).forEach(l=>{const c=Ic(s);Tt.polyline(l.points,c).addTo(e)})}catch(n){console.error("Track parse error:",n),console.log(s)}}function Zc(e,s,n){try{const r=s.lat,u=s.lng;if(r&&u){const l={color:"#00FF00",weight:3,radius:5,opacity:.5};Tt.circleMarker([r,u],l).on("click",()=>{n&&n(s.path)}).addTo(e)}}catch(r){console.error("Image geolocation error:",r)}}async function Bc(e,s,n){s.type==="track"?await Nc(e,s):s.type==="image"?Zc(e,s,n):s.type==="pause"?await Ac(s.seconds*1e3):s.type==="map"&&e.flyTo(s.center,s.zoom,{animate:!0,duration:s.duration})}async function Fc(e,s="/files/kharkiv.json",n){try{Oc(e);const u=await(await fetch(s)).json();if(u.timeline&&Array.isArray(u.timeline))for(const l of u.timeline)await Bc(e,l,n)}catch(r){console.error("Error playing story:",r)}}const Rc={class:"popup-content"},Dc={__name:"AppPopup",setup(e,{expose:s}){const n=ci(!1);function r(){n.value=!0}function u(){n.value=!1}return s({open:r,close:u,visible:n}),(l,c)=>n.value?(di(),an("div",{key:0,class:"popup-overlay",onClick:fu(u,["self"])},[re("div",Rc,[uu(l.$slots,"default"),re("button",{class:"close-btn",onClick:u},"Close")])])):Vr("",!0)}};const Uc={class:"map-container"},Hc={class:"map-controls"},Gc=["value"],Wc=["src","alt"],jc={__name:"SportMap",setup(e){const s={Kharkiv:[49.9935,36.2304],Kyiv:[50.4501,30.5234],Odesa:[46.4825,30.7233],Cherkasy:[49.4444,32.0598],Mukachevo:[48.4392,22.7182],Budapest:[47.4979,19.0402],Bucharest:[44.4268,26.1025],Varna:[43.2141,27.9147],Sofia:[42.6977,23.3219]},n=ci("Kharkiv"),r=ci(null),u=ci(null),l=ci(null),c=async()=>{if(!r.value)return;const d=`/files/${n.value.toLowerCase()}.json`;await Fc(r.value,d,m)},_=()=>{!r.value||r.value.eachLayer(d=>{(d instanceof Tt.Marker||d instanceof Tt.Polyline||d instanceof Tt.CircleMarker)&&r.value.removeLayer(d)})};function m(d){u.value=d,l.value.open()}return hu(async()=>{const d=Tt.map("map",{center:[34.0522,-118.243],zoom:10,preferCanvas:!0,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}});r.value=d,Tt.tileLayer.provider("CartoDB.DarkMatter").addTo(d),Tt.easyButton("fa-camera",()=>{window.alert("Export as PNG not implemented")},"Export as PNG").addTo(d),Tt.easyButton("fa-filter",()=>{window.alert("Filter tracks not implemented")},"Filter tracks").addTo(d),Tt.easyButton("fa-expand",()=>{d.toggleFullscreen()},"Toggle fullscreen").addTo(d)}),(d,p)=>(di(),an("div",Uc,[re("div",Hc,[cu(re("select",{"onUpdate:modelValue":p[0]||(p[0]=w=>n.value=w),class:"city-select"},[(di(),an(du,null,pu(s,(w,b)=>re("option",{key:b,value:b},mu(b),9,Gc)),64))],512),[[_u,n.value]]),re("button",{class:"story-button",onClick:c},"Show Story"),re("button",{class:"clear-button",onClick:_},"Clear Map")]),p[1]||(p[1]=re("div",{id:"map",style:{height:"500px"}},null,-1)),gu(Dc,{ref_key:"popupRef",ref:l},{default:vu(()=>[u.value?(di(),an("img",{key:0,src:u.value,style:{"max-width":"90vw","max-height":"80vh"},alt:"Activity image for "+n.value},null,8,Wc)):Vr("",!0)]),_:1},512)]))}},qc=yu({__name:"SportView",setup(e){return(s,n)=>(di(),bu(jc))}});export{qc as default};
